(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function sN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kg={exports:{}},Qc={};var X_;function rN(){if(X_)return Qc;X_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var m in a)m!=="key"&&(l[m]=a[m])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Qc.Fragment=e,Qc.jsx=t,Qc.jsxs=t,Qc}var J_;function iN(){return J_||(J_=1,Kg.exports=rN()),Kg.exports}var h=iN(),Qg={exports:{}},Pe={};var Z_;function aN(){if(Z_)return Pe;Z_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function I(q){return q===null||typeof q!="object"?null:(q=w&&q[w]||q["@@iterator"],typeof q=="function"?q:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,P={};function B(q,oe,me){this.props=q,this.context=oe,this.refs=P,this.updater=me||O}B.prototype.isReactComponent={},B.prototype.setState=function(q,oe){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,oe,"setState")},B.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function H(){}H.prototype=B.prototype;function $(q,oe,me){this.props=q,this.context=oe,this.refs=P,this.updater=me||O}var ae=$.prototype=new H;ae.constructor=$,D(ae,B.prototype),ae.isPureReactComponent=!0;var se=Array.isArray;function z(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(q,oe,me){var ve=me.ref;return{$$typeof:n,type:q,key:oe,ref:ve!==void 0?ve:null,props:me}}function U(q,oe){return R(q.type,oe,q.props)}function j(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function M(q){var oe={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(me){return oe[me]})}var k=/\/+/g;function Te(q,oe){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):oe.toString(36)}function Me(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(z,z):(q.status="pending",q.then(function(oe){q.status==="pending"&&(q.status="fulfilled",q.value=oe)},function(oe){q.status==="pending"&&(q.status="rejected",q.reason=oe)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function J(q,oe,me,ve,Re){var je=typeof q;(je==="undefined"||je==="boolean")&&(q=null);var Be=!1;if(q===null)Be=!0;else switch(je){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(q.$$typeof){case n:case e:Be=!0;break;case v:return Be=q._init,J(Be(q._payload),oe,me,ve,Re)}}if(Be)return Re=Re(q),Be=ve===""?"."+Te(q,0):ve,se(Re)?(me="",Be!=null&&(me=Be.replace(k,"$&/")+"/"),J(Re,oe,me,"",function(Is){return Is})):Re!=null&&(j(Re)&&(Re=U(Re,me+(Re.key==null||q&&q.key===Re.key?"":(""+Re.key).replace(k,"$&/")+"/")+Be)),oe.push(Re)),1;Be=0;var Dt=ve===""?".":ve+":";if(se(q))for(var ft=0;ft<q.length;ft++)ve=q[ft],je=Dt+Te(ve,ft),Be+=J(ve,oe,me,je,Re);else if(ft=I(q),typeof ft=="function")for(q=ft.call(q),ft=0;!(ve=q.next()).done;)ve=ve.value,je=Dt+Te(ve,ft++),Be+=J(ve,oe,me,je,Re);else if(je==="object"){if(typeof q.then=="function")return J(Me(q),oe,me,ve,Re);throw oe=String(q),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Be}function he(q,oe,me){if(q==null)return q;var ve=[],Re=0;return J(q,ve,"","",function(je){return oe.call(me,je,Re++)}),ve}function _e(q){if(q._status===-1){var oe=q._result;oe=oe(),oe.then(function(me){(q._status===0||q._status===-1)&&(q._status=1,q._result=me)},function(me){(q._status===0||q._status===-1)&&(q._status=2,q._result=me)}),q._status===-1&&(q._status=0,q._result=oe)}if(q._status===1)return q._result.default;throw q._result}var Ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Ge={map:he,forEach:function(q,oe,me){he(q,function(){oe.apply(this,arguments)},me)},count:function(q){var oe=0;return he(q,function(){oe++}),oe},toArray:function(q){return he(q,function(oe){return oe})||[]},only:function(q){if(!j(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Pe.Activity=x,Pe.Children=Ge,Pe.Component=B,Pe.Fragment=t,Pe.Profiler=a,Pe.PureComponent=$,Pe.StrictMode=r,Pe.Suspense=y,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return C.H.useMemoCache(q)}},Pe.cache=function(q){return function(){return q.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(q,oe,me){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=D({},q.props),Re=q.key;if(oe!=null)for(je in oe.key!==void 0&&(Re=""+oe.key),oe)!S.call(oe,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&oe.ref===void 0||(ve[je]=oe[je]);var je=arguments.length-2;if(je===1)ve.children=me;else if(1<je){for(var Be=Array(je),Dt=0;Dt<je;Dt++)Be[Dt]=arguments[Dt+2];ve.children=Be}return R(q.type,Re,ve)},Pe.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Pe.createElement=function(q,oe,me){var ve,Re={},je=null;if(oe!=null)for(ve in oe.key!==void 0&&(je=""+oe.key),oe)S.call(oe,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Re[ve]=oe[ve]);var Be=arguments.length-2;if(Be===1)Re.children=me;else if(1<Be){for(var Dt=Array(Be),ft=0;ft<Be;ft++)Dt[ft]=arguments[ft+2];Re.children=Dt}if(q&&q.defaultProps)for(ve in Be=q.defaultProps,Be)Re[ve]===void 0&&(Re[ve]=Be[ve]);return R(q,je,Re)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(q){return{$$typeof:m,render:q}},Pe.isValidElement=j,Pe.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:_e}},Pe.memo=function(q,oe){return{$$typeof:g,type:q,compare:oe===void 0?null:oe}},Pe.startTransition=function(q){var oe=C.T,me={};C.T=me;try{var ve=q(),Re=C.S;Re!==null&&Re(me,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(z,Ue)}catch(je){Ue(je)}finally{oe!==null&&me.types!==null&&(oe.types=me.types),C.T=oe}},Pe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Pe.use=function(q){return C.H.use(q)},Pe.useActionState=function(q,oe,me){return C.H.useActionState(q,oe,me)},Pe.useCallback=function(q,oe){return C.H.useCallback(q,oe)},Pe.useContext=function(q){return C.H.useContext(q)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(q,oe){return C.H.useDeferredValue(q,oe)},Pe.useEffect=function(q,oe){return C.H.useEffect(q,oe)},Pe.useEffectEvent=function(q){return C.H.useEffectEvent(q)},Pe.useId=function(){return C.H.useId()},Pe.useImperativeHandle=function(q,oe,me){return C.H.useImperativeHandle(q,oe,me)},Pe.useInsertionEffect=function(q,oe){return C.H.useInsertionEffect(q,oe)},Pe.useLayoutEffect=function(q,oe){return C.H.useLayoutEffect(q,oe)},Pe.useMemo=function(q,oe){return C.H.useMemo(q,oe)},Pe.useOptimistic=function(q,oe){return C.H.useOptimistic(q,oe)},Pe.useReducer=function(q,oe,me){return C.H.useReducer(q,oe,me)},Pe.useRef=function(q){return C.H.useRef(q)},Pe.useState=function(q){return C.H.useState(q)},Pe.useSyncExternalStore=function(q,oe,me){return C.H.useSyncExternalStore(q,oe,me)},Pe.useTransition=function(){return C.H.useTransition()},Pe.version="19.2.0",Pe}var ex;function Zp(){return ex||(ex=1,Qg.exports=aN()),Qg.exports}var N=Zp();const Fe=sN(N);var Wg={exports:{}},Wc={},Xg={exports:{}},Jg={};var tx;function oN(){return tx||(tx=1,(function(n){function e(J,he){var _e=J.length;J.push(he);e:for(;0<_e;){var Ue=_e-1>>>1,Ge=J[Ue];if(0<a(Ge,he))J[Ue]=he,J[_e]=Ge,_e=Ue;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var he=J[0],_e=J.pop();if(_e!==he){J[0]=_e;e:for(var Ue=0,Ge=J.length,q=Ge>>>1;Ue<q;){var oe=2*(Ue+1)-1,me=J[oe],ve=oe+1,Re=J[ve];if(0>a(me,_e))ve<Ge&&0>a(Re,me)?(J[Ue]=Re,J[ve]=_e,Ue=ve):(J[Ue]=me,J[oe]=_e,Ue=oe);else if(ve<Ge&&0>a(Re,_e))J[Ue]=Re,J[ve]=_e,Ue=ve;else break e}}return he}function a(J,he){var _e=J.sortIndex-he.sortIndex;return _e!==0?_e:J.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();n.unstable_now=function(){return u.now()-m}}var y=[],g=[],v=1,x=null,w=3,I=!1,O=!1,D=!1,P=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ae(J){for(var he=t(g);he!==null;){if(he.callback===null)r(g);else if(he.startTime<=J)r(g),he.sortIndex=he.expirationTime,e(y,he);else break;he=t(g)}}function se(J){if(D=!1,ae(J),!O)if(t(y)!==null)O=!0,z||(z=!0,M());else{var he=t(g);he!==null&&Me(se,he.startTime-J)}}var z=!1,C=-1,S=5,R=-1;function U(){return P?!0:!(n.unstable_now()-R<S)}function j(){if(P=!1,z){var J=n.unstable_now();R=J;var he=!0;try{e:{O=!1,D&&(D=!1,H(C),C=-1),I=!0;var _e=w;try{t:{for(ae(J),x=t(y);x!==null&&!(x.expirationTime>J&&U());){var Ue=x.callback;if(typeof Ue=="function"){x.callback=null,w=x.priorityLevel;var Ge=Ue(x.expirationTime<=J);if(J=n.unstable_now(),typeof Ge=="function"){x.callback=Ge,ae(J),he=!0;break t}x===t(y)&&r(y),ae(J)}else r(y);x=t(y)}if(x!==null)he=!0;else{var q=t(g);q!==null&&Me(se,q.startTime-J),he=!1}}break e}finally{x=null,w=_e,I=!1}he=void 0}}finally{he?M():z=!1}}}var M;if(typeof $=="function")M=function(){$(j)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Te=k.port2;k.port1.onmessage=j,M=function(){Te.postMessage(null)}}else M=function(){B(j,0)};function Me(J,he){C=B(function(){J(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(J){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var _e=w;w=he;try{return J()}finally{w=_e}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(J,he){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _e=w;w=J;try{return he()}finally{w=_e}},n.unstable_scheduleCallback=function(J,he,_e){var Ue=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ue+_e:Ue):_e=Ue,J){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=_e+Ge,J={id:v++,callback:he,priorityLevel:J,startTime:_e,expirationTime:Ge,sortIndex:-1},_e>Ue?(J.sortIndex=_e,e(g,J),t(y)===null&&J===t(g)&&(D?(H(C),C=-1):D=!0,Me(se,_e-Ue))):(J.sortIndex=Ge,e(y,J),O||I||(O=!0,z||(z=!0,M()))),J},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(J){var he=w;return function(){var _e=w;w=he;try{return J.apply(this,arguments)}finally{w=_e}}}})(Jg)),Jg}var nx;function lN(){return nx||(nx=1,Xg.exports=oN()),Xg.exports}var Zg={exports:{}},wn={};var sx;function cN(){if(sx)return wn;sx=1;var n=Zp();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(y,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:y,containerInfo:g,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(y,g,null,v)},wn.flushSync=function(y){var g=u.T,v=r.p;try{if(u.T=null,r.p=2,y)return y()}finally{u.T=g,r.p=v,r.d.f()}},wn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},wn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},wn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,x=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:I}):v==="script"&&r.d.X(y,{crossOrigin:x,integrity:w,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},wn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=m(v,g.crossOrigin);r.d.L(y,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wn.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},wn.requestFormReset=function(y){r.d.r(y)},wn.unstable_batchedUpdates=function(y,g){return y(g)},wn.useFormState=function(y,g,v){return u.H.useFormState(y,g,v)},wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},wn.version="19.2.0",wn}var rx;function uN(){if(rx)return Zg.exports;rx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zg.exports=cN(),Zg.exports}var ix;function dN(){if(ix)return Wc;ix=1;var n=lN(),e=Zp(),t=uN();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function m(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function y(s){if(l(s)!==s)throw Error(r(188))}function g(s){var i=s.alternate;if(!i){if(i=l(s),i===null)throw Error(r(188));return i!==s?null:s}for(var o=s,c=i;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return y(f),s;if(p===c)return y(f),i;p=p.sibling}throw Error(r(188))}if(o.return!==c.return)o=f,c=p;else{for(var _=!1,T=f.child;T;){if(T===o){_=!0,o=f,c=p;break}if(T===c){_=!0,c=f,o=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===o){_=!0,o=p,c=f;break}if(T===c){_=!0,c=p,o=f;break}T=T.sibling}if(!_)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function M(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Te(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case B:return"Profiler";case P:return"StrictMode";case se:return"Suspense";case z:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case O:return"Portal";case $:return s.displayName||"Context";case H:return(s._context.displayName||"Context")+".Consumer";case ae:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return i=s.displayName||null,i!==null?i:Te(s.type)||"Memo";case S:i=s._payload,s=s._init;try{return Te(s(i))}catch{}}return null}var Me=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function q(s){return{current:s}}function oe(s){0>Ge||(s.current=Ue[Ge],Ue[Ge]=null,Ge--)}function me(s,i){Ge++,Ue[Ge]=s.current,s.current=i}var ve=q(null),Re=q(null),je=q(null),Be=q(null);function Dt(s,i){switch(me(je,i),me(Re,s),me(ve,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?__(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=__(i),s=x_(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}oe(ve),me(ve,s)}function ft(){oe(ve),oe(Re),oe(je)}function Is(s){s.memoizedState!==null&&me(Be,s);var i=ve.current,o=x_(i,s.type);i!==o&&(me(Re,s),me(ve,o))}function _i(s){Re.current===s&&(oe(ve),oe(Re)),Be.current===s&&(oe(Be),Gc._currentValue=_e)}var Pr,xi;function Wn(s){if(Pr===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Pr=i&&i[1]||"",xi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+s+xi}var Ei=!1;function jr(s,i){if(!s||Ei)return"";Ei=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var X=ee}Reflect.construct(s,[],le)}else{try{le.call()}catch(ee){X=ee}s.call(le.prototype)}}else{try{throw Error()}catch(ee){X=ee}(le=s())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),_=p[0],T=p[1];if(_&&T){var V=_.split(`
`),W=T.split(`
`);for(f=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(c===V.length||f===W.length)for(c=V.length-1,f=W.length-1;1<=c&&0<=f&&V[c]!==W[f];)f--;for(;1<=c&&0<=f;c--,f--)if(V[c]!==W[f]){if(c!==1||f!==1)do if(c--,f--,0>f||V[c]!==W[f]){var ne=`
`+V[c].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=c&&0<=f);break}}}finally{Ei=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Wn(o):""}function Aa(s,i){switch(s.tag){case 26:case 27:case 5:return Wn(s.type);case 16:return Wn("Lazy");case 13:return s.child!==i&&i!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return jr(s.type,!1);case 11:return jr(s.type.render,!1);case 1:return jr(s.type,!0);case 31:return Wn("Activity");default:return""}}function wo(s){try{var i="",o=null;do i+=Aa(s,o),o=s,s=s.return;while(s);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Nt=Object.prototype.hasOwnProperty,L=n.unstable_scheduleCallback,K=n.unstable_cancelCallback,te=n.unstable_shouldYield,pe=n.unstable_requestPaint,ue=n.unstable_now,de=n.unstable_getCurrentPriorityLevel,we=n.unstable_ImmediatePriority,Xe=n.unstable_UserBlockingPriority,Je=n.unstable_NormalPriority,En=n.unstable_LowPriority,Mr=n.unstable_IdlePriority,Xn=n.log,To=n.unstable_setDisableYieldValue,Rn=null,zt=null;function Ln(s){if(typeof Xn=="function"&&To(s),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Rn,s)}catch{}}var Tt=Math.clz32?Math.clz32:Ku,So=Math.log,Lr=Math.LN2;function Ku(s){return s>>>=0,s===0?32:31-(So(s)/Lr|0)|0}var er=256,Ca=262144,Gt=4194304;function tr(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function nr(s,i,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,p=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var T=c&134217727;return T!==0?(c=T&~p,c!==0?f=tr(c):(_&=T,_!==0?f=tr(_):o||(o=T&~s,o!==0&&(f=tr(o))))):(T=c&~p,T!==0?f=tr(T):_!==0?f=tr(_):o||(o=c&~s,o!==0&&(f=tr(o)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:f}function Ds(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Jf(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var s=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),s}function sr(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function Na(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Zf(s,i,o,c,f,p){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var T=s.entanglements,V=s.expirationTimes,W=s.hiddenUpdates;for(o=_&~o;0<o;){var ne=31-Tt(o),le=1<<ne;T[ne]=0,V[ne]=-1;var X=W[ne];if(X!==null)for(W[ne]=null,ne=0;ne<X.length;ne++){var ee=X[ne];ee!==null&&(ee.lane&=-536870913)}o&=~le}c!==0&&Ra(s,c,0),p!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=p&~(_&~i))}function Ra(s,i,o){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-Tt(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function Wl(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var c=31-Tt(o),f=1<<c;f&i|s[c]&i&&(s[c]|=i),o&=~f}}function Xl(s,i){var o=i&-i;return o=(o&42)!==0?1:ka(o),(o&(s.suspendedLanes|i))!==0?0:o}function ka(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Vr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Wu(){var s=he.p;return s!==0?s:(s=window.event,s===void 0?32:H_(s.type))}function Os(s,i){var o=he.p;try{return he.p=s,i()}finally{he.p=o}}var Ps=Math.random().toString(36).slice(2),$t="__reactFiber$"+Ps,ln="__reactProps$"+Ps,rr="__reactContainer$"+Ps,Ao="__reactEvents$"+Ps,em="__reactListeners$"+Ps,Xu="__reactHandles$"+Ps,Ju="__reactResources$"+Ps,ir="__reactMarker$"+Ps;function Co(s){delete s[$t],delete s[ln],delete s[Ao],delete s[em],delete s[Xu]}function ar(s){var i=s[$t];if(i)return i;for(var o=s.parentNode;o;){if(i=o[rr]||o[$t]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=N_(s);s!==null;){if(o=s[$t])return o;s=N_(s)}return i}s=o,o=s.parentNode}return null}function gs(s){if(s=s[$t]||s[rr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Jn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function or(s){var i=s[Ju];return i||(i=s[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Yt(s){s[ir]=!0}var Jl=new Set,Zl={};function lr(s,i){cr(s,i),cr(s+"Capture",i)}function cr(s,i){for(Zl[s]=i,s=0;s<i.length;s++)Jl.add(i[s])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},nc={};function Zu(s){return Nt.call(nc,s)?!0:Nt.call(tc,s)?!1:ec.test(s)?nc[s]=!0:(tc[s]=!0,!1)}function No(s,i,o){if(Zu(i))if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+o)}}function Zn(s,i,o){if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+o)}}function Kt(s,i,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(i,o,""+c)}}function cn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function wi(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sc(s,i,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,p.call(this,_)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function lt(s){if(!s._valueTracker){var i=wi(s)?"checked":"value";s._valueTracker=sc(s,i,""+s[i])}}function Ia(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return s&&(c=wi(s)?s.checked?"true":"false":s.value),s=c,s!==o?(i.setValue(s),!0):!1}function ur(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Da=/[\n"\\]/g;function Vn(s){return s.replace(Da,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ro(s,i,o,c,f,p,_,T){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),i!=null?_==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+cn(i)):s.value!==""+cn(i)&&(s.value=""+cn(i)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),i!=null?rc(s,_,cn(i)):o!=null?rc(s,_,cn(o)):c!=null&&s.removeAttribute("value"),f==null&&p!=null&&(s.defaultChecked=!!p),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+cn(T):s.removeAttribute("name")}function ed(s,i,o,c,f,p,_,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){lt(s);return}o=o!=null?""+cn(o):"",i=i!=null?""+cn(i):o,T||i===s.value||(s.value=i),s.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=T?s.checked:!!c,s.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),lt(s)}function rc(s,i,o){i==="number"&&ur(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Ti(s,i,o,c){if(s=s.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<s.length;o++)f=i.hasOwnProperty("$"+s[o].value),s[o].selected!==f&&(s[o].selected=f),f&&c&&(s[o].defaultSelected=!0)}else{for(o=""+cn(o),i=null,f=0;f<s.length;f++){if(s[f].value===o){s[f].selected=!0,c&&(s[f].defaultSelected=!0);return}i!==null||s[f].disabled||(i=s[f])}i!==null&&(i.selected=!0)}}function td(s,i,o){if(i!=null&&(i=""+cn(i),i!==s.value&&(s.value=i),o==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=o!=null?""+cn(o):""}function Si(s,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(Me(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=cn(i),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),lt(s)}function Un(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var nd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(s,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,o):typeof o!="number"||o===0||nd.has(i)?i==="float"?s.cssFloat=o:s[i]=(""+o).trim():s[i]=o+"px"}function ac(s,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&o[f]!==c&&ic(s,f,c)}else for(var p in i)i.hasOwnProperty(p)&&ic(s,p,i[p])}function ko(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ai=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(s){return Ai.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function js(){}var oc=null;function ps(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ci=null,dr=null;function Oa(s){var i=gs(s);if(i&&(s=i.stateNode)){var o=s[ln]||null;e:switch(s=i.stateNode,i.type){case"input":if(Ro(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==s&&c.form===s.form){var f=c[ln]||null;if(!f)throw Error(r(90));Ro(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===s.form&&Ia(c)}break e;case"textarea":td(s,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Ti(s,!!o.multiple,i,!1)}}}var Do=!1;function Ni(s,i,o){if(Do)return s(i,o);Do=!0;try{var c=s(i);return c}finally{if(Do=!1,(Ci!==null||dr!==null)&&(Wd(),Ci&&(i=Ci,s=dr,dr=Ci=null,Oa(i),s)))for(i=0;i<s.length;i++)Oa(s[i])}}function Ms(s,i){var o=s.stateNode;if(o===null)return null;var c=o[ln]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=!1;if(ys)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Pa=!1}var hr=null,lc=null,ja=null;function cc(){if(ja)return ja;var s,i=lc,o=i.length,c,f="value"in hr?hr.value:hr.textContent,p=f.length;for(s=0;s<o&&i[s]===f[s];s++);var _=o-s;for(c=1;c<=_&&i[o-c]===f[p-c];c++);return ja=f.slice(s,1<c?1-c:void 0)}function Ma(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ur(){return!0}function Ls(){return!1}function fn(s){function i(o,c,f,p,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(o=s[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ur:Ls,this.isPropagationStopped=Ls,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),i}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=fn(zr),Ri=x({},zr,{view:0,detail:0}),uc=fn(Ri),ki,Oo,mr,Po=x({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ii,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==mr&&(mr&&s.type==="mousemove"?(ki=s.screenX-mr.screenX,Oo=s.screenY-mr.screenY):Oo=ki=0,mr=s),ki)},movementY:function(s){return"movementY"in s?s.movementY:Oo}}),dc=fn(Po),La=x({},Po,{dataTransfer:0}),rd=fn(La),id=x({},Ri,{relatedTarget:0}),Va=fn(id),hc=x({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),ad=fn(hc),jo=x({},zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),od=fn(jo),ld=x({},zr,{data:0}),gr=fn(ld),cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=dd[s])?!!i[s]:!1}function Ii(){return hd}var kn=x({},Ri,{key:function(s){if(s.key){var i=cd[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ma(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ud[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ii,charCode:function(s){return s.type==="keypress"?Ma(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ma(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fd=fn(kn),md=x({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fr=fn(md),d=x({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ii}),b=fn(d),E=x({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=fn(E),Y=x({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=fn(Y),fe=x({},zr,{newState:0,oldState:0}),Le=fn(fe),Ft=[9,13,27,32],at=ys&&"CompositionEvent"in window,St=null;ys&&"documentMode"in document&&(St=document.documentMode);var vs=ys&&"TextEvent"in window&&!St,pr=ys&&(!at||St&&8<St&&11>=St),Vs=" ",Us=!1;function Ua(s,i){switch(s){case"keyup":return Ft.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lo=!1;function C1(s,i){switch(s){case"compositionend":return Mo(i);case"keypress":return i.which!==32?null:(Us=!0,Vs);case"textInput":return s=i.data,s===Vs&&Us?null:s;default:return null}}function N1(s,i){if(Lo)return s==="compositionend"||!at&&Ua(s,i)?(s=cc(),ja=lc=hr=null,Lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pr&&i.locale!=="ko"?null:i.data;default:return null}}var R1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!R1[s.type]:i==="textarea"}function Dv(s,i,o,c){Ci?dr?dr.push(c):dr=[c]:Ci=c,i=sh(i,"onChange"),0<i.length&&(o=new fr("onChange","change",null,o,c),s.push({event:o,listeners:i}))}var fc=null,mc=null;function k1(s){m_(s,0)}function gd(s){var i=Jn(s);if(Ia(i))return s}function Ov(s,i){if(s==="change")return i}var Pv=!1;if(ys){var tm;if(ys){var nm="oninput"in document;if(!nm){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),nm=typeof jv.oninput=="function"}tm=nm}else tm=!1;Pv=tm&&(!document.documentMode||9<document.documentMode)}function Mv(){fc&&(fc.detachEvent("onpropertychange",Lv),mc=fc=null)}function Lv(s){if(s.propertyName==="value"&&gd(mc)){var i=[];Dv(i,mc,s,ps(s)),Ni(k1,i)}}function I1(s,i,o){s==="focusin"?(Mv(),fc=i,mc=o,fc.attachEvent("onpropertychange",Lv)):s==="focusout"&&Mv()}function D1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gd(mc)}function O1(s,i){if(s==="click")return gd(i)}function P1(s,i){if(s==="input"||s==="change")return gd(i)}function j1(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var es=typeof Object.is=="function"?Object.is:j1;function gc(s,i){if(es(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Nt.call(i,f)||!es(s[f],i[f]))return!1}return!0}function Vv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Uv(s,i){var o=Vv(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=i&&c>=i)return{node:o,offset:i-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vv(o)}}function zv(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?zv(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Fv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=ur(s.document);i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=ur(s.document)}return i}function sm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var M1=ys&&"documentMode"in document&&11>=document.documentMode,Vo=null,rm=null,pc=null,im=!1;function Bv(s,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;im||Vo==null||Vo!==ur(c)||(c=Vo,"selectionStart"in c&&sm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),pc&&gc(pc,c)||(pc=c,c=sh(rm,"onSelect"),0<c.length&&(i=new fr("onSelect","select",null,i,o),s.push({event:i,listeners:c}),i.target=Vo)))}function za(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var Uo={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},am={},qv={};ys&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Fa(s){if(am[s])return am[s];if(!Uo[s])return s;var i=Uo[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in qv)return am[s]=i[o];return s}var Hv=Fa("animationend"),Gv=Fa("animationiteration"),$v=Fa("animationstart"),L1=Fa("transitionrun"),V1=Fa("transitionstart"),U1=Fa("transitioncancel"),Yv=Fa("transitionend"),Kv=new Map,om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");om.push("scrollEnd");function zs(s,i){Kv.set(s,i),lr(i,[s])}var pd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},bs=[],zo=0,lm=0;function yd(){for(var s=zo,i=lm=zo=0;i<s;){var o=bs[i];bs[i++]=null;var c=bs[i];bs[i++]=null;var f=bs[i];bs[i++]=null;var p=bs[i];if(bs[i++]=null,c!==null&&f!==null){var _=c.pending;_===null?f.next=f:(f.next=_.next,_.next=f),c.pending=f}p!==0&&Qv(o,f,p)}}function vd(s,i,o,c){bs[zo++]=s,bs[zo++]=i,bs[zo++]=o,bs[zo++]=c,lm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function cm(s,i,o,c){return vd(s,i,o,c),bd(s)}function Ba(s,i){return vd(s,null,null,i),bd(s)}function Qv(s,i,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=s.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(f=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,f&&i!==null&&(f=31-Tt(o),s=p.hiddenUpdates,c=s[f],c===null?s[f]=[i]:c.push(i),i.lane=o|536870912),p):null}function bd(s){if(50<Vc)throw Vc=0,vg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Fo={};function z1(s,i,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(s,i,o,c){return new z1(s,i,o,c)}function um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Br(s,i){var o=s.alternate;return o===null?(o=ts(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Wv(s,i){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function _d(s,i,o,c,f,p){var _=0;if(c=s,typeof s=="function")um(s)&&(_=1);else if(typeof s=="string")_=GC(s,o,ve.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=ts(31,o,i,f),s.elementType=R,s.lanes=p,s;case D:return qa(o.children,f,p,i);case P:_=8,f|=24;break;case B:return s=ts(12,o,i,f|2),s.elementType=B,s.lanes=p,s;case se:return s=ts(13,o,i,f),s.elementType=se,s.lanes=p,s;case z:return s=ts(19,o,i,f),s.elementType=z,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:_=10;break e;case H:_=9;break e;case ae:_=11;break e;case C:_=14;break e;case S:_=16,c=null;break e}_=29,o=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=ts(_,o,i,f),i.elementType=s,i.type=c,i.lanes=p,i}function qa(s,i,o,c){return s=ts(7,s,c,i),s.lanes=o,s}function dm(s,i,o){return s=ts(6,s,null,i),s.lanes=o,s}function Xv(s){var i=ts(18,null,null,0);return i.stateNode=s,i}function hm(s,i,o){return i=ts(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Jv=new WeakMap;function _s(s,i){if(typeof s=="object"&&s!==null){var o=Jv.get(s);return o!==void 0?o:(i={value:s,source:i,stack:wo(i)},Jv.set(s,i),i)}return{value:s,source:i,stack:wo(i)}}var Bo=[],qo=0,xd=null,yc=0,xs=[],Es=0,Di=null,yr=1,vr="";function qr(s,i){Bo[qo++]=yc,Bo[qo++]=xd,xd=s,yc=i}function Zv(s,i,o){xs[Es++]=yr,xs[Es++]=vr,xs[Es++]=Di,Di=s;var c=yr;s=vr;var f=32-Tt(c)-1;c&=~(1<<f),o+=1;var p=32-Tt(i)+f;if(30<p){var _=f-f%5;p=(c&(1<<_)-1).toString(32),c>>=_,f-=_,yr=1<<32-Tt(i)+f|o<<f|c,vr=p+s}else yr=1<<p|o<<f|c,vr=s}function fm(s){s.return!==null&&(qr(s,1),Zv(s,1,0))}function mm(s){for(;s===xd;)xd=Bo[--qo],Bo[qo]=null,yc=Bo[--qo],Bo[qo]=null;for(;s===Di;)Di=xs[--Es],xs[Es]=null,vr=xs[--Es],xs[Es]=null,yr=xs[--Es],xs[Es]=null}function eb(s,i){xs[Es++]=yr,xs[Es++]=vr,xs[Es++]=Di,yr=i.id,vr=i.overflow,Di=s}var mn=null,Et=null,Ze=!1,Oi=null,ws=!1,gm=Error(r(519));function Pi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vc(_s(i,s)),gm}function tb(s){var i=s.stateNode,o=s.type,c=s.memoizedProps;switch(i[$t]=s,i[ln]=c,o){case"dialog":He("cancel",i),He("close",i);break;case"iframe":case"object":case"embed":He("load",i);break;case"video":case"audio":for(o=0;o<zc.length;o++)He(zc[o],i);break;case"source":He("error",i);break;case"img":case"image":case"link":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"input":He("invalid",i),ed(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":He("invalid",i);break;case"textarea":He("invalid",i),Si(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||v_(i.textContent,o)?(c.popover!=null&&(He("beforetoggle",i),He("toggle",i)),c.onScroll!=null&&He("scroll",i),c.onScrollEnd!=null&&He("scrollend",i),c.onClick!=null&&(i.onclick=js),i=!0):i=!1,i||Pi(s,!0)}function nb(s){for(mn=s.return;mn;)switch(mn.tag){case 5:case 31:case 13:ws=!1;return;case 27:case 3:ws=!0;return;default:mn=mn.return}}function Ho(s){if(s!==mn)return!1;if(!Ze)return nb(s),Ze=!0,!1;var i=s.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Og(s.type,s.memoizedProps)),o=!o),o&&Et&&Pi(s),nb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Et=C_(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Et=C_(s)}else i===27?(i=Et,Ki(s.type)?(s=Vg,Vg=null,Et=s):Et=i):Et=mn?Ss(s.stateNode.nextSibling):null;return!0}function Ha(){Et=mn=null,Ze=!1}function pm(){var s=Oi;return s!==null&&(qn===null?qn=s:qn.push.apply(qn,s),Oi=null),s}function vc(s){Oi===null?Oi=[s]:Oi.push(s)}var ym=q(null),Ga=null,Hr=null;function ji(s,i,o){me(ym,i._currentValue),i._currentValue=o}function Gr(s){s._currentValue=ym.current,oe(ym)}function vm(s,i,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===o)break;s=s.return}}function bm(s,i,o,c){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var p=f.dependencies;if(p!==null){var _=f.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=f;for(var V=0;V<i.length;V++)if(T.context===i[V]){p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),vm(p.return,o,s),c||(_=null);break e}p=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),vm(_,o,s),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===s){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Go(s,i,o,c){s=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=f.type;es(f.pendingProps.value,_.value)||(s!==null?s.push(T):s=[T])}}else if(f===Be.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(Gc):s=[Gc])}f=f.return}s!==null&&bm(i,s,o,c),i.flags|=262144}function Ed(s){for(s=s.firstContext;s!==null;){if(!es(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $a(s){Ga=s,Hr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function gn(s){return sb(Ga,s)}function wd(s,i){return Ga===null&&$a(s),sb(s,i)}function sb(s,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Hr===null){if(s===null)throw Error(r(308));Hr=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Hr=Hr.next=i;return o}var F1=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(o){return o()})}},B1=n.unstable_scheduleCallback,q1=n.unstable_NormalPriority,Qt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new F1,data:new Map,refCount:0}}function bc(s){s.refCount--,s.refCount===0&&B1(q1,function(){s.controller.abort()})}var _c=null,xm=0,$o=0,Yo=null;function H1(s,i){if(_c===null){var o=_c=[];xm=0,$o=Tg(),Yo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return xm++,i.then(rb,rb),i}function rb(){if(--xm===0&&_c!==null){Yo!==null&&(Yo.status="fulfilled");var s=_c;_c=null,$o=0,Yo=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function G1(s,i){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var ib=J.S;J.S=function(s,i){B0=ue(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&H1(s,i),ib!==null&&ib(s,i)};var Ya=q(null);function Em(){var s=Ya.current;return s!==null?s:vt.pooledCache}function Td(s,i){i===null?me(Ya,Ya.current):me(Ya,i.pool)}function ab(){var s=Em();return s===null?null:{parent:Qt._currentValue,pool:s}}var Ko=Error(r(460)),wm=Error(r(474)),Sd=Error(r(542)),Ad={then:function(){}};function ob(s){return s=s.status,s==="fulfilled"||s==="rejected"}function lb(s,i,o){switch(o=s[o],o===void 0?s.push(i):o!==i&&(i.then(js,js),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ub(s),s;default:if(typeof i.status=="string")i.then(js,js);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ub(s),s}throw Qa=i,Ko}}function Ka(s){try{var i=s._init;return i(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Qa=o,Ko):o}}var Qa=null;function cb(){if(Qa===null)throw Error(r(459));var s=Qa;return Qa=null,s}function ub(s){if(s===Ko||s===Sd)throw Error(r(483))}var Qo=null,xc=0;function Cd(s){var i=xc;return xc+=1,Qo===null&&(Qo=[]),lb(Qo,s,i)}function Ec(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Nd(s,i){throw i.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function db(s){function i(G,F){if(s){var Q=G.deletions;Q===null?(G.deletions=[F],G.flags|=16):Q.push(F)}}function o(G,F){if(!s)return null;for(;F!==null;)i(G,F),F=F.sibling;return null}function c(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function f(G,F){return G=Br(G,F),G.index=0,G.sibling=null,G}function p(G,F,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<F?(G.flags|=67108866,F):Q):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function _(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function T(G,F,Q,ie){return F===null||F.tag!==6?(F=dm(Q,G.mode,ie),F.return=G,F):(F=f(F,Q),F.return=G,F)}function V(G,F,Q,ie){var Ae=Q.type;return Ae===D?ne(G,F,Q.props.children,ie,Q.key):F!==null&&(F.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&Ka(Ae)===F.type)?(F=f(F,Q.props),Ec(F,Q),F.return=G,F):(F=_d(Q.type,Q.key,Q.props,null,G.mode,ie),Ec(F,Q),F.return=G,F)}function W(G,F,Q,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=hm(Q,G.mode,ie),F.return=G,F):(F=f(F,Q.children||[]),F.return=G,F)}function ne(G,F,Q,ie,Ae){return F===null||F.tag!==7?(F=qa(Q,G.mode,ie,Ae),F.return=G,F):(F=f(F,Q),F.return=G,F)}function le(G,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=dm(""+F,G.mode,Q),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return Q=_d(F.type,F.key,F.props,null,G.mode,Q),Ec(Q,F),Q.return=G,Q;case O:return F=hm(F,G.mode,Q),F.return=G,F;case S:return F=Ka(F),le(G,F,Q)}if(Me(F)||M(F))return F=qa(F,G.mode,Q,null),F.return=G,F;if(typeof F.then=="function")return le(G,Cd(F),Q);if(F.$$typeof===$)return le(G,wd(G,F),Q);Nd(G,F)}return null}function X(G,F,Q,ie){var Ae=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:T(G,F,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return Q.key===Ae?V(G,F,Q,ie):null;case O:return Q.key===Ae?W(G,F,Q,ie):null;case S:return Q=Ka(Q),X(G,F,Q,ie)}if(Me(Q)||M(Q))return Ae!==null?null:ne(G,F,Q,ie,null);if(typeof Q.then=="function")return X(G,F,Cd(Q),ie);if(Q.$$typeof===$)return X(G,F,wd(G,Q),ie);Nd(G,Q)}return null}function ee(G,F,Q,ie,Ae){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(Q)||null,T(F,G,""+ie,Ae);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return G=G.get(ie.key===null?Q:ie.key)||null,V(F,G,ie,Ae);case O:return G=G.get(ie.key===null?Q:ie.key)||null,W(F,G,ie,Ae);case S:return ie=Ka(ie),ee(G,F,Q,ie,Ae)}if(Me(ie)||M(ie))return G=G.get(Q)||null,ne(F,G,ie,Ae,null);if(typeof ie.then=="function")return ee(G,F,Q,Cd(ie),Ae);if(ie.$$typeof===$)return ee(G,F,Q,wd(F,ie),Ae);Nd(F,ie)}return null}function xe(G,F,Q,ie){for(var Ae=null,st=null,Ee=F,ze=F=0,Ye=null;Ee!==null&&ze<Q.length;ze++){Ee.index>ze?(Ye=Ee,Ee=null):Ye=Ee.sibling;var rt=X(G,Ee,Q[ze],ie);if(rt===null){Ee===null&&(Ee=Ye);break}s&&Ee&&rt.alternate===null&&i(G,Ee),F=p(rt,F,ze),st===null?Ae=rt:st.sibling=rt,st=rt,Ee=Ye}if(ze===Q.length)return o(G,Ee),Ze&&qr(G,ze),Ae;if(Ee===null){for(;ze<Q.length;ze++)Ee=le(G,Q[ze],ie),Ee!==null&&(F=p(Ee,F,ze),st===null?Ae=Ee:st.sibling=Ee,st=Ee);return Ze&&qr(G,ze),Ae}for(Ee=c(Ee);ze<Q.length;ze++)Ye=ee(Ee,G,ze,Q[ze],ie),Ye!==null&&(s&&Ye.alternate!==null&&Ee.delete(Ye.key===null?ze:Ye.key),F=p(Ye,F,ze),st===null?Ae=Ye:st.sibling=Ye,st=Ye);return s&&Ee.forEach(function(Zi){return i(G,Zi)}),Ze&&qr(G,ze),Ae}function Ne(G,F,Q,ie){if(Q==null)throw Error(r(151));for(var Ae=null,st=null,Ee=F,ze=F=0,Ye=null,rt=Q.next();Ee!==null&&!rt.done;ze++,rt=Q.next()){Ee.index>ze?(Ye=Ee,Ee=null):Ye=Ee.sibling;var Zi=X(G,Ee,rt.value,ie);if(Zi===null){Ee===null&&(Ee=Ye);break}s&&Ee&&Zi.alternate===null&&i(G,Ee),F=p(Zi,F,ze),st===null?Ae=Zi:st.sibling=Zi,st=Zi,Ee=Ye}if(rt.done)return o(G,Ee),Ze&&qr(G,ze),Ae;if(Ee===null){for(;!rt.done;ze++,rt=Q.next())rt=le(G,rt.value,ie),rt!==null&&(F=p(rt,F,ze),st===null?Ae=rt:st.sibling=rt,st=rt);return Ze&&qr(G,ze),Ae}for(Ee=c(Ee);!rt.done;ze++,rt=Q.next())rt=ee(Ee,G,ze,rt.value,ie),rt!==null&&(s&&rt.alternate!==null&&Ee.delete(rt.key===null?ze:rt.key),F=p(rt,F,ze),st===null?Ae=rt:st.sibling=rt,st=rt);return s&&Ee.forEach(function(nN){return i(G,nN)}),Ze&&qr(G,ze),Ae}function yt(G,F,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:e:{for(var Ae=Q.key;F!==null;){if(F.key===Ae){if(Ae=Q.type,Ae===D){if(F.tag===7){o(G,F.sibling),ie=f(F,Q.props.children),ie.return=G,G=ie;break e}}else if(F.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&Ka(Ae)===F.type){o(G,F.sibling),ie=f(F,Q.props),Ec(ie,Q),ie.return=G,G=ie;break e}o(G,F);break}else i(G,F);F=F.sibling}Q.type===D?(ie=qa(Q.props.children,G.mode,ie,Q.key),ie.return=G,G=ie):(ie=_d(Q.type,Q.key,Q.props,null,G.mode,ie),Ec(ie,Q),ie.return=G,G=ie)}return _(G);case O:e:{for(Ae=Q.key;F!==null;){if(F.key===Ae)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){o(G,F.sibling),ie=f(F,Q.children||[]),ie.return=G,G=ie;break e}else{o(G,F);break}else i(G,F);F=F.sibling}ie=hm(Q,G.mode,ie),ie.return=G,G=ie}return _(G);case S:return Q=Ka(Q),yt(G,F,Q,ie)}if(Me(Q))return xe(G,F,Q,ie);if(M(Q)){if(Ae=M(Q),typeof Ae!="function")throw Error(r(150));return Q=Ae.call(Q),Ne(G,F,Q,ie)}if(typeof Q.then=="function")return yt(G,F,Cd(Q),ie);if(Q.$$typeof===$)return yt(G,F,wd(G,Q),ie);Nd(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(o(G,F.sibling),ie=f(F,Q),ie.return=G,G=ie):(o(G,F),ie=dm(Q,G.mode,ie),ie.return=G,G=ie),_(G)):o(G,F)}return function(G,F,Q,ie){try{xc=0;var Ae=yt(G,F,Q,ie);return Qo=null,Ae}catch(Ee){if(Ee===Ko||Ee===Sd)throw Ee;var st=ts(29,Ee,null,G.mode);return st.lanes=ie,st.return=G,st}finally{}}}var Wa=db(!0),hb=db(!1),Mi=!1;function Tm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Li(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Vi(s,i,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=bd(s),Qv(s,null,o),i}return vd(s,c,i,o),bd(s)}function wc(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,Wl(s,o)}}function Am(s,i){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?f=p=i:p=p.next=i}else f=p=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}var Cm=!1;function Tc(){if(Cm){var s=Yo;if(s!==null)throw s}}function Sc(s,i,o,c){Cm=!1;var f=s.updateQueue;Mi=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var V=T,W=V.next;V.next=null,_===null?p=W:_.next=W,_=V;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,T=ne.lastBaseUpdate,T!==_&&(T===null?ne.firstBaseUpdate=W:T.next=W,ne.lastBaseUpdate=V))}if(p!==null){var le=f.baseState;_=0,ne=W=V=null,T=p;do{var X=T.lane&-536870913,ee=X!==T.lane;if(ee?($e&X)===X:(c&X)===X){X!==0&&X===$o&&(Cm=!0),ne!==null&&(ne=ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var xe=s,Ne=T;X=i;var yt=o;switch(Ne.tag){case 1:if(xe=Ne.payload,typeof xe=="function"){le=xe.call(yt,le,X);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ne.payload,X=typeof xe=="function"?xe.call(yt,le,X):xe,X==null)break e;le=x({},le,X);break e;case 2:Mi=!0}}X=T.callback,X!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=f.callbacks,ee===null?f.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ne===null?(W=ne=ee,V=le):ne=ne.next=ee,_|=X;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;ee=T,T=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);ne===null&&(V=le),f.baseState=V,f.firstBaseUpdate=W,f.lastBaseUpdate=ne,p===null&&(f.shared.lanes=0),qi|=_,s.lanes=_,s.memoizedState=le}}function fb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function mb(s,i){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)fb(o[s],i)}var Wo=q(null),Rd=q(0);function gb(s,i){s=ei,me(Rd,s),me(Wo,i),ei=s|i.baseLanes}function Nm(){me(Rd,ei),me(Wo,Wo.current)}function Rm(){ei=Rd.current,oe(Wo),oe(Rd)}var ns=q(null),Ts=null;function Ui(s){var i=s.alternate;me(Bt,Bt.current&1),me(ns,s),Ts===null&&(i===null||Wo.current!==null||i.memoizedState!==null)&&(Ts=s)}function km(s){me(Bt,Bt.current),me(ns,s),Ts===null&&(Ts=s)}function pb(s){s.tag===22?(me(Bt,Bt.current),me(ns,s),Ts===null&&(Ts=s)):zi()}function zi(){me(Bt,Bt.current),me(ns,ns.current)}function ss(s){oe(ns),Ts===s&&(Ts=null),oe(Bt)}var Bt=q(0);function kd(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Mg(o)||Lg(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $r=0,Ve=null,gt=null,Wt=null,Id=!1,Xo=!1,Xa=!1,Dd=0,Ac=0,Jo=null,$1=0;function Ot(){throw Error(r(321))}function Im(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!es(s[o],i[o]))return!1;return!0}function Dm(s,i,o,c,f,p){return $r=p,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=s===null||s.memoizedState===null?Zb:Ym,Xa=!1,p=o(c,f),Xa=!1,Xo&&(p=vb(i,o,c,f)),yb(s),p}function yb(s){J.H=Rc;var i=gt!==null&&gt.next!==null;if($r=0,Wt=gt=Ve=null,Id=!1,Ac=0,Jo=null,i)throw Error(r(300));s===null||Xt||(s=s.dependencies,s!==null&&Ed(s)&&(Xt=!0))}function vb(s,i,o,c){Ve=s;var f=0;do{if(Xo&&(Jo=null),Ac=0,Xo=!1,25<=f)throw Error(r(301));if(f+=1,Wt=gt=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}J.H=e0,p=i(o,c)}while(Xo);return p}function Y1(){var s=J.H,i=s.useState()[0];return i=typeof i.then=="function"?Cc(i):i,s=s.useState()[0],(gt!==null?gt.memoizedState:null)!==s&&(Ve.flags|=1024),i}function Om(){var s=Dd!==0;return Dd=0,s}function Pm(s,i,o){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~o}function jm(s){if(Id){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Id=!1}$r=0,Wt=gt=Ve=null,Xo=!1,Ac=Dd=0,Jo=null}function In(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Ve.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function qt(){if(gt===null){var s=Ve.alternate;s=s!==null?s.memoizedState:null}else s=gt.next;var i=Wt===null?Ve.memoizedState:Wt.next;if(i!==null)Wt=i,gt=s;else{if(s===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));gt=s,s={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Wt===null?Ve.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function Od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cc(s){var i=Ac;return Ac+=1,Jo===null&&(Jo=[]),s=lb(Jo,s,i),i=Ve,(Wt===null?i.memoizedState:Wt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Zb:Ym),s}function Pd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Cc(s);if(s.$$typeof===$)return gn(s)}throw Error(r(438,String(s)))}function Mm(s){var i=null,o=Ve.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Od(),Ve.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(s),c=0;c<s;c++)o[c]=U;return i.index++,o}function Yr(s,i){return typeof i=="function"?i(s):i}function jd(s){var i=qt();return Lm(i,gt,s)}function Lm(s,i,o){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var f=s.baseQueue,p=c.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}i.baseQueue=f=p,c.pending=null}if(p=s.baseState,f===null)s.memoizedState=p;else{i=f.next;var T=_=null,V=null,W=i,ne=!1;do{var le=W.lane&-536870913;if(le!==W.lane?($e&le)===le:($r&le)===le){var X=W.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===$o&&(ne=!0);else if(($r&X)===X){W=W.next,X===$o&&(ne=!0);continue}else le={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(T=V=le,_=p):V=V.next=le,Ve.lanes|=X,qi|=X;le=W.action,Xa&&o(p,le),p=W.hasEagerState?W.eagerState:o(p,le)}else X={lane:le,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(T=V=X,_=p):V=V.next=X,Ve.lanes|=le,qi|=le;W=W.next}while(W!==null&&W!==i);if(V===null?_=p:V.next=T,!es(p,s.memoizedState)&&(Xt=!0,ne&&(o=Yo,o!==null)))throw o;s.memoizedState=p,s.baseState=_,s.baseQueue=V,c.lastRenderedState=p}return f===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Vm(s){var i=qt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=o.dispatch,f=o.pending,p=i.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do p=s(p,_.action),_=_.next;while(_!==f);es(p,i.memoizedState)||(Xt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,c]}function bb(s,i,o){var c=Ve,f=qt(),p=Ze;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=i();var _=!es((gt||f).memoizedState,o);if(_&&(f.memoizedState=o,Xt=!0),f=f.queue,Fm(Eb.bind(null,c,f,s),[s]),f.getSnapshot!==i||_||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,Zo(9,{destroy:void 0},xb.bind(null,c,f,o,i),null),vt===null)throw Error(r(349));p||($r&127)!==0||_b(c,i,o)}return o}function _b(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=Ve.updateQueue,i===null?(i=Od(),Ve.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function xb(s,i,o,c){i.value=o,i.getSnapshot=c,wb(i)&&Tb(s)}function Eb(s,i,o){return o(function(){wb(i)&&Tb(s)})}function wb(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!es(s,o)}catch{return!0}}function Tb(s){var i=Ba(s,2);i!==null&&Hn(i,s,2)}function Um(s){var i=In();if(typeof s=="function"){var o=s;if(s=o(),Xa){Ln(!0);try{o()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:s},i}function Sb(s,i,o,c){return s.baseState=o,Lm(s,gt,typeof c=="function"?c:Yr)}function K1(s,i,o,c,f){if(Vd(s))throw Error(r(485));if(s=i.action,s!==null){var p={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};J.T!==null?o(!0):p.isTransition=!1,c(p),o=i.pending,o===null?(p.next=i.pending=p,Ab(i,p)):(p.next=o.next,i.pending=o.next=p)}}function Ab(s,i){var o=i.action,c=i.payload,f=s.state;if(i.isTransition){var p=J.T,_={};J.T=_;try{var T=o(f,c),V=J.S;V!==null&&V(_,T),Cb(s,i,T)}catch(W){zm(s,i,W)}finally{p!==null&&_.types!==null&&(p.types=_.types),J.T=p}}else try{p=o(f,c),Cb(s,i,p)}catch(W){zm(s,i,W)}}function Cb(s,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Nb(s,i,c)},function(c){return zm(s,i,c)}):Nb(s,i,o)}function Nb(s,i,o){i.status="fulfilled",i.value=o,Rb(i),s.state=o,i=s.pending,i!==null&&(o=i.next,o===i?s.pending=null:(o=o.next,i.next=o,Ab(s,o)))}function zm(s,i,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Rb(i),i=i.next;while(i!==c)}s.action=null}function Rb(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function kb(s,i){return i}function Ib(s,i){if(Ze){var o=vt.formState;if(o!==null){e:{var c=Ve;if(Ze){if(Et){t:{for(var f=Et,p=ws;f.nodeType!==8;){if(!p){f=null;break t}if(f=Ss(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Et=Ss(f.nextSibling),c=f.data==="F!";break e}}Pi(c)}c=!1}c&&(i=o[0])}}return o=In(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kb,lastRenderedState:i},o.queue=c,o=Wb.bind(null,Ve,c),c.dispatch=o,c=Um(!1),p=$m.bind(null,Ve,!1,c.queue),c=In(),f={state:i,dispatch:null,action:s,pending:null},c.queue=f,o=K1.bind(null,Ve,f,p,o),f.dispatch=o,c.memoizedState=s,[i,o,!1]}function Db(s){var i=qt();return Ob(i,gt,s)}function Ob(s,i,o){if(i=Lm(s,i,kb)[0],s=jd(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Cc(i)}catch(_){throw _===Ko?Sd:_}else c=i;i=qt();var f=i.queue,p=f.dispatch;return o!==i.memoizedState&&(Ve.flags|=2048,Zo(9,{destroy:void 0},Q1.bind(null,f,o),null)),[c,p,s]}function Q1(s,i){s.action=i}function Pb(s){var i=qt(),o=gt;if(o!==null)return Ob(i,o,s);qt(),i=i.memoizedState,o=qt();var c=o.queue.dispatch;return o.memoizedState=s,[i,c,!1]}function Zo(s,i,o,c){return s={tag:s,create:o,deps:c,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=Od(),Ve.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,i.lastEffect=s),s}function jb(){return qt().memoizedState}function Md(s,i,o,c){var f=In();Ve.flags|=s,f.memoizedState=Zo(1|i,{destroy:void 0},o,c===void 0?null:c)}function Ld(s,i,o,c){var f=qt();c=c===void 0?null:c;var p=f.memoizedState.inst;gt!==null&&c!==null&&Im(c,gt.memoizedState.deps)?f.memoizedState=Zo(i,p,o,c):(Ve.flags|=s,f.memoizedState=Zo(1|i,p,o,c))}function Mb(s,i){Md(8390656,8,s,i)}function Fm(s,i){Ld(2048,8,s,i)}function W1(s){Ve.flags|=4;var i=Ve.updateQueue;if(i===null)i=Od(),Ve.updateQueue=i,i.events=[s];else{var o=i.events;o===null?i.events=[s]:o.push(s)}}function Lb(s){var i=qt().memoizedState;return W1({ref:i,nextImpl:s}),function(){if((ot&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Vb(s,i){return Ld(4,2,s,i)}function Ub(s,i){return Ld(4,4,s,i)}function zb(s,i){if(typeof i=="function"){s=s();var o=i(s);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Fb(s,i,o){o=o!=null?o.concat([s]):null,Ld(4,4,zb.bind(null,i,s),o)}function Bm(){}function Bb(s,i){var o=qt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Im(i,c[1])?c[0]:(o.memoizedState=[s,i],s)}function qb(s,i){var o=qt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Im(i,c[1]))return c[0];if(c=s(),Xa){Ln(!0);try{s()}finally{Ln(!1)}}return o.memoizedState=[c,i],c}function qm(s,i,o){return o===void 0||($r&1073741824)!==0&&($e&261930)===0?s.memoizedState=i:(s.memoizedState=o,s=H0(),Ve.lanes|=s,qi|=s,o)}function Hb(s,i,o,c){return es(o,i)?o:Wo.current!==null?(s=qm(s,o,c),es(s,i)||(Xt=!0),s):($r&42)===0||($r&1073741824)!==0&&($e&261930)===0?(Xt=!0,s.memoizedState=o):(s=H0(),Ve.lanes|=s,qi|=s,i)}function Gb(s,i,o,c,f){var p=he.p;he.p=p!==0&&8>p?p:8;var _=J.T,T={};J.T=T,$m(s,!1,i,o);try{var V=f(),W=J.S;if(W!==null&&W(T,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=G1(V,c);Nc(s,i,ne,as(s))}else Nc(s,i,c,as(s))}catch(le){Nc(s,i,{then:function(){},status:"rejected",reason:le},as())}finally{he.p=p,_!==null&&T.types!==null&&(_.types=T.types),J.T=_}}function X1(){}function Hm(s,i,o,c){if(s.tag!==5)throw Error(r(476));var f=$b(s).queue;Gb(s,f,i,_e,o===null?X1:function(){return Yb(s),o(c)})}function $b(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:_e},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:o},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function Yb(s){var i=$b(s);i.next===null&&(i=s.alternate.memoizedState),Nc(s,i.next.queue,{},as())}function Gm(){return gn(Gc)}function Kb(){return qt().memoizedState}function Qb(){return qt().memoizedState}function J1(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var o=as();s=Li(o);var c=Vi(i,s,o);c!==null&&(Hn(c,i,o),wc(c,i,o)),i={cache:_m()},s.payload=i;return}i=i.return}}function Z1(s,i,o){var c=as();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Vd(s)?Xb(i,o):(o=cm(s,i,o,c),o!==null&&(Hn(o,s,c),Jb(o,i,c)))}function Wb(s,i,o){var c=as();Nc(s,i,o,c)}function Nc(s,i,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vd(s))Xb(i,f);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,T=p(_,o);if(f.hasEagerState=!0,f.eagerState=T,es(T,_))return vd(s,i,f,0),vt===null&&yd(),!1}catch{}finally{}if(o=cm(s,i,f,c),o!==null)return Hn(o,s,c),Jb(o,i,c),!0}return!1}function $m(s,i,o,c){if(c={lane:2,revertLane:Tg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Vd(s)){if(i)throw Error(r(479))}else i=cm(s,o,c,2),i!==null&&Hn(i,s,2)}function Vd(s){var i=s.alternate;return s===Ve||i!==null&&i===Ve}function Xb(s,i){Xo=Id=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function Jb(s,i,o){if((o&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,Wl(s,o)}}var Rc={readContext:gn,use:Pd,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Rc.useEffectEvent=Ot;var Zb={readContext:gn,use:Pd,useCallback:function(s,i){return In().memoizedState=[s,i===void 0?null:i],s},useContext:gn,useEffect:Mb,useImperativeHandle:function(s,i,o){o=o!=null?o.concat([s]):null,Md(4194308,4,zb.bind(null,i,s),o)},useLayoutEffect:function(s,i){return Md(4194308,4,s,i)},useInsertionEffect:function(s,i){Md(4,2,s,i)},useMemo:function(s,i){var o=In();i=i===void 0?null:i;var c=s();if(Xa){Ln(!0);try{s()}finally{Ln(!1)}}return o.memoizedState=[c,i],c},useReducer:function(s,i,o){var c=In();if(o!==void 0){var f=o(i);if(Xa){Ln(!0);try{o(i)}finally{Ln(!1)}}}else f=i;return c.memoizedState=c.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},c.queue=s,s=s.dispatch=Z1.bind(null,Ve,s),[c.memoizedState,s]},useRef:function(s){var i=In();return s={current:s},i.memoizedState=s},useState:function(s){s=Um(s);var i=s.queue,o=Wb.bind(null,Ve,i);return i.dispatch=o,[s.memoizedState,o]},useDebugValue:Bm,useDeferredValue:function(s,i){var o=In();return qm(o,s,i)},useTransition:function(){var s=Um(!1);return s=Gb.bind(null,Ve,s.queue,!0,!1),In().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,o){var c=Ve,f=In();if(Ze){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),vt===null)throw Error(r(349));($e&127)!==0||_b(c,i,o)}f.memoizedState=o;var p={value:o,getSnapshot:i};return f.queue=p,Mb(Eb.bind(null,c,p,s),[s]),c.flags|=2048,Zo(9,{destroy:void 0},xb.bind(null,c,p,o,i),null),o},useId:function(){var s=In(),i=vt.identifierPrefix;if(Ze){var o=vr,c=yr;o=(c&~(1<<32-Tt(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Dd++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=$1++,i="_"+i+"r_"+o.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Gm,useFormState:Ib,useActionState:Ib,useOptimistic:function(s){var i=In();i.memoizedState=i.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=$m.bind(null,Ve,!0,o),o.dispatch=i,[s,i]},useMemoCache:Mm,useCacheRefresh:function(){return In().memoizedState=J1.bind(null,Ve)},useEffectEvent:function(s){var i=In(),o={impl:s};return i.memoizedState=o,function(){if((ot&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Ym={readContext:gn,use:Pd,useCallback:Bb,useContext:gn,useEffect:Fm,useImperativeHandle:Fb,useInsertionEffect:Vb,useLayoutEffect:Ub,useMemo:qb,useReducer:jd,useRef:jb,useState:function(){return jd(Yr)},useDebugValue:Bm,useDeferredValue:function(s,i){var o=qt();return Hb(o,gt.memoizedState,s,i)},useTransition:function(){var s=jd(Yr)[0],i=qt().memoizedState;return[typeof s=="boolean"?s:Cc(s),i]},useSyncExternalStore:bb,useId:Kb,useHostTransitionStatus:Gm,useFormState:Db,useActionState:Db,useOptimistic:function(s,i){var o=qt();return Sb(o,gt,s,i)},useMemoCache:Mm,useCacheRefresh:Qb};Ym.useEffectEvent=Lb;var e0={readContext:gn,use:Pd,useCallback:Bb,useContext:gn,useEffect:Fm,useImperativeHandle:Fb,useInsertionEffect:Vb,useLayoutEffect:Ub,useMemo:qb,useReducer:Vm,useRef:jb,useState:function(){return Vm(Yr)},useDebugValue:Bm,useDeferredValue:function(s,i){var o=qt();return gt===null?qm(o,s,i):Hb(o,gt.memoizedState,s,i)},useTransition:function(){var s=Vm(Yr)[0],i=qt().memoizedState;return[typeof s=="boolean"?s:Cc(s),i]},useSyncExternalStore:bb,useId:Kb,useHostTransitionStatus:Gm,useFormState:Pb,useActionState:Pb,useOptimistic:function(s,i){var o=qt();return gt!==null?Sb(o,gt,s,i):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Mm,useCacheRefresh:Qb};e0.useEffectEvent=Lb;function Km(s,i,o,c){i=s.memoizedState,o=o(c,i),o=o==null?i:x({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Qm={enqueueSetState:function(s,i,o){s=s._reactInternals;var c=as(),f=Li(c);f.payload=i,o!=null&&(f.callback=o),i=Vi(s,f,c),i!==null&&(Hn(i,s,c),wc(i,s,c))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var c=as(),f=Li(c);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Vi(s,f,c),i!==null&&(Hn(i,s,c),wc(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=as(),c=Li(o);c.tag=2,i!=null&&(c.callback=i),i=Vi(s,c,o),i!==null&&(Hn(i,s,o),wc(i,s,o))}};function t0(s,i,o,c,f,p,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,p,_):i.prototype&&i.prototype.isPureReactComponent?!gc(o,c)||!gc(f,p):!0}function n0(s,i,o,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==s&&Qm.enqueueReplaceState(i,i.state,null)}function Ja(s,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(s=s.defaultProps){o===i&&(o=x({},o));for(var f in s)o[f]===void 0&&(o[f]=s[f])}return o}function s0(s){pd(s)}function r0(s){console.error(s)}function i0(s){pd(s)}function Ud(s,i){try{var o=s.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function a0(s,i,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wm(s,i,o){return o=Li(o),o.tag=3,o.payload={element:null},o.callback=function(){Ud(s,i)},o}function o0(s){return s=Li(s),s.tag=3,s}function l0(s,i,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;s.payload=function(){return f(p)},s.callback=function(){a0(i,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){a0(i,o,c),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function eC(s,i,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Go(i,o,f,!0),o=ns.current,o!==null){switch(o.tag){case 31:case 13:return Ts===null?Xd():o.alternate===null&&Pt===0&&(Pt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Ad?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),xg(s,c,f)),!1;case 22:return o.flags|=65536,c===Ad?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),xg(s,c,f)),!1}throw Error(r(435,o.tag))}return xg(s,c,f),Xd(),!1}if(Ze)return i=ns.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==gm&&(s=Error(r(422),{cause:c}),vc(_s(s,o)))):(c!==gm&&(i=Error(r(423),{cause:c}),vc(_s(i,o))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,c=_s(c,o),f=Wm(s.stateNode,c,f),Am(s,f),Pt!==4&&(Pt=2)),!1;var p=Error(r(520),{cause:c});if(p=_s(p,o),Lc===null?Lc=[p]:Lc.push(p),Pt!==4&&(Pt=2),i===null)return!0;c=_s(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,s=f&-f,o.lanes|=s,s=Wm(o.stateNode,c,s),Am(o,s),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Hi===null||!Hi.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=o0(f),l0(f,s,o,c),Am(o,f),!1}o=o.return}while(o!==null);return!1}var Xm=Error(r(461)),Xt=!1;function pn(s,i,o,c){i.child=s===null?hb(i,null,o,c):Wa(i,s.child,o,c)}function c0(s,i,o,c,f){o=o.render;var p=i.ref;if("ref"in c){var _={};for(var T in c)T!=="ref"&&(_[T]=c[T])}else _=c;return $a(i),c=Dm(s,i,o,_,p,f),T=Om(),s!==null&&!Xt?(Pm(s,i,f),Kr(s,i,f)):(Ze&&T&&fm(i),i.flags|=1,pn(s,i,c,f),i.child)}function u0(s,i,o,c,f){if(s===null){var p=o.type;return typeof p=="function"&&!um(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,d0(s,i,p,c,f)):(s=_d(o.type,null,c,i,i.mode,f),s.ref=i.ref,s.return=i,i.child=s)}if(p=s.child,!ig(s,f)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:gc,o(_,c)&&s.ref===i.ref)return Kr(s,i,f)}return i.flags|=1,s=Br(p,c),s.ref=i.ref,s.return=i,i.child=s}function d0(s,i,o,c,f){if(s!==null){var p=s.memoizedProps;if(gc(p,c)&&s.ref===i.ref)if(Xt=!1,i.pendingProps=c=p,ig(s,f))(s.flags&131072)!==0&&(Xt=!0);else return i.lanes=s.lanes,Kr(s,i,f)}return Jm(s,i,o,c,f)}function h0(s,i,o,c){var f=c.children,p=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,s!==null){for(c=i.child=s.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,i.child=null;return f0(s,i,p,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Td(i,p!==null?p.cachePool:null),p!==null?gb(i,p):Nm(),pb(i);else return c=i.lanes=536870912,f0(s,i,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(Td(i,p.cachePool),gb(i,p),zi(),i.memoizedState=null):(s!==null&&Td(i,null),Nm(),zi());return pn(s,i,f,o),i.child}function kc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function f0(s,i,o,c,f){var p=Em();return p=p===null?null:{parent:Qt._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},s!==null&&Td(i,null),Nm(),pb(i),s!==null&&Go(s,i,c,!0),i.childLanes=f,null}function zd(s,i){return i=Bd({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function m0(s,i,o){return Wa(i,s.child,null,o),s=zd(i,i.pendingProps),s.flags|=2,ss(i),i.memoizedState=null,s}function tC(s,i,o){var c=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ze){if(c.mode==="hidden")return s=zd(i,c),i.lanes=536870912,kc(null,s);if(km(i),(s=Et)?(s=A_(s,ws),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Di!==null?{id:yr,overflow:vr}:null,retryLane:536870912,hydrationErrors:null},o=Xv(s),o.return=i,i.child=o,mn=i,Et=null)):s=null,s===null)throw Pi(i);return i.lanes=536870912,null}return zd(i,c)}var p=s.memoizedState;if(p!==null){var _=p.dehydrated;if(km(i),f)if(i.flags&256)i.flags&=-257,i=m0(s,i,o);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Xt||Go(s,i,o,!1),f=(o&s.childLanes)!==0,Xt||f){if(c=vt,c!==null&&(_=Xl(c,o),_!==0&&_!==p.retryLane))throw p.retryLane=_,Ba(s,_),Hn(c,s,_),Xm;Xd(),i=m0(s,i,o)}else s=p.treeContext,Et=Ss(_.nextSibling),mn=i,Ze=!0,Oi=null,ws=!1,s!==null&&eb(i,s),i=zd(i,c),i.flags|=4096;return i}return s=Br(s.child,{mode:c.mode,children:c.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Fd(s,i){var o=i.ref;if(o===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(s===null||s.ref!==o)&&(i.flags|=4194816)}}function Jm(s,i,o,c,f){return $a(i),o=Dm(s,i,o,c,void 0,f),c=Om(),s!==null&&!Xt?(Pm(s,i,f),Kr(s,i,f)):(Ze&&c&&fm(i),i.flags|=1,pn(s,i,o,f),i.child)}function g0(s,i,o,c,f,p){return $a(i),i.updateQueue=null,o=vb(i,c,o,f),yb(s),c=Om(),s!==null&&!Xt?(Pm(s,i,p),Kr(s,i,p)):(Ze&&c&&fm(i),i.flags|=1,pn(s,i,o,p),i.child)}function p0(s,i,o,c,f){if($a(i),i.stateNode===null){var p=Fo,_=o.contextType;typeof _=="object"&&_!==null&&(p=gn(_)),p=new o(c,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Qm,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=c,p.state=i.memoizedState,p.refs={},Tm(i),_=o.contextType,p.context=typeof _=="object"&&_!==null?gn(_):Fo,p.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Km(i,o,_,c),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Qm.enqueueReplaceState(p,p.state,null),Sc(i,c,p,f),Tc(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){p=i.stateNode;var T=i.memoizedProps,V=Ja(o,T);p.props=V;var W=p.context,ne=o.contextType;_=Fo,typeof ne=="object"&&ne!==null&&(_=gn(ne));var le=o.getDerivedStateFromProps;ne=typeof le=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||W!==_)&&n0(i,p,c,_),Mi=!1;var X=i.memoizedState;p.state=X,Sc(i,c,p,f),Tc(),W=i.memoizedState,T||X!==W||Mi?(typeof le=="function"&&(Km(i,o,le,c),W=i.memoizedState),(V=Mi||t0(i,o,V,c,X,W,_))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=W),p.props=c,p.state=W,p.context=_,c=V):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{p=i.stateNode,Sm(s,i),_=i.memoizedProps,ne=Ja(o,_),p.props=ne,le=i.pendingProps,X=p.context,W=o.contextType,V=Fo,typeof W=="object"&&W!==null&&(V=gn(W)),T=o.getDerivedStateFromProps,(W=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==le||X!==V)&&n0(i,p,c,V),Mi=!1,X=i.memoizedState,p.state=X,Sc(i,c,p,f),Tc();var ee=i.memoizedState;_!==le||X!==ee||Mi||s!==null&&s.dependencies!==null&&Ed(s.dependencies)?(typeof T=="function"&&(Km(i,o,T,c),ee=i.memoizedState),(ne=Mi||t0(i,o,ne,c,X,ee,V)||s!==null&&s.dependencies!==null&&Ed(s.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,ee,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,ee,V)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ee),p.props=c,p.state=ee,p.context=V,c=ne):(typeof p.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(i.flags|=1024),c=!1)}return p=c,Fd(s,i),c=(i.flags&128)!==0,p||c?(p=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,s!==null&&c?(i.child=Wa(i,s.child,null,f),i.child=Wa(i,null,o,f)):pn(s,i,o,f),i.memoizedState=p.state,s=i.child):s=Kr(s,i,f),s}function y0(s,i,o,c){return Ha(),i.flags|=256,pn(s,i,o,c),i.child}var Zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eg(s){return{baseLanes:s,cachePool:ab()}}function tg(s,i,o){return s=s!==null?s.childLanes&~o:0,i&&(s|=is),s}function v0(s,i,o){var c=i.pendingProps,f=!1,p=(i.flags&128)!==0,_;if((_=p)||(_=s!==null&&s.memoizedState===null?!1:(Bt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ze){if(f?Ui(i):zi(),(s=Et)?(s=A_(s,ws),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Di!==null?{id:yr,overflow:vr}:null,retryLane:536870912,hydrationErrors:null},o=Xv(s),o.return=i,i.child=o,mn=i,Et=null)):s=null,s===null)throw Pi(i);return Lg(s)?i.lanes=32:i.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(zi(),f=i.mode,T=Bd({mode:"hidden",children:T},f),c=qa(c,f,o,null),T.return=i,c.return=i,T.sibling=c,i.child=T,c=i.child,c.memoizedState=eg(o),c.childLanes=tg(s,_,o),i.memoizedState=Zm,kc(null,c)):(Ui(i),ng(i,T))}var V=s.memoizedState;if(V!==null&&(T=V.dehydrated,T!==null)){if(p)i.flags&256?(Ui(i),i.flags&=-257,i=sg(s,i,o)):i.memoizedState!==null?(zi(),i.child=s.child,i.flags|=128,i=null):(zi(),T=c.fallback,f=i.mode,c=Bd({mode:"visible",children:c.children},f),T=qa(T,f,o,null),T.flags|=2,c.return=i,T.return=i,c.sibling=T,i.child=c,Wa(i,s.child,null,o),c=i.child,c.memoizedState=eg(o),c.childLanes=tg(s,_,o),i.memoizedState=Zm,i=kc(null,c));else if(Ui(i),Lg(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var W=_.dgst;_=W,c=Error(r(419)),c.stack="",c.digest=_,vc({value:c,source:null,stack:null}),i=sg(s,i,o)}else if(Xt||Go(s,i,o,!1),_=(o&s.childLanes)!==0,Xt||_){if(_=vt,_!==null&&(c=Xl(_,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,Ba(s,c),Hn(_,s,c),Xm;Mg(T)||Xd(),i=sg(s,i,o)}else Mg(T)?(i.flags|=192,i.child=s.child,i=null):(s=V.treeContext,Et=Ss(T.nextSibling),mn=i,Ze=!0,Oi=null,ws=!1,s!==null&&eb(i,s),i=ng(i,c.children),i.flags|=4096);return i}return f?(zi(),T=c.fallback,f=i.mode,V=s.child,W=V.sibling,c=Br(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,W!==null?T=Br(W,T):(T=qa(T,f,o,null),T.flags|=2),T.return=i,c.return=i,c.sibling=T,i.child=c,kc(null,c),c=i.child,T=s.child.memoizedState,T===null?T=eg(o):(f=T.cachePool,f!==null?(V=Qt._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=ab(),T={baseLanes:T.baseLanes|o,cachePool:f}),c.memoizedState=T,c.childLanes=tg(s,_,o),i.memoizedState=Zm,kc(s.child,c)):(Ui(i),o=s.child,s=o.sibling,o=Br(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,s!==null&&(_=i.deletions,_===null?(i.deletions=[s],i.flags|=16):_.push(s)),i.child=o,i.memoizedState=null,o)}function ng(s,i){return i=Bd({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Bd(s,i){return s=ts(22,s,null,i),s.lanes=0,s}function sg(s,i,o){return Wa(i,s.child,null,o),s=ng(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function b0(s,i,o){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),vm(s.return,i,o)}function rg(s,i,o,c,f,p){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=f,_.treeForkCount=p)}function _0(s,i,o){var c=i.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var _=Bt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,me(Bt,_),pn(s,i,c,o),c=Ze?yc:0,!T&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&b0(s,o,i);else if(s.tag===19)b0(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)s=o.alternate,s!==null&&kd(s)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),rg(i,!1,f,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(s=f.alternate,s!==null&&kd(s)===null){i.child=f;break}s=f.sibling,f.sibling=o,o=f,f=s}rg(i,!0,o,null,p,c);break;case"together":rg(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Kr(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),qi|=i.lanes,(o&i.childLanes)===0)if(s!==null){if(Go(s,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,o=Br(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Br(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function ig(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Ed(s)))}function nC(s,i,o){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),ji(i,Qt,s.memoizedState.cache),Ha();break;case 27:case 5:Is(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:ji(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,km(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ui(i),i.flags|=128,null):(o&i.child.childLanes)!==0?v0(s,i,o):(Ui(i),s=Kr(s,i,o),s!==null?s.sibling:null);Ui(i);break;case 19:var f=(s.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Go(s,i,o,!1),c=(o&i.childLanes)!==0),f){if(c)return _0(s,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me(Bt,Bt.current),c)break;return null;case 22:return i.lanes=0,h0(s,i,o,i.pendingProps);case 24:ji(i,Qt,s.memoizedState.cache)}return Kr(s,i,o)}function x0(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps)Xt=!0;else{if(!ig(s,o)&&(i.flags&128)===0)return Xt=!1,nC(s,i,o);Xt=(s.flags&131072)!==0}else Xt=!1,Ze&&(i.flags&1048576)!==0&&Zv(i,yc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(s=Ka(i.elementType),i.type=s,typeof s=="function")um(s)?(c=Ja(s,c),i.tag=1,i=p0(null,i,s,c,o)):(i.tag=0,i=Jm(null,i,s,c,o));else{if(s!=null){var f=s.$$typeof;if(f===ae){i.tag=11,i=c0(null,i,s,c,o);break e}else if(f===C){i.tag=14,i=u0(null,i,s,c,o);break e}}throw i=Te(s)||s,Error(r(306,i,""))}}return i;case 0:return Jm(s,i,i.type,i.pendingProps,o);case 1:return c=i.type,f=Ja(c,i.pendingProps),p0(s,i,c,f,o);case 3:e:{if(Dt(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var p=i.memoizedState;f=p.element,Sm(s,i),Sc(i,c,null,o);var _=i.memoizedState;if(c=_.cache,ji(i,Qt,c),c!==p.cache&&bm(i,[Qt],o,!0),Tc(),c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=y0(s,i,c,o);break e}else if(c!==f){f=_s(Error(r(424)),i),vc(f),i=y0(s,i,c,o);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Et=Ss(s.firstChild),mn=i,Ze=!0,Oi=null,ws=!0,o=hb(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ha(),c===f){i=Kr(s,i,o);break e}pn(s,i,c,o)}i=i.child}return i;case 26:return Fd(s,i),s===null?(o=D_(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ze||(o=i.type,s=i.pendingProps,c=rh(je.current).createElement(o),c[$t]=i,c[ln]=s,yn(c,o,s),Yt(c),i.stateNode=c):i.memoizedState=D_(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Is(i),s===null&&Ze&&(c=i.stateNode=R_(i.type,i.pendingProps,je.current),mn=i,ws=!0,f=Et,Ki(i.type)?(Vg=f,Et=Ss(c.firstChild)):Et=f),pn(s,i,i.pendingProps.children,o),Fd(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ze&&((f=c=Et)&&(c=DC(c,i.type,i.pendingProps,ws),c!==null?(i.stateNode=c,mn=i,Et=Ss(c.firstChild),ws=!1,f=!0):f=!1),f||Pi(i)),Is(i),f=i.type,p=i.pendingProps,_=s!==null?s.memoizedProps:null,c=p.children,Og(f,p)?c=null:_!==null&&Og(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Dm(s,i,Y1,null,null,o),Gc._currentValue=f),Fd(s,i),pn(s,i,c,o),i.child;case 6:return s===null&&Ze&&((s=o=Et)&&(o=OC(o,i.pendingProps,ws),o!==null?(i.stateNode=o,mn=i,Et=null,s=!0):s=!1),s||Pi(i)),null;case 13:return v0(s,i,o);case 4:return Dt(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=Wa(i,null,c,o):pn(s,i,c,o),i.child;case 11:return c0(s,i,i.type,i.pendingProps,o);case 7:return pn(s,i,i.pendingProps,o),i.child;case 8:return pn(s,i,i.pendingProps.children,o),i.child;case 12:return pn(s,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,ji(i,i.type,c.value),pn(s,i,c.children,o),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,$a(i),f=gn(f),c=c(f),i.flags|=1,pn(s,i,c,o),i.child;case 14:return u0(s,i,i.type,i.pendingProps,o);case 15:return d0(s,i,i.type,i.pendingProps,o);case 19:return _0(s,i,o);case 31:return tC(s,i,o);case 22:return h0(s,i,o,i.pendingProps);case 24:return $a(i),c=gn(Qt),s===null?(f=Em(),f===null&&(f=vt,p=_m(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),i.memoizedState={parent:c,cache:f},Tm(i),ji(i,Qt,f)):((s.lanes&o)!==0&&(Sm(s,i),Sc(i,null,null,o),Tc()),f=s.memoizedState,p=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ji(i,Qt,c)):(c=p.cache,ji(i,Qt,c),c!==f.cache&&bm(i,[Qt],o,!0))),pn(s,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Qr(s){s.flags|=4}function ag(s,i,o,c,f){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(f&335544128)===f)if(s.stateNode.complete)s.flags|=8192;else if(K0())s.flags|=8192;else throw Qa=Ad,wm}else s.flags&=-16777217}function E0(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!L_(i))if(K0())s.flags|=8192;else throw Qa=Ad,wm}function qd(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Qu():536870912,s.lanes|=i,sl|=i)}function Ic(s,i){if(!Ze)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function wt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(i)for(var f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=c,s.childLanes=o,i}function sC(s,i,o){var c=i.pendingProps;switch(mm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return wt(i),null;case 3:return o=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Gr(Qt),ft(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ho(i)?Qr(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pm())),wt(i),null;case 26:var f=i.type,p=i.memoizedState;return s===null?(Qr(i),p!==null?(wt(i),E0(i,p)):(wt(i),ag(i,f,null,c,o))):p?p!==s.memoizedState?(Qr(i),wt(i),E0(i,p)):(wt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==c&&Qr(i),wt(i),ag(i,f,s,c,o)),null;case 27:if(_i(i),o=je.current,f=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&Qr(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return wt(i),null}s=ve.current,Ho(i)?tb(i):(s=R_(f,c,o),i.stateNode=s,Qr(i))}return wt(i),null;case 5:if(_i(i),f=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&Qr(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return wt(i),null}if(p=ve.current,Ho(i))tb(i);else{var _=rh(je.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?_.createElement(f,{is:c.is}):_.createElement(f)}}p[$t]=i,p[ln]=c;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=p;e:switch(yn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Qr(i)}}return wt(i),ag(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,o),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&Qr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=je.current,Ho(i)){if(s=i.stateNode,o=i.memoizedProps,c=null,f=mn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}s[$t]=i,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||v_(s.nodeValue,o)),s||Pi(i,!0)}else s=rh(s).createTextNode(c),s[$t]=i,i.stateNode=s}return wt(i),null;case 31:if(o=i.memoizedState,s===null||s.memoizedState!==null){if(c=Ho(i),o!==null){if(s===null){if(!c)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[$t]=i}else Ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),s=!1}else o=pm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return i.flags&256?(ss(i),i):(ss(i),null);if((i.flags&128)!==0)throw Error(r(558))}return wt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=Ho(i),c!==null&&c.dehydrated!==null){if(s===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[$t]=i}else Ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),f=!1}else f=pm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ss(i),i):(ss(i),null)}return ss(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),o!==s&&o&&(i.child.flags|=8192),qd(i,i.updateQueue),wt(i),null);case 4:return ft(),s===null&&Ng(i.stateNode.containerInfo),wt(i),null;case 10:return Gr(i.type),wt(i),null;case 19:if(oe(Bt),c=i.memoizedState,c===null)return wt(i),null;if(f=(i.flags&128)!==0,p=c.rendering,p===null)if(f)Ic(c,!1);else{if(Pt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(p=kd(s),p!==null){for(i.flags|=128,Ic(c,!1),s=p.updateQueue,i.updateQueue=s,qd(i,s),i.subtreeFlags=0,s=o,o=i.child;o!==null;)Wv(o,s),o=o.sibling;return me(Bt,Bt.current&1|2),Ze&&qr(i,c.treeForkCount),i.child}s=s.sibling}c.tail!==null&&ue()>Kd&&(i.flags|=128,f=!0,Ic(c,!1),i.lanes=4194304)}else{if(!f)if(s=kd(p),s!==null){if(i.flags|=128,f=!0,s=s.updateQueue,i.updateQueue=s,qd(i,s),Ic(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Ze)return wt(i),null}else 2*ue()-c.renderingStartTime>Kd&&o!==536870912&&(i.flags|=128,f=!0,Ic(c,!1),i.lanes=4194304);c.isBackwards?(p.sibling=i.child,i.child=p):(s=c.last,s!==null?s.sibling=p:i.child=p,c.last=p)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=ue(),s.sibling=null,o=Bt.current,me(Bt,f?o&1|2:o&1),Ze&&qr(i,c.treeForkCount),s):(wt(i),null);case 22:case 23:return ss(i),Rm(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),o=i.updateQueue,o!==null&&qd(i,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),s!==null&&oe(Ya),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gr(Qt),wt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function rC(s,i){switch(mm(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Gr(Qt),ft(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return _i(i),null;case 31:if(i.memoizedState!==null){if(ss(i),i.alternate===null)throw Error(r(340));Ha()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(ss(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ha()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return oe(Bt),null;case 4:return ft(),null;case 10:return Gr(i.type),null;case 22:case 23:return ss(i),Rm(),s!==null&&oe(Ya),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Gr(Qt),null;case 25:return null;default:return null}}function w0(s,i){switch(mm(i),i.tag){case 3:Gr(Qt),ft();break;case 26:case 27:case 5:_i(i);break;case 4:ft();break;case 31:i.memoizedState!==null&&ss(i);break;case 13:ss(i);break;case 19:oe(Bt);break;case 10:Gr(i.type);break;case 22:case 23:ss(i),Rm(),s!==null&&oe(Ya);break;case 24:Gr(Qt)}}function Dc(s,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&s)===s){c=void 0;var p=o.create,_=o.inst;c=p(),_.destroy=c}o=o.next}while(o!==f)}}catch(T){ut(i,i.return,T)}}function Fi(s,i,o){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&s)===s){var _=c.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=i;var V=o,W=T;try{W()}catch(ne){ut(f,V,ne)}}}c=c.next}while(c!==p)}}catch(ne){ut(i,i.return,ne)}}function T0(s){var i=s.updateQueue;if(i!==null){var o=s.stateNode;try{mb(i,o)}catch(c){ut(s,s.return,c)}}}function S0(s,i,o){o.props=Ja(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){ut(s,i,c)}}function Oc(s,i){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(f){ut(s,i,f)}}function br(s,i){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){ut(s,i,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ut(s,i,f)}else o.current=null}function A0(s){var i=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){ut(s,s.return,f)}}function og(s,i,o){try{var c=s.stateNode;AC(c,s.type,o,i),c[ln]=i}catch(f){ut(s,s.return,f)}}function C0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ki(s.type)||s.tag===4}function lg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||C0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ki(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cg(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(s),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=js));else if(c!==4&&(c===27&&Ki(s.type)&&(o=s.stateNode,i=null),s=s.child,s!==null))for(cg(s,i,o),s=s.sibling;s!==null;)cg(s,i,o),s=s.sibling}function Hd(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(c!==4&&(c===27&&Ki(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Hd(s,i,o),s=s.sibling;s!==null;)Hd(s,i,o),s=s.sibling}function N0(s){var i=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);yn(i,c,o),i[$t]=s,i[ln]=o}catch(p){ut(s,s.return,p)}}var Wr=!1,Jt=!1,ug=!1,R0=typeof WeakSet=="function"?WeakSet:Set,un=null;function iC(s,i){if(s=s.containerInfo,Ig=dh,s=Fv(s),sm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,T=-1,V=-1,W=0,ne=0,le=s,X=null;t:for(;;){for(var ee;le!==o||f!==0&&le.nodeType!==3||(T=_+f),le!==p||c!==0&&le.nodeType!==3||(V=_+c),le.nodeType===3&&(_+=le.nodeValue.length),(ee=le.firstChild)!==null;)X=le,le=ee;for(;;){if(le===s)break t;if(X===o&&++W===f&&(T=_),X===p&&++ne===c&&(V=_),(ee=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=ee}o=T===-1||V===-1?null:{start:T,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dg={focusedElem:s,selectionRange:o},dh=!1,un=i;un!==null;)if(i=un,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,un=s;else for(;un!==null;){switch(i=un,p=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)f=s[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,o=i,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var xe=Ja(o.type,f);s=c.getSnapshotBeforeUpdate(xe,p),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){ut(o,o.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,o=s.nodeType,o===9)jg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":jg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,un=s;break}un=i.return}}function k0(s,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Jr(s,o),c&4&&Dc(5,o);break;case 1:if(Jr(s,o),c&4)if(s=o.stateNode,i===null)try{s.componentDidMount()}catch(_){ut(o,o.return,_)}else{var f=Ja(o.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(f,i,s.__reactInternalSnapshotBeforeUpdate)}catch(_){ut(o,o.return,_)}}c&64&&T0(o),c&512&&Oc(o,o.return);break;case 3:if(Jr(s,o),c&64&&(s=o.updateQueue,s!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{mb(s,i)}catch(_){ut(o,o.return,_)}}break;case 27:i===null&&c&4&&N0(o);case 26:case 5:Jr(s,o),i===null&&c&4&&A0(o),c&512&&Oc(o,o.return);break;case 12:Jr(s,o);break;case 31:Jr(s,o),c&4&&O0(s,o);break;case 13:Jr(s,o),c&4&&P0(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=mC.bind(null,o),PC(s,o))));break;case 22:if(c=o.memoizedState!==null||Wr,!c){i=i!==null&&i.memoizedState!==null||Jt,f=Wr;var p=Jt;Wr=c,(Jt=i)&&!p?Zr(s,o,(o.subtreeFlags&8772)!==0):Jr(s,o),Wr=f,Jt=p}break;case 30:break;default:Jr(s,o)}}function I0(s){var i=s.alternate;i!==null&&(s.alternate=null,I0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&Co(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var At=null,zn=!1;function Xr(s,i,o){for(o=o.child;o!==null;)D0(s,i,o),o=o.sibling}function D0(s,i,o){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Rn,o)}catch{}switch(o.tag){case 26:Jt||br(o,i),Xr(s,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Jt||br(o,i);var c=At,f=zn;Ki(o.type)&&(At=o.stateNode,zn=!1),Xr(s,i,o),Bc(o.stateNode),At=c,zn=f;break;case 5:Jt||br(o,i);case 6:if(c=At,f=zn,At=null,Xr(s,i,o),At=c,zn=f,At!==null)if(zn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(o.stateNode)}catch(p){ut(o,i,p)}else try{At.removeChild(o.stateNode)}catch(p){ut(o,i,p)}break;case 18:At!==null&&(zn?(s=At,T_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),dl(s)):T_(At,o.stateNode));break;case 4:c=At,f=zn,At=o.stateNode.containerInfo,zn=!0,Xr(s,i,o),At=c,zn=f;break;case 0:case 11:case 14:case 15:Fi(2,o,i),Jt||Fi(4,o,i),Xr(s,i,o);break;case 1:Jt||(br(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&S0(o,i,c)),Xr(s,i,o);break;case 21:Xr(s,i,o);break;case 22:Jt=(c=Jt)||o.memoizedState!==null,Xr(s,i,o),Jt=c;break;default:Xr(s,i,o)}}function O0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{dl(s)}catch(o){ut(i,i.return,o)}}}function P0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{dl(s)}catch(o){ut(i,i.return,o)}}function aC(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new R0),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new R0),i;default:throw Error(r(435,s.tag))}}function Gd(s,i){var o=aC(s);i.forEach(function(c){if(!o.has(c)){o.add(c);var f=gC.bind(null,s,c);c.then(f,f)}})}function Fn(s,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=s,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ki(T.type)){At=T.stateNode,zn=!1;break e}break;case 5:At=T.stateNode,zn=!1;break e;case 3:case 4:At=T.stateNode.containerInfo,zn=!0;break e}T=T.return}if(At===null)throw Error(r(160));D0(p,_,f),At=null,zn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)j0(i,s),i=i.sibling}var Fs=null;function j0(s,i){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Fn(i,s),Bn(s),c&4&&(Fi(3,s,s.return),Dc(3,s),Fi(5,s,s.return));break;case 1:Fn(i,s),Bn(s),c&512&&(Jt||o===null||br(o,o.return)),c&64&&Wr&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Fs;if(Fn(i,s),Bn(s),c&512&&(Jt||o===null||br(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ir]||p[$t]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),yn(p,c,o),p[$t]=s,Yt(p),c=p;break e;case"link":var _=j_("link","href",f).get(c+(o.href||""));if(_){for(var T=0;T<_.length;T++)if(p=_[T],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(T,1);break t}}p=f.createElement(c),yn(p,c,o),f.head.appendChild(p);break;case"meta":if(_=j_("meta","content",f).get(c+(o.content||""))){for(T=0;T<_.length;T++)if(p=_[T],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(T,1);break t}}p=f.createElement(c),yn(p,c,o),f.head.appendChild(p);break;default:throw Error(r(468,c))}p[$t]=s,Yt(p),c=p}s.stateNode=c}else M_(f,s.type,s.stateNode);else s.stateNode=P_(f,c,s.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?M_(f,s.type,s.stateNode):P_(f,c,s.memoizedProps)):c===null&&s.stateNode!==null&&og(s,s.memoizedProps,o.memoizedProps)}break;case 27:Fn(i,s),Bn(s),c&512&&(Jt||o===null||br(o,o.return)),o!==null&&c&4&&og(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Fn(i,s),Bn(s),c&512&&(Jt||o===null||br(o,o.return)),s.flags&32){f=s.stateNode;try{Un(f,"")}catch(xe){ut(s,s.return,xe)}}c&4&&s.stateNode!=null&&(f=s.memoizedProps,og(s,f,o!==null?o.memoizedProps:f)),c&1024&&(ug=!0);break;case 6:if(Fn(i,s),Bn(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(xe){ut(s,s.return,xe)}}break;case 3:if(oh=null,f=Fs,Fs=ih(i.containerInfo),Fn(i,s),Fs=f,Bn(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{dl(i.containerInfo)}catch(xe){ut(s,s.return,xe)}ug&&(ug=!1,M0(s));break;case 4:c=Fs,Fs=ih(s.stateNode.containerInfo),Fn(i,s),Bn(s),Fs=c;break;case 12:Fn(i,s),Bn(s);break;case 31:Fn(i,s),Bn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Gd(s,c)));break;case 13:Fn(i,s),Bn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yd=ue()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Gd(s,c)));break;case 22:f=s.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,W=Wr,ne=Jt;if(Wr=W||f,Jt=ne||V,Fn(i,s),Jt=ne,Wr=W,Bn(s),c&8192)e:for(i=s.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||V||Wr||Jt||Za(s)),o=null,i=s;;){if(i.tag===5||i.tag===26){if(o===null){V=o=i;try{if(p=V.stateNode,f)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=V.stateNode;var le=V.memoizedProps.style,X=le!=null&&le.hasOwnProperty("display")?le.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(xe){ut(V,V.return,xe)}}}else if(i.tag===6){if(o===null){V=i;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(xe){ut(V,V.return,xe)}}}else if(i.tag===18){if(o===null){V=i;try{var ee=V.stateNode;f?S_(ee,!0):S_(V.stateNode,!1)}catch(xe){ut(V,V.return,xe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Gd(s,o))));break;case 19:Fn(i,s),Bn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Gd(s,c)));break;case 30:break;case 21:break;default:Fn(i,s),Bn(s)}}function Bn(s){var i=s.flags;if(i&2){try{for(var o,c=s.return;c!==null;){if(C0(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,p=lg(s);Hd(s,p,f);break;case 5:var _=o.stateNode;o.flags&32&&(Un(_,""),o.flags&=-33);var T=lg(s);Hd(s,T,_);break;case 3:case 4:var V=o.stateNode.containerInfo,W=lg(s);cg(s,W,V);break;default:throw Error(r(161))}}catch(ne){ut(s,s.return,ne)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function M0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;M0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Jr(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)k0(s,i.alternate,i),i=i.sibling}function Za(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),Za(i);break;case 1:br(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&S0(i,i.return,o),Za(i);break;case 27:Bc(i.stateNode);case 26:case 5:br(i,i.return),Za(i);break;case 22:i.memoizedState===null&&Za(i);break;case 30:Za(i);break;default:Za(i)}s=s.sibling}}function Zr(s,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=s,p=i,_=p.flags;switch(p.tag){case 0:case 11:case 15:Zr(f,p,o),Dc(4,p);break;case 1:if(Zr(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){ut(c,c.return,W)}if(c=p,f=c.updateQueue,f!==null){var T=c.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)fb(V[f],T)}catch(W){ut(c,c.return,W)}}o&&_&64&&T0(p),Oc(p,p.return);break;case 27:N0(p);case 26:case 5:Zr(f,p,o),o&&c===null&&_&4&&A0(p),Oc(p,p.return);break;case 12:Zr(f,p,o);break;case 31:Zr(f,p,o),o&&_&4&&O0(f,p);break;case 13:Zr(f,p,o),o&&_&4&&P0(f,p);break;case 22:p.memoizedState===null&&Zr(f,p,o),Oc(p,p.return);break;case 30:break;default:Zr(f,p,o)}i=i.sibling}}function dg(s,i){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&bc(o))}function hg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&bc(s))}function Bs(s,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)L0(s,i,o,c),i=i.sibling}function L0(s,i,o,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Bs(s,i,o,c),f&2048&&Dc(9,i);break;case 1:Bs(s,i,o,c);break;case 3:Bs(s,i,o,c),f&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&bc(s)));break;case 12:if(f&2048){Bs(s,i,o,c),s=i.stateNode;try{var p=i.memoizedProps,_=p.id,T=p.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){ut(i,i.return,V)}}else Bs(s,i,o,c);break;case 31:Bs(s,i,o,c);break;case 13:Bs(s,i,o,c);break;case 23:break;case 22:p=i.stateNode,_=i.alternate,i.memoizedState!==null?p._visibility&2?Bs(s,i,o,c):Pc(s,i):p._visibility&2?Bs(s,i,o,c):(p._visibility|=2,el(s,i,o,c,(i.subtreeFlags&10256)!==0||!1)),f&2048&&dg(_,i);break;case 24:Bs(s,i,o,c),f&2048&&hg(i.alternate,i);break;default:Bs(s,i,o,c)}}function el(s,i,o,c,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=s,_=i,T=o,V=c,W=_.flags;switch(_.tag){case 0:case 11:case 15:el(p,_,T,V,f),Dc(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?el(p,_,T,V,f):Pc(p,_):(ne._visibility|=2,el(p,_,T,V,f)),f&&W&2048&&dg(_.alternate,_);break;case 24:el(p,_,T,V,f),f&&W&2048&&hg(_.alternate,_);break;default:el(p,_,T,V,f)}i=i.sibling}}function Pc(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=s,c=i,f=c.flags;switch(c.tag){case 22:Pc(o,c),f&2048&&dg(c.alternate,c);break;case 24:Pc(o,c),f&2048&&hg(c.alternate,c);break;default:Pc(o,c)}i=i.sibling}}var jc=8192;function tl(s,i,o){if(s.subtreeFlags&jc)for(s=s.child;s!==null;)V0(s,i,o),s=s.sibling}function V0(s,i,o){switch(s.tag){case 26:tl(s,i,o),s.flags&jc&&s.memoizedState!==null&&$C(o,Fs,s.memoizedState,s.memoizedProps);break;case 5:tl(s,i,o);break;case 3:case 4:var c=Fs;Fs=ih(s.stateNode.containerInfo),tl(s,i,o),Fs=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=jc,jc=16777216,tl(s,i,o),jc=c):tl(s,i,o));break;default:tl(s,i,o)}}function U0(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function Mc(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];un=c,F0(c,s)}U0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)z0(s),s=s.sibling}function z0(s){switch(s.tag){case 0:case 11:case 15:Mc(s),s.flags&2048&&Fi(9,s,s.return);break;case 3:Mc(s);break;case 12:Mc(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,$d(s)):Mc(s);break;default:Mc(s)}}function $d(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];un=c,F0(c,s)}U0(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),$d(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,$d(i));break;default:$d(i)}s=s.sibling}}function F0(s,i){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:Fi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,un=c;else e:for(o=s;un!==null;){c=un;var f=c.sibling,p=c.return;if(I0(c),c===o){un=null;break e}if(f!==null){f.return=p,un=f;break e}un=p}}}var oC={getCacheForType:function(s){var i=gn(Qt),o=i.data.get(s);return o===void 0&&(o=s(),i.data.set(s,o)),o},cacheSignal:function(){return gn(Qt).controller.signal}},lC=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,qe=null,$e=0,ct=0,rs=null,Bi=!1,nl=!1,fg=!1,ei=0,Pt=0,qi=0,eo=0,mg=0,is=0,sl=0,Lc=null,qn=null,gg=!1,Yd=0,B0=0,Kd=1/0,Qd=null,Hi=null,rn=0,Gi=null,rl=null,ti=0,pg=0,yg=null,q0=null,Vc=0,vg=null;function as(){return(ot&2)!==0&&$e!==0?$e&-$e:J.T!==null?Tg():Wu()}function H0(){if(is===0)if(($e&536870912)===0||Ze){var s=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),is=s}else is=536870912;return s=ns.current,s!==null&&(s.flags|=32),is}function Hn(s,i,o){(s===vt&&(ct===2||ct===9)||s.cancelPendingCommit!==null)&&(il(s,0),$i(s,$e,is,!1)),Na(s,o),((ot&2)===0||s!==vt)&&(s===vt&&((ot&2)===0&&(eo|=o),Pt===4&&$i(s,$e,is,!1)),_r(s))}function G0(s,i,o){if((ot&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&s.expiredLanes)===0||Ds(s,i),f=c?dC(s,i):_g(s,i,!0),p=c;do{if(f===0){nl&&!c&&$i(s,i,0,!1);break}else{if(o=s.current.alternate,p&&!cC(o)){f=_g(s,i,!1),p=!1;continue}if(f===2){if(p=i,s.errorRecoveryDisabledLanes&p)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=s;f=Lc;var V=T.current.memoizedState.isDehydrated;if(V&&(il(T,_).flags|=256),_=_g(T,_,!1),_!==2){if(fg&&!V){T.errorRecoveryDisabledLanes|=p,eo|=p,f=4;break e}p=qn,qn=f,p!==null&&(qn===null?qn=p:qn.push.apply(qn,p))}f=_}if(p=!1,f!==2)continue}}if(f===1){il(s,0),$i(s,i,0,!0);break}e:{switch(c=s,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:$i(c,i,is,!Bi);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Yd+300-ue(),10<f)){if($i(c,i,is,!Bi),nr(c,0,!0)!==0)break e;ti=i,c.timeoutHandle=E_($0.bind(null,c,o,qn,Qd,gg,i,is,eo,sl,Bi,p,"Throttled",-0,0),f);break e}$0(c,o,qn,Qd,gg,i,is,eo,sl,Bi,p,null,-0,0)}}break}while(!0);_r(s)}function $0(s,i,o,c,f,p,_,T,V,W,ne,le,X,ee){if(s.timeoutHandle=-1,le=i.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:js},V0(i,p,le);var xe=(p&62914560)===p?Yd-ue():(p&4194048)===p?B0-ue():0;if(xe=YC(le,xe),xe!==null){ti=p,s.cancelPendingCommit=xe(e_.bind(null,s,i,p,o,c,f,_,T,V,ne,le,null,X,ee)),$i(s,p,_,!W);return}}e_(s,i,p,o,c,f,_,T,V)}function cC(s){for(var i=s;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!es(p(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $i(s,i,o,c){i&=~mg,i&=~eo,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var f=i;0<f;){var p=31-Tt(f),_=1<<p;c[p]=-1,f&=~_}o!==0&&Ra(s,o,i)}function Wd(){return(ot&6)===0?(Uc(0),!1):!0}function bg(){if(qe!==null){if(ct===0)var s=qe.return;else s=qe,Hr=Ga=null,jm(s),Qo=null,xc=0,s=qe;for(;s!==null;)w0(s.alternate,s),s=s.return;qe=null}}function il(s,i){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,RC(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),ti=0,bg(),vt=s,qe=o=Br(s.current,null),$e=i,ct=0,rs=null,Bi=!1,nl=Ds(s,i),fg=!1,sl=is=mg=eo=qi=Pt=0,qn=Lc=null,gg=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var f=31-Tt(c),p=1<<f;i|=s[f],c&=~p}return ei=i,yd(),o}function Y0(s,i){Ve=null,J.H=Rc,i===Ko||i===Sd?(i=cb(),ct=3):i===wm?(i=cb(),ct=4):ct=i===Xm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,rs=i,qe===null&&(Pt=1,Ud(s,_s(i,s.current)))}function K0(){var s=ns.current;return s===null?!0:($e&4194048)===$e?Ts===null:($e&62914560)===$e||($e&536870912)!==0?s===Ts:!1}function Q0(){var s=J.H;return J.H=Rc,s===null?Rc:s}function W0(){var s=J.A;return J.A=oC,s}function Xd(){Pt=4,Bi||($e&4194048)!==$e&&ns.current!==null||(nl=!0),(qi&134217727)===0&&(eo&134217727)===0||vt===null||$i(vt,$e,is,!1)}function _g(s,i,o){var c=ot;ot|=2;var f=Q0(),p=W0();(vt!==s||$e!==i)&&(Qd=null,il(s,i)),i=!1;var _=Pt;e:do try{if(ct!==0&&qe!==null){var T=qe,V=rs;switch(ct){case 8:bg(),_=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(i=!0);var W=ct;if(ct=0,rs=null,al(s,T,V,W),o&&nl){_=0;break e}break;default:W=ct,ct=0,rs=null,al(s,T,V,W)}}uC(),_=Pt;break}catch(ne){Y0(s,ne)}while(!0);return i&&s.shellSuspendCounter++,Hr=Ga=null,ot=c,J.H=f,J.A=p,qe===null&&(vt=null,$e=0,yd()),_}function uC(){for(;qe!==null;)X0(qe)}function dC(s,i){var o=ot;ot|=2;var c=Q0(),f=W0();vt!==s||$e!==i?(Qd=null,Kd=ue()+500,il(s,i)):nl=Ds(s,i);e:do try{if(ct!==0&&qe!==null){i=qe;var p=rs;t:switch(ct){case 1:ct=0,rs=null,al(s,i,p,1);break;case 2:case 9:if(ob(p)){ct=0,rs=null,J0(i);break}i=function(){ct!==2&&ct!==9||vt!==s||(ct=7),_r(s)},p.then(i,i);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:ob(p)?(ct=0,rs=null,J0(i)):(ct=0,rs=null,al(s,i,p,7));break;case 5:var _=null;switch(qe.tag){case 26:_=qe.memoizedState;case 5:case 27:var T=qe;if(_?L_(_):T.stateNode.complete){ct=0,rs=null;var V=T.sibling;if(V!==null)qe=V;else{var W=T.return;W!==null?(qe=W,Jd(W)):qe=null}break t}}ct=0,rs=null,al(s,i,p,5);break;case 6:ct=0,rs=null,al(s,i,p,6);break;case 8:bg(),Pt=6;break e;default:throw Error(r(462))}}hC();break}catch(ne){Y0(s,ne)}while(!0);return Hr=Ga=null,J.H=c,J.A=f,ot=o,qe!==null?0:(vt=null,$e=0,yd(),Pt)}function hC(){for(;qe!==null&&!te();)X0(qe)}function X0(s){var i=x0(s.alternate,s,ei);s.memoizedProps=s.pendingProps,i===null?Jd(s):qe=i}function J0(s){var i=s,o=i.alternate;switch(i.tag){case 15:case 0:i=g0(o,i,i.pendingProps,i.type,void 0,$e);break;case 11:i=g0(o,i,i.pendingProps,i.type.render,i.ref,$e);break;case 5:jm(i);default:w0(o,i),i=qe=Wv(i,ei),i=x0(o,i,ei)}s.memoizedProps=s.pendingProps,i===null?Jd(s):qe=i}function al(s,i,o,c){Hr=Ga=null,jm(i),Qo=null,xc=0;var f=i.return;try{if(eC(s,f,i,o,$e)){Pt=1,Ud(s,_s(o,s.current)),qe=null;return}}catch(p){if(f!==null)throw qe=f,p;Pt=1,Ud(s,_s(o,s.current)),qe=null;return}i.flags&32768?(Ze||c===1?s=!0:nl||($e&536870912)!==0?s=!1:(Bi=s=!0,(c===2||c===9||c===3||c===6)&&(c=ns.current,c!==null&&c.tag===13&&(c.flags|=16384))),Z0(i,s)):Jd(i)}function Jd(s){var i=s;do{if((i.flags&32768)!==0){Z0(i,Bi);return}s=i.return;var o=sC(i.alternate,i,ei);if(o!==null){qe=o;return}if(i=i.sibling,i!==null){qe=i;return}qe=i=s}while(i!==null);Pt===0&&(Pt=5)}function Z0(s,i){do{var o=rC(s.alternate,s);if(o!==null){o.flags&=32767,qe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(s=s.sibling,s!==null)){qe=s;return}qe=s=o}while(s!==null);Pt=6,qe=null}function e_(s,i,o,c,f,p,_,T,V){s.cancelPendingCommit=null;do Zd();while(rn!==0);if((ot&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(p=i.lanes|i.childLanes,p|=lm,Zf(s,o,p,_,T,V),s===vt&&(qe=vt=null,$e=0),rl=i,Gi=s,ti=o,pg=p,yg=f,q0=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,pC(Je,function(){return i_(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,f=he.p,he.p=2,_=ot,ot|=4;try{iC(s,i,o)}finally{ot=_,he.p=f,J.T=c}}rn=1,t_(),n_(),s_()}}function t_(){if(rn===1){rn=0;var s=Gi,i=rl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=he.p;he.p=2;var f=ot;ot|=4;try{j0(i,s);var p=Dg,_=Fv(s.containerInfo),T=p.focusedElem,V=p.selectionRange;if(_!==T&&T&&T.ownerDocument&&zv(T.ownerDocument.documentElement,T)){if(V!==null&&sm(T)){var W=V.start,ne=V.end;if(ne===void 0&&(ne=W),"selectionStart"in T)T.selectionStart=W,T.selectionEnd=Math.min(ne,T.value.length);else{var le=T.ownerDocument||document,X=le&&le.defaultView||window;if(X.getSelection){var ee=X.getSelection(),xe=T.textContent.length,Ne=Math.min(V.start,xe),yt=V.end===void 0?Ne:Math.min(V.end,xe);!ee.extend&&Ne>yt&&(_=yt,yt=Ne,Ne=_);var G=Uv(T,Ne),F=Uv(T,yt);if(G&&F&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==F.node||ee.focusOffset!==F.offset)){var Q=le.createRange();Q.setStart(G.node,G.offset),ee.removeAllRanges(),Ne>yt?(ee.addRange(Q),ee.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),ee.addRange(Q))}}}}for(le=[],ee=T;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<le.length;T++){var ie=le[T];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}dh=!!Ig,Dg=Ig=null}finally{ot=f,he.p=c,J.T=o}}s.current=i,rn=2}}function n_(){if(rn===2){rn=0;var s=Gi,i=rl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=he.p;he.p=2;var f=ot;ot|=4;try{k0(s,i.alternate,i)}finally{ot=f,he.p=c,J.T=o}}rn=3}}function s_(){if(rn===4||rn===3){rn=0,pe();var s=Gi,i=rl,o=ti,c=q0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?rn=5:(rn=0,rl=Gi=null,r_(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(Hi=null),Vr(o),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Rn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=J.T,f=he.p,he.p=2,J.T=null;try{for(var p=s.onRecoverableError,_=0;_<c.length;_++){var T=c[_];p(T.value,{componentStack:T.stack})}}finally{J.T=i,he.p=f}}(ti&3)!==0&&Zd(),_r(s),f=s.pendingLanes,(o&261930)!==0&&(f&42)!==0?s===vg?Vc++:(Vc=0,vg=s):Vc=0,Uc(0)}}function r_(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,bc(i)))}function Zd(){return t_(),n_(),s_(),i_()}function i_(){if(rn!==5)return!1;var s=Gi,i=pg;pg=0;var o=Vr(ti),c=J.T,f=he.p;try{he.p=32>o?32:o,J.T=null,o=yg,yg=null;var p=Gi,_=ti;if(rn=0,rl=Gi=null,ti=0,(ot&6)!==0)throw Error(r(331));var T=ot;if(ot|=4,z0(p.current),L0(p,p.current,_,o),ot=T,Uc(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Rn,p)}catch{}return!0}finally{he.p=f,J.T=c,r_(s,i)}}function a_(s,i,o){i=_s(o,i),i=Wm(s.stateNode,i,2),s=Vi(s,i,2),s!==null&&(Na(s,2),_r(s))}function ut(s,i,o){if(s.tag===3)a_(s,s,o);else for(;i!==null;){if(i.tag===3){a_(i,s,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hi===null||!Hi.has(c))){s=_s(o,s),o=o0(2),c=Vi(i,o,2),c!==null&&(l0(o,c,i,s),Na(c,2),_r(c));break}}i=i.return}}function xg(s,i,o){var c=s.pingCache;if(c===null){c=s.pingCache=new lC;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(fg=!0,f.add(o),s=fC.bind(null,s,i,o),i.then(s,s))}function fC(s,i,o){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,vt===s&&($e&o)===o&&(Pt===4||Pt===3&&($e&62914560)===$e&&300>ue()-Yd?(ot&2)===0&&il(s,0):mg|=o,sl===$e&&(sl=0)),_r(s)}function o_(s,i){i===0&&(i=Qu()),s=Ba(s,i),s!==null&&(Na(s,i),_r(s))}function mC(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),o_(s,o)}function gC(s,i){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,f=s.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),o_(s,o)}function pC(s,i){return L(s,i)}var eh=null,ol=null,Eg=!1,th=!1,wg=!1,Yi=0;function _r(s){s!==ol&&s.next===null&&(ol===null?eh=ol=s:ol=ol.next=s),th=!0,Eg||(Eg=!0,vC())}function Uc(s,i){if(!wg&&th){wg=!0;do for(var o=!1,c=eh;c!==null;){if(s!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var _=c.suspendedLanes,T=c.pingedLanes;p=(1<<31-Tt(42|s)+1)-1,p&=f&~(_&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,d_(c,p))}else p=$e,p=nr(c,c===vt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Ds(c,p)||(o=!0,d_(c,p));c=c.next}while(o);wg=!1}}function yC(){l_()}function l_(){th=Eg=!1;var s=0;Yi!==0&&NC()&&(s=Yi);for(var i=ue(),o=null,c=eh;c!==null;){var f=c.next,p=c_(c,i);p===0?(c.next=null,o===null?eh=f:o.next=f,f===null&&(ol=o)):(o=c,(s!==0||(p&3)!==0)&&(th=!0)),c=f}rn!==0&&rn!==5||Uc(s),Yi!==0&&(Yi=0)}function c_(s,i){for(var o=s.suspendedLanes,c=s.pingedLanes,f=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var _=31-Tt(p),T=1<<_,V=f[_];V===-1?((T&o)===0||(T&c)!==0)&&(f[_]=Jf(T,i)):V<=i&&(s.expiredLanes|=T),p&=~T}if(i=vt,o=$e,o=nr(s,s===i?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===i&&(ct===2||ct===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&K(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Ds(s,o)){if(i=o&-o,i===s.callbackPriority)return i;switch(c!==null&&K(c),Vr(o)){case 2:case 8:o=Xe;break;case 32:o=Je;break;case 268435456:o=Mr;break;default:o=Je}return c=u_.bind(null,s),o=L(o,c),s.callbackPriority=i,s.callbackNode=o,i}return c!==null&&c!==null&&K(c),s.callbackPriority=2,s.callbackNode=null,2}function u_(s,i){if(rn!==0&&rn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Zd()&&s.callbackNode!==o)return null;var c=$e;return c=nr(s,s===vt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(G0(s,c,i),c_(s,ue()),s.callbackNode!=null&&s.callbackNode===o?u_.bind(null,s):null)}function d_(s,i){if(Zd())return null;G0(s,i,!0)}function vC(){kC(function(){(ot&6)!==0?L(we,yC):l_()})}function Tg(){if(Yi===0){var s=$o;s===0&&(s=er,er<<=1,(er&261888)===0&&(er=256)),Yi=s}return Yi}function h_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Io(""+s)}function f_(s,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,s.id&&o.setAttribute("form",s.id),i.parentNode.insertBefore(o,i),s=new FormData(s),o.parentNode.removeChild(o),s}function bC(s,i,o,c,f){if(i==="submit"&&o&&o.stateNode===f){var p=h_((f[ln]||null).action),_=c.submitter;_&&(i=(i=_[ln]||null)?h_(i.formAction):_.getAttribute("formAction"),i!==null&&(p=i,_=null));var T=new fr("action","action",null,c,f);s.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Yi!==0){var V=_?f_(f,_):new FormData(f);Hm(o,{pending:!0,data:V,method:f.method,action:p},null,V)}}else typeof p=="function"&&(T.preventDefault(),V=_?f_(f,_):new FormData(f),Hm(o,{pending:!0,data:V,method:f.method,action:p},p,V))},currentTarget:f}]})}}for(var Sg=0;Sg<om.length;Sg++){var Ag=om[Sg],_C=Ag.toLowerCase(),xC=Ag[0].toUpperCase()+Ag.slice(1);zs(_C,"on"+xC)}zs(Hv,"onAnimationEnd"),zs(Gv,"onAnimationIteration"),zs($v,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(L1,"onTransitionRun"),zs(V1,"onTransitionStart"),zs(U1,"onTransitionCancel"),zs(Yv,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function m_(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],f=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var _=c.length-1;0<=_;_--){var T=c[_],V=T.instance,W=T.currentTarget;if(T=T.listener,V!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=W;try{p(f)}catch(ne){pd(ne)}f.currentTarget=null,p=V}else for(_=0;_<c.length;_++){if(T=c[_],V=T.instance,W=T.currentTarget,T=T.listener,V!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=W;try{p(f)}catch(ne){pd(ne)}f.currentTarget=null,p=V}}}}function He(s,i){var o=i[Ao];o===void 0&&(o=i[Ao]=new Set);var c=s+"__bubble";o.has(c)||(g_(i,s,2,!1),o.add(c))}function Cg(s,i,o){var c=0;i&&(c|=4),g_(o,s,c,i)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Ng(s){if(!s[nh]){s[nh]=!0,Jl.forEach(function(o){o!=="selectionchange"&&(EC.has(o)||Cg(o,!1,s),Cg(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[nh]||(i[nh]=!0,Cg("selectionchange",!1,i))}}function g_(s,i,o,c){switch(H_(i)){case 2:var f=WC;break;case 8:f=XC;break;default:f=qg}o=f.bind(null,i,o,s),f=void 0,!Pa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?s.addEventListener(i,o,{capture:!0,passive:f}):s.addEventListener(i,o,!0):f!==void 0?s.addEventListener(i,o,{passive:f}):s.addEventListener(i,o,!1)}function Rg(s,i,o,c,f){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var T=c.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=c.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=ar(T),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){c=p=_;continue e}T=T.parentNode}}c=c.return}Ni(function(){var W=p,ne=ps(o),le=[];e:{var X=Kv.get(s);if(X!==void 0){var ee=fr,xe=s;switch(s){case"keypress":if(Ma(o)===0)break e;case"keydown":case"keyup":ee=fd;break;case"focusin":xe="focus",ee=Va;break;case"focusout":xe="blur",ee=Va;break;case"beforeblur":case"afterblur":ee=Va;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case Hv:case Gv:case $v:ee=ad;break;case Yv:ee=A;break;case"scroll":case"scrollend":ee=uc;break;case"wheel":ee=Z;break;case"copy":case"cut":case"paste":ee=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Fr;break;case"toggle":case"beforetoggle":ee=Le}var Ne=(i&4)!==0,yt=!Ne&&(s==="scroll"||s==="scrollend"),G=Ne?X!==null?X+"Capture":null:X;Ne=[];for(var F=W,Q;F!==null;){var ie=F;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||G===null||(ie=Ms(F,G),ie!=null&&Ne.push(Fc(F,ie,Q))),yt)break;F=F.return}0<Ne.length&&(X=new ee(X,xe,null,o,ne),le.push({event:X,listeners:Ne}))}}if((i&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",X&&o!==oc&&(xe=o.relatedTarget||o.fromElement)&&(ar(xe)||xe[rr]))break e;if((ee||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(xe=o.relatedTarget||o.toElement,ee=W,xe=xe?ar(xe):null,xe!==null&&(yt=l(xe),Ne=xe.tag,xe!==yt||Ne!==5&&Ne!==27&&Ne!==6)&&(xe=null)):(ee=null,xe=W),ee!==xe)){if(Ne=dc,ie="onMouseLeave",G="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=Fr,ie="onPointerLeave",G="onPointerEnter",F="pointer"),yt=ee==null?X:Jn(ee),Q=xe==null?X:Jn(xe),X=new Ne(ie,F+"leave",ee,o,ne),X.target=yt,X.relatedTarget=Q,ie=null,ar(ne)===W&&(Ne=new Ne(G,F+"enter",xe,o,ne),Ne.target=Q,Ne.relatedTarget=yt,ie=Ne),yt=ie,ee&&xe)t:{for(Ne=wC,G=ee,F=xe,Q=0,ie=G;ie;ie=Ne(ie))Q++;ie=0;for(var Ae=F;Ae;Ae=Ne(Ae))ie++;for(;0<Q-ie;)G=Ne(G),Q--;for(;0<ie-Q;)F=Ne(F),ie--;for(;Q--;){if(G===F||F!==null&&G===F.alternate){Ne=G;break t}G=Ne(G),F=Ne(F)}Ne=null}else Ne=null;ee!==null&&p_(le,X,ee,Ne,!1),xe!==null&&yt!==null&&p_(le,yt,xe,Ne,!0)}}e:{if(X=W?Jn(W):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var st=Ov;else if(Iv(X))if(Pv)st=P1;else{st=D1;var Ee=I1}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&ko(W.elementType)&&(st=Ov):st=O1;if(st&&(st=st(s,W))){Dv(le,st,o,ne);break e}Ee&&Ee(s,X,W),s==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&rc(X,"number",X.value)}switch(Ee=W?Jn(W):window,s){case"focusin":(Iv(Ee)||Ee.contentEditable==="true")&&(Vo=Ee,rm=W,pc=null);break;case"focusout":pc=rm=Vo=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,Bv(le,o,ne);break;case"selectionchange":if(M1)break;case"keydown":case"keyup":Bv(le,o,ne)}var ze;if(at)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Lo?Ua(s,o)&&(Ye="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ye="onCompositionStart");Ye&&(pr&&o.locale!=="ko"&&(Lo||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Lo&&(ze=cc()):(hr=ne,lc="value"in hr?hr.value:hr.textContent,Lo=!0)),Ee=sh(W,Ye),0<Ee.length&&(Ye=new gr(Ye,s,null,o,ne),le.push({event:Ye,listeners:Ee}),ze?Ye.data=ze:(ze=Mo(o),ze!==null&&(Ye.data=ze)))),(ze=vs?C1(s,o):N1(s,o))&&(Ye=sh(W,"onBeforeInput"),0<Ye.length&&(Ee=new gr("onBeforeInput","beforeinput",null,o,ne),le.push({event:Ee,listeners:Ye}),Ee.data=ze)),bC(le,s,W,o,ne)}m_(le,i)})}function Fc(s,i,o){return{instance:s,listener:i,currentTarget:o}}function sh(s,i){for(var o=i+"Capture",c=[];s!==null;){var f=s,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ms(s,o),f!=null&&c.unshift(Fc(s,f,p)),f=Ms(s,i),f!=null&&c.push(Fc(s,f,p))),s.tag===3)return c;s=s.return}return[]}function wC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function p_(s,i,o,c,f){for(var p=i._reactName,_=[];o!==null&&o!==c;){var T=o,V=T.alternate,W=T.stateNode;if(T=T.tag,V!==null&&V===c)break;T!==5&&T!==26&&T!==27||W===null||(V=W,f?(W=Ms(o,p),W!=null&&_.unshift(Fc(o,W,V))):f||(W=Ms(o,p),W!=null&&_.push(Fc(o,W,V)))),o=o.return}_.length!==0&&s.push({event:i,listeners:_})}var TC=/\r\n?/g,SC=/\u0000|\uFFFD/g;function y_(s){return(typeof s=="string"?s:""+s).replace(TC,`
`).replace(SC,"")}function v_(s,i){return i=y_(i),y_(s)===i}function pt(s,i,o,c,f,p){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Un(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Un(s,""+c);break;case"className":Zn(s,"class",c);break;case"tabIndex":Zn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(s,o,c);break;case"style":ac(s,c,p);break;case"data":if(i!=="object"){Zn(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Io(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&pt(s,i,"name",f.name,f,null),pt(s,i,"formEncType",f.formEncType,f,null),pt(s,i,"formMethod",f.formMethod,f,null),pt(s,i,"formTarget",f.formTarget,f,null)):(pt(s,i,"encType",f.encType,f,null),pt(s,i,"method",f.method,f,null),pt(s,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Io(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=js);break;case"onScroll":c!=null&&He("scroll",s);break;case"onScrollEnd":c!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=Io(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":He("beforetoggle",s),He("toggle",s),No(s,"popover",c);break;case"xlinkActuate":Kt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":No(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sd.get(o)||o,No(s,o,c))}}function kg(s,i,o,c,f,p){switch(o){case"style":ac(s,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Un(s,c):(typeof c=="number"||typeof c=="bigint")&&Un(s,""+c);break;case"onScroll":c!=null&&He("scroll",s);break;case"onScrollEnd":c!=null&&He("scrollend",s);break;case"onClick":c!=null&&(s.onclick=js);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),p=s[ln]||null,p=p!=null?p[o]:null,typeof p=="function"&&s.removeEventListener(i,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(i,c,f);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):No(s,o,c)}}}function yn(s,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:pt(s,i,p,_,o,null)}}f&&pt(s,i,"srcSet",o.srcSet,o,null),c&&pt(s,i,"src",o.src,o,null);return;case"input":He("invalid",s);var T=p=_=f=null,V=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var ne=o[c];if(ne!=null)switch(c){case"name":f=ne;break;case"type":_=ne;break;case"checked":V=ne;break;case"defaultChecked":W=ne;break;case"value":p=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:pt(s,i,c,ne,o,null)}}ed(s,p,T,V,W,_,f,!1);return;case"select":He("invalid",s),c=_=p=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":_=T;break;case"multiple":c=T;default:pt(s,i,f,T,o,null)}i=p,o=_,s.multiple=!!c,i!=null?Ti(s,!!c,i,!1):o!=null&&Ti(s,!!c,o,!0);return;case"textarea":He("invalid",s),p=f=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(T=o[_],T!=null))switch(_){case"value":c=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:pt(s,i,_,T,o,null)}Si(s,c,f,p);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pt(s,i,V,c,o,null)}return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(c=0;c<zc.length;c++)He(zc[c],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:pt(s,i,W,c,o,null)}return;default:if(ko(i)){for(ne in o)o.hasOwnProperty(ne)&&(c=o[ne],c!==void 0&&kg(s,i,ne,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&pt(s,i,T,c,o,null))}function AC(s,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,_=null,T=null,V=null,W=null,ne=null;for(ee in o){var le=o[ee];if(o.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":V=le;default:c.hasOwnProperty(ee)||pt(s,i,ee,null,c,le)}}for(var X in c){var ee=c[X];if(le=o[X],c.hasOwnProperty(X)&&(ee!=null||le!=null))switch(X){case"type":p=ee;break;case"name":f=ee;break;case"checked":W=ee;break;case"defaultChecked":ne=ee;break;case"value":_=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:ee!==le&&pt(s,i,X,ee,c,le)}}Ro(s,_,T,V,W,ne,p,f);return;case"select":ee=_=T=X=null;for(p in o)if(V=o[p],o.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":ee=V;default:c.hasOwnProperty(p)||pt(s,i,p,null,c,V)}for(f in c)if(p=c[f],V=o[f],c.hasOwnProperty(f)&&(p!=null||V!=null))switch(f){case"value":X=p;break;case"defaultValue":T=p;break;case"multiple":_=p;default:p!==V&&pt(s,i,f,p,c,V)}i=T,o=_,c=ee,X!=null?Ti(s,!!o,X,!1):!!c!=!!o&&(i!=null?Ti(s,!!o,i,!0):Ti(s,!!o,o?[]:"",!1));return;case"textarea":ee=X=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:pt(s,i,T,null,c,f)}for(_ in c)if(f=c[_],p=o[_],c.hasOwnProperty(_)&&(f!=null||p!=null))switch(_){case"value":X=f;break;case"defaultValue":ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&pt(s,i,_,f,c,p)}td(s,X,ee);return;case"option":for(var xe in o)if(X=o[xe],o.hasOwnProperty(xe)&&X!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":s.selected=!1;break;default:pt(s,i,xe,null,c,X)}for(V in c)if(X=c[V],ee=o[V],c.hasOwnProperty(V)&&X!==ee&&(X!=null||ee!=null))switch(V){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:pt(s,i,V,X,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in o)X=o[Ne],o.hasOwnProperty(Ne)&&X!=null&&!c.hasOwnProperty(Ne)&&pt(s,i,Ne,null,c,X);for(W in c)if(X=c[W],ee=o[W],c.hasOwnProperty(W)&&X!==ee&&(X!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:pt(s,i,W,X,c,ee)}return;default:if(ko(i)){for(var yt in o)X=o[yt],o.hasOwnProperty(yt)&&X!==void 0&&!c.hasOwnProperty(yt)&&kg(s,i,yt,void 0,c,X);for(ne in c)X=c[ne],ee=o[ne],!c.hasOwnProperty(ne)||X===ee||X===void 0&&ee===void 0||kg(s,i,ne,X,c,ee);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&pt(s,i,G,null,c,X);for(le in c)X=c[le],ee=o[le],!c.hasOwnProperty(le)||X===ee||X==null&&ee==null||pt(s,i,le,X,c,ee)}function b_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],p=f.transferSize,_=f.initiatorType,T=f.duration;if(p&&T&&b_(_)){for(_=0,T=f.responseEnd,c+=1;c<o.length;c++){var V=o[c],W=V.startTime;if(W>T)break;var ne=V.transferSize,le=V.initiatorType;ne&&b_(le)&&(V=V.responseEnd,_+=ne*(V<T?1:(T-W)/(V-W)))}if(--c,i+=8*(p+_)/(f.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ig=null,Dg=null;function rh(s){return s.nodeType===9?s:s.ownerDocument}function __(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Og(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pg=null;function NC(){var s=window.event;return s&&s.type==="popstate"?s===Pg?!1:(Pg=s,!0):(Pg=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,RC=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(s){return w_.resolve(null).then(s).catch(IC)}:E_;function IC(s){setTimeout(function(){throw s})}function Ki(s){return s==="head"}function T_(s,i){var o=i,c=0;do{var f=o.nextSibling;if(s.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(f),dl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Bc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Bc(o);for(var p=o.firstChild;p;){var _=p.nextSibling,T=p.nodeName;p[ir]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=_}}else o==="body"&&Bc(s.ownerDocument.body);o=f}while(o);dl(i)}function S_(s,i){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function jg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jg(o),Co(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function DC(s,i,o,c){for(;s.nodeType===1;){var f=o;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[ir])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Ss(s.nextSibling),s===null)break}return null}function OC(s,i,o){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Ss(s.nextSibling),s===null))return null;return s}function A_(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=Ss(s.nextSibling),s===null))return null;return s}function Mg(s){return s.data==="$?"||s.data==="$~"}function Lg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function PC(s,i){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Ss(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var Vg=null;function C_(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(i===0)return Ss(s.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}s=s.nextSibling}return null}function N_(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return s;i--}else o!=="/$"&&o!=="/&"||i++}s=s.previousSibling}return null}function R_(s,i,o){switch(i=rh(o),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Bc(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Co(s)}var As=new Map,k_=new Set;function ih(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ni=he.d;he.d={f:jC,r:MC,D:LC,C:VC,L:UC,m:zC,X:BC,S:FC,M:qC};function jC(){var s=ni.f(),i=Wd();return s||i}function MC(s){var i=gs(s);i!==null&&i.tag===5&&i.type==="form"?Yb(i):ni.r(s)}var ll=typeof document>"u"?null:document;function I_(s,i,o){var c=ll;if(c&&typeof i=="string"&&i){var f=Vn(i);f='link[rel="'+s+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),k_.has(f)||(k_.add(f),s={rel:s,crossOrigin:o,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),yn(i,"link",s),Yt(i),c.head.appendChild(i)))}}function LC(s){ni.D(s),I_("dns-prefetch",s,null)}function VC(s,i){ni.C(s,i),I_("preconnect",s,i)}function UC(s,i,o){ni.L(s,i,o);var c=ll;if(c&&s&&i){var f='link[rel="preload"][as="'+Vn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Vn(o.imageSizes)+'"]')):f+='[href="'+Vn(s)+'"]';var p=f;switch(i){case"style":p=cl(s);break;case"script":p=ul(s)}As.has(p)||(s=x({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:s,as:i},o),As.set(p,s),c.querySelector(f)!==null||i==="style"&&c.querySelector(qc(p))||i==="script"&&c.querySelector(Hc(p))||(i=c.createElement("link"),yn(i,"link",s),Yt(i),c.head.appendChild(i)))}}function zC(s,i){ni.m(s,i);var o=ll;if(o&&s){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Vn(c)+'"][href="'+Vn(s)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ul(s)}if(!As.has(p)&&(s=x({rel:"modulepreload",href:s},i),As.set(p,s),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hc(p)))return}c=o.createElement("link"),yn(c,"link",s),Yt(c),o.head.appendChild(c)}}}function FC(s,i,o){ni.S(s,i,o);var c=ll;if(c&&s){var f=or(c).hoistableStyles,p=cl(s);i=i||"default";var _=f.get(p);if(!_){var T={loading:0,preload:null};if(_=c.querySelector(qc(p)))T.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":i},o),(o=As.get(p))&&Ug(s,o);var V=_=c.createElement("link");Yt(V),yn(V,"link",s),V._p=new Promise(function(W,ne){V.onload=W,V.onerror=ne}),V.addEventListener("load",function(){T.loading|=1}),V.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ah(_,i,c)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(p,_)}}}function BC(s,i){ni.X(s,i);var o=ll;if(o&&s){var c=or(o).hoistableScripts,f=ul(s),p=c.get(f);p||(p=o.querySelector(Hc(f)),p||(s=x({src:s,async:!0},i),(i=As.get(f))&&zg(s,i),p=o.createElement("script"),Yt(p),yn(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function qC(s,i){ni.M(s,i);var o=ll;if(o&&s){var c=or(o).hoistableScripts,f=ul(s),p=c.get(f);p||(p=o.querySelector(Hc(f)),p||(s=x({src:s,async:!0,type:"module"},i),(i=As.get(f))&&zg(s,i),p=o.createElement("script"),Yt(p),yn(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function D_(s,i,o,c){var f=(f=je.current)?ih(f):null;if(!f)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=cl(o.href),o=or(f).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=cl(o.href);var p=or(f).hoistableStyles,_=p.get(s);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,_),(p=f.querySelector(qc(s)))&&!p._p&&(_.instance=p,_.state.loading=5),As.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},As.set(s,o),p||HC(f,s,o,_.state))),i&&c===null)throw Error(r(528,""));return _}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ul(o),o=or(f).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function cl(s){return'href="'+Vn(s)+'"'}function qc(s){return'link[rel="stylesheet"]['+s+"]"}function O_(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function HC(s,i,o,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),yn(i,"link",o),Yt(i),s.head.appendChild(i))}function ul(s){return'[src="'+Vn(s)+'"]'}function Hc(s){return"script[async]"+s}function P_(s,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+Vn(o.href)+'"]');if(c)return i.instance=c,Yt(c),c;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Yt(c),yn(c,"style",f),ah(c,o.precedence,s),i.instance=c;case"stylesheet":f=cl(o.href);var p=s.querySelector(qc(f));if(p)return i.state.loading|=4,i.instance=p,Yt(p),p;c=O_(o),(f=As.get(f))&&Ug(c,f),p=(s.ownerDocument||s).createElement("link"),Yt(p);var _=p;return _._p=new Promise(function(T,V){_.onload=T,_.onerror=V}),yn(p,"link",c),i.state.loading|=4,ah(p,o.precedence,s),i.instance=p;case"script":return p=ul(o.src),(f=s.querySelector(Hc(p)))?(i.instance=f,Yt(f),f):(c=o,(f=As.get(p))&&(c=x({},o),zg(c,f)),s=s.ownerDocument||s,f=s.createElement("script"),Yt(f),yn(f,"link",c),s.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,ah(c,o.precedence,s));return i.instance}function ah(s,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,_=0;_<c.length;_++){var T=c[_];if(T.dataset.precedence===i)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(s,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(s,i.firstChild))}function Ug(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function zg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var oh=null;function j_(s,i,o){if(oh===null){var c=new Map,f=oh=new Map;f.set(o,c)}else f=oh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),f=0;f<o.length;f++){var p=o[f];if(!(p[ir]||p[$t]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(i)||"";_=s+_;var T=c.get(_);T?T.push(p):c.set(_,[p])}}return c}function M_(s,i,o){s=s.ownerDocument||s,s.head.insertBefore(o,i==="title"?s.querySelector("head > title"):null)}function GC(s,i,o){if(o===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function L_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function $C(s,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=cl(c.href),p=i.querySelector(qc(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=lh.bind(s),i.then(s,s)),o.state.loading|=4,o.instance=p,Yt(p);return}p=i.ownerDocument||i,c=O_(c),(f=As.get(f))&&Ug(c,f),p=p.createElement("link"),Yt(p);var _=p;_._p=new Promise(function(T,V){_.onload=T,_.onerror=V}),yn(p,"link",c),o.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=lh.bind(s),i.addEventListener("load",o),i.addEventListener("error",o))}}var Fg=0;function YC(s,i){return s.stylesheets&&s.count===0&&uh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&uh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+i);0<s.imgBytes&&Fg===0&&(Fg=62500*CC());var f=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&uh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Fg?50:800)+i);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ch=null;function uh(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ch=new Map,i.forEach(KC,s),ch=null,lh.call(s))}function KC(s,i){if(!(i.state.loading&4)){var o=ch.get(s);if(o)var c=o.get(null);else{o=new Map,ch.set(s,o);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var _=f[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}f=i.instance,_=f.getAttribute("data-precedence"),p=o.get(_)||c,p===c&&o.set(null,f),o.set(_,f),this.count++,c=lh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),i.state.loading|=4}}var Gc={$$typeof:$,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function QC(s,i,o,c,f,p,_,T,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.hiddenUpdates=sr(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function V_(s,i,o,c,f,p,_,T,V,W,ne,le){return s=new QC(s,i,o,_,V,W,ne,le,T),i=1,p===!0&&(i|=24),p=ts(3,null,null,i),s.current=p,p.stateNode=s,i=_m(),i.refCount++,s.pooledCache=i,i.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:i},Tm(p),s}function U_(s){return s?(s=Fo,s):Fo}function z_(s,i,o,c,f,p){f=U_(f),c.context===null?c.context=f:c.pendingContext=f,c=Li(i),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Vi(s,c,i),o!==null&&(Hn(o,s,i),wc(o,s,i))}function F_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function Bg(s,i){F_(s,i),(s=s.alternate)&&F_(s,i)}function B_(s){if(s.tag===13||s.tag===31){var i=Ba(s,67108864);i!==null&&Hn(i,s,67108864),Bg(s,67108864)}}function q_(s){if(s.tag===13||s.tag===31){var i=as();i=ka(i);var o=Ba(s,i);o!==null&&Hn(o,s,i),Bg(s,i)}}var dh=!0;function WC(s,i,o,c){var f=J.T;J.T=null;var p=he.p;try{he.p=2,qg(s,i,o,c)}finally{he.p=p,J.T=f}}function XC(s,i,o,c){var f=J.T;J.T=null;var p=he.p;try{he.p=8,qg(s,i,o,c)}finally{he.p=p,J.T=f}}function qg(s,i,o,c){if(dh){var f=Hg(c);if(f===null)Rg(s,i,c,hh,o),G_(s,c);else if(ZC(f,s,i,o,c))c.stopPropagation();else if(G_(s,c),i&4&&-1<JC.indexOf(s)){for(;f!==null;){var p=gs(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=tr(p.pendingLanes);if(_!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var V=1<<31-Tt(_);T.entanglements[1]|=V,_&=~V}_r(p),(ot&6)===0&&(Kd=ue()+500,Uc(0))}}break;case 31:case 13:T=Ba(p,2),T!==null&&Hn(T,p,2),Wd(),Bg(p,2)}if(p=Hg(c),p===null&&Rg(s,i,c,hh,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else Rg(s,i,c,null,o)}}function Hg(s){return s=ps(s),Gg(s)}var hh=null;function Gg(s){if(hh=null,s=ar(s),s!==null){var i=l(s);if(i===null)s=null;else{var o=i.tag;if(o===13){if(s=u(i),s!==null)return s;s=null}else if(o===31){if(s=m(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return hh=s,null}function H_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case we:return 2;case Xe:return 8;case Je:case En:return 32;case Mr:return 268435456;default:return 32}default:return 32}}var $g=!1,Qi=null,Wi=null,Xi=null,$c=new Map,Yc=new Map,Ji=[],JC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(s,i){switch(s){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":$c.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(i.pointerId)}}function Kc(s,i,o,c,f,p){return s===null||s.nativeEvent!==p?(s={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},i!==null&&(i=gs(i),i!==null&&B_(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),s)}function ZC(s,i,o,c,f){switch(i){case"focusin":return Qi=Kc(Qi,s,i,o,c,f),!0;case"dragenter":return Wi=Kc(Wi,s,i,o,c,f),!0;case"mouseover":return Xi=Kc(Xi,s,i,o,c,f),!0;case"pointerover":var p=f.pointerId;return $c.set(p,Kc($c.get(p)||null,s,i,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Yc.set(p,Kc(Yc.get(p)||null,s,i,o,c,f)),!0}return!1}function $_(s){var i=ar(s.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){s.blockedOn=i,Os(s.priority,function(){q_(o)});return}}else if(i===31){if(i=m(o),i!==null){s.blockedOn=i,Os(s.priority,function(){q_(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=Hg(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);oc=c,o.target.dispatchEvent(c),oc=null}else return i=gs(o),i!==null&&B_(i),s.blockedOn=o,!1;i.shift()}return!0}function Y_(s,i,o){fh(s)&&o.delete(i)}function eN(){$g=!1,Qi!==null&&fh(Qi)&&(Qi=null),Wi!==null&&fh(Wi)&&(Wi=null),Xi!==null&&fh(Xi)&&(Xi=null),$c.forEach(Y_),Yc.forEach(Y_)}function mh(s,i){s.blockedOn===i&&(s.blockedOn=null,$g||($g=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eN)))}var gh=null;function K_(s){gh!==s&&(gh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gh===s&&(gh=null);for(var i=0;i<s.length;i+=3){var o=s[i],c=s[i+1],f=s[i+2];if(typeof c!="function"){if(Gg(c||o)===null)continue;break}var p=gs(o);p!==null&&(s.splice(i,3),i-=3,Hm(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function dl(s){function i(V){return mh(V,s)}Qi!==null&&mh(Qi,s),Wi!==null&&mh(Wi,s),Xi!==null&&mh(Xi,s),$c.forEach(i),Yc.forEach(i);for(var o=0;o<Ji.length;o++){var c=Ji[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ji.length&&(o=Ji[0],o.blockedOn===null);)$_(o),o.blockedOn===null&&Ji.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],_=f[ln]||null;if(typeof p=="function")_||K_(o);else if(_){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,_=p[ln]||null)T=_.formAction;else if(Gg(f)!==null)continue}else T=_.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),K_(o)}}}function Q_(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Yg(s){this._internalRoot=s}ph.prototype.render=Yg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=as();z_(o,c,s,i,null,null)},ph.prototype.unmount=Yg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;z_(s.current,2,null,s,null,null),Wd(),i[rr]=null}};function ph(s){this._internalRoot=s}ph.prototype.unstable_scheduleHydration=function(s){if(s){var i=Wu();s={blockedOn:null,target:s,priority:i};for(var o=0;o<Ji.length&&i!==0&&i<Ji[o].priority;o++);Ji.splice(o,0,s),o===0&&$_(s)}};var W_=e.version;if(W_!=="19.2.0")throw Error(r(527,W_,"19.2.0"));he.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var tN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Rn=yh.inject(tN),zt=yh}catch{}}return Wc.createRoot=function(s,i){if(!a(s))throw Error(r(299));var o=!1,c="",f=s0,p=r0,_=i0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=V_(s,1,!1,null,null,o,c,null,f,p,_,Q_),s[rr]=i.current,Ng(s),new Yg(i)},Wc.hydrateRoot=function(s,i,o){if(!a(s))throw Error(r(299));var c=!1,f="",p=s0,_=r0,T=i0,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),i=V_(s,1,!0,i,o??null,c,f,V,p,_,T,Q_),i.context=U_(null),o=i.current,c=as(),c=ka(c),f=Li(c),f.callback=null,Vi(o,f,c),o=c,i.current.lanes=o,Na(i,o),_r(i),s[rr]=i.current,Ng(s),new ph(i)},Wc.version="19.2.0",Wc}var ax;function hN(){if(ax)return Wg.exports;ax=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wg.exports=dN(),Wg.exports}var fN=hN();var ox="popstate";function mN(n={}){function e(r,a){let{pathname:l,search:u,hash:m}=r.location;return _p("",{pathname:l,search:u,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:vu(a)}return pN(e,t,null,n)}function Ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gN(){return Math.random().toString(36).substring(2,10)}function lx(n,e){return{usr:n.state,key:n.key,idx:e}}function _p(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ul(e):e,state:t,key:e&&e.key||r||gN()}}function vu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ul(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function pN(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,m="POP",y=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function x(){m="POP";let P=v(),B=P==null?null:P-g;g=P,y&&y({action:m,location:D.location,delta:B})}function w(P,B){m="PUSH";let H=_p(D.location,P,B);g=v()+1;let $=lx(H,g),ae=D.createHref(H);try{u.pushState($,"",ae)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(ae)}l&&y&&y({action:m,location:D.location,delta:1})}function I(P,B){m="REPLACE";let H=_p(D.location,P,B);g=v();let $=lx(H,g),ae=D.createHref(H);u.replaceState($,"",ae),l&&y&&y({action:m,location:D.location,delta:0})}function O(P){return yN(P)}let D={get action(){return m},get location(){return n(a,u)},listen(P){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(ox,x),y=P,()=>{a.removeEventListener(ox,x),y=null}},createHref(P){return e(a,P)},createURL:O,encodeLocation(P){let B=O(P);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:I,go(P){return u.go(P)}};return D}function yN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:vu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Cw(n,e,t="/"){return vN(n,e,t,!1)}function vN(n,e,t,r){let a=typeof e=="string"?Ul(e):e,l=ci(a.pathname||"/",t);if(l==null)return null;let u=Nw(n);bN(u);let m=null;for(let y=0;m==null&&y<u.length;++y){let g=kN(l);m=NN(u[y],g,r)}return m}function Nw(n,e=[],t=[],r="",a=!1){let l=(u,m,y=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&y)return;Ct(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let x=oi([r,v.relativePath]),w=t.concat(v);u.children&&u.children.length>0&&(Ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Nw(u.children,e,w,x,y)),!(u.path==null&&!u.index)&&e.push({path:x,score:AN(x,u.index),routesMeta:w})};return n.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))l(u,m);else for(let y of Rw(u.path))l(u,m,!0,y)}),e}function Rw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=Rw(r.join("/")),m=[];return m.push(...u.map(y=>y===""?l:[l,y].join("/"))),a&&m.push(...u),m.map(y=>n.startsWith("/")&&y===""?"/":y)}function bN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:CN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var _N=/^:[\w-]+$/,xN=3,EN=2,wN=1,TN=10,SN=-2,cx=n=>n==="*";function AN(n,e){let t=n.split("/"),r=t.length;return t.some(cx)&&(r+=SN),e&&(r+=EN),t.filter(a=>!cx(a)).reduce((a,l)=>a+(_N.test(l)?xN:l===""?wN:TN),r)}function CN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function NN(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",u=[];for(let m=0;m<r.length;++m){let y=r[m],g=m===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=zh({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},v),w=y.route;if(!x&&g&&t&&!r[r.length-1].route.index&&(x=zh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:oi([l,x.pathname]),pathnameBase:jN(oi([l,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(l=oi([l,x.pathnameBase]))}return u}function zh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=RN(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:x},w)=>{if(v==="*"){let O=m[w]||"";u=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const I=m[w];return x&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:n}}function RN(n,e=!1,t=!0){Cs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,y)=>(r.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function kN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var IN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DN=n=>IN.test(n);function ON(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Ul(n):n,l;if(t)if(DN(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),Cs(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=ux(t.substring(1),"/"):l=ux(t,e)}else l=e;return{pathname:l,search:MN(r),hash:LN(a)}}function ux(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function ep(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ey(n){let e=PN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ty(n,e,t,r=!1){let a;typeof n=="string"?a=Ul(n):(a={...n},Ct(!a.pathname||!a.pathname.includes("?"),ep("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),ep("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),ep("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,m;if(u==null)m=t;else{let x=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),x-=1;a.pathname=w.join("/")}m=x>=0?e[x]:"/"}let y=ON(a,m),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(g||v)&&(y.pathname+="/"),y}var oi=n=>n.join("/").replace(/\/\/+/g,"/"),jN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),MN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function VN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kw=["POST","PUT","PATCH","DELETE"];new Set(kw);var UN=["GET",...kw];new Set(UN);var zl=N.createContext(null);zl.displayName="DataRouter";var pf=N.createContext(null);pf.displayName="DataRouterState";N.createContext(!1);var Iw=N.createContext({isTransitioning:!1});Iw.displayName="ViewTransition";var zN=N.createContext(new Map);zN.displayName="Fetchers";var FN=N.createContext(null);FN.displayName="Await";var Xs=N.createContext(null);Xs.displayName="Navigation";var Ru=N.createContext(null);Ru.displayName="Location";var Rs=N.createContext({outlet:null,matches:[],isDataRoute:!1});Rs.displayName="Route";var ny=N.createContext(null);ny.displayName="RouteError";function BN(n,{relative:e}={}){Ct(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=N.useContext(Xs),{hash:a,pathname:l,search:u}=ku(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:oi([t,l])),r.createHref({pathname:m,search:u,hash:a})}function Fl(){return N.useContext(Ru)!=null}function pi(){return Ct(Fl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ru).location}var Dw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ow(n){N.useContext(Xs).static||N.useLayoutEffect(n)}function It(){let{isDataRoute:n}=N.useContext(Rs);return n?sR():qN()}function qN(){Ct(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(zl),{basename:e,navigator:t}=N.useContext(Xs),{matches:r}=N.useContext(Rs),{pathname:a}=pi(),l=JSON.stringify(ey(r)),u=N.useRef(!1);return Ow(()=>{u.current=!0}),N.useCallback((y,g={})=>{if(Cs(u.current,Dw),!u.current)return;if(typeof y=="number"){t.go(y);return}let v=ty(y,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:oi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}var HN=N.createContext(null);function GN(n){let e=N.useContext(Rs).outlet;return N.useMemo(()=>e&&N.createElement(HN.Provider,{value:n},e),[e,n])}function yf(){let{matches:n}=N.useContext(Rs),e=n[n.length-1];return e?e.params:{}}function ku(n,{relative:e}={}){let{matches:t}=N.useContext(Rs),{pathname:r}=pi(),a=JSON.stringify(ey(t));return N.useMemo(()=>ty(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function $N(n,e){return Pw(n,e)}function Pw(n,e,t,r,a){Ct(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Xs),{matches:u}=N.useContext(Rs),m=u[u.length-1],y=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",x=m&&m.route;{let H=x&&x.path||"";jw(g,!x||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=pi(),I;if(e){let H=typeof e=="string"?Ul(e):e;Ct(v==="/"||H.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),I=H}else I=w;let O=I.pathname||"/",D=O;if(v!=="/"){let H=v.replace(/^\//,"").split("/");D="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let P=Cw(n,{pathname:D});Cs(x||P!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Cs(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=XN(P&&P.map(H=>Object.assign({},H,{params:Object.assign({},y,H.params),pathname:oi([v,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:oi([v,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,t,r,a);return e&&B?N.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},B):B}function YN(){let n=nR(),e=VN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:a},t):null,u)}var KN=N.createElement(YN,null),QN=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?N.createElement(Rs.Provider,{value:this.props.routeContext},N.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WN({routeContext:n,match:e,children:t}){let r=N.useContext(zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Rs.Provider,{value:n},t)}function XN(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t?.errors;if(u!=null){let v=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);Ct(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let m=!1,y=-1;if(t)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(y=v),x.route.id){let{loaderData:w,errors:I}=t,O=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!I||I[x.route.id]===void 0);if(x.route.lazy||O){m=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}let g=t&&r?(v,x)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:x})}:void 0;return l.reduceRight((v,x,w)=>{let I,O=!1,D=null,P=null;t&&(I=u&&x.route.id?u[x.route.id]:void 0,D=x.route.errorElement||KN,m&&(y<0&&w===0?(jw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,P=null):y===w&&(O=!0,P=x.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,w+1)),H=()=>{let $;return I?$=D:O?$=P:x.route.Component?$=N.createElement(x.route.Component,null):x.route.element?$=x.route.element:$=v,N.createElement(WN,{match:x,routeContext:{outlet:v,matches:B,isDataRoute:t!=null},children:$})};return t&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?N.createElement(QN,{location:t.location,revalidation:t.revalidation,component:D,error:I,children:H(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:g}):H()},null)}function sy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JN(n){let e=N.useContext(zl);return Ct(e,sy(n)),e}function ZN(n){let e=N.useContext(pf);return Ct(e,sy(n)),e}function eR(n){let e=N.useContext(Rs);return Ct(e,sy(n)),e}function ry(n){let e=eR(n),t=e.matches[e.matches.length-1];return Ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tR(){return ry("useRouteId")}function nR(){let n=N.useContext(ny),e=ZN("useRouteError"),t=ry("useRouteError");return n!==void 0?n:e.errors?.[t]}function sR(){let{router:n}=JN("useNavigate"),e=ry("useNavigate"),t=N.useRef(!1);return Ow(()=>{t.current=!0}),N.useCallback(async(a,l={})=>{Cs(t.current,Dw),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var dx={};function jw(n,e,t){!e&&!dx[n]&&(dx[n]=!0,Cs(!1,t))}N.memo(rR);function rR({routes:n,future:e,state:t,unstable_onError:r}){return Pw(n,void 0,t,r,e)}function Sl({to:n,replace:e,state:t,relative:r}){Ct(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Xs);Cs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Rs),{pathname:u}=pi(),m=It(),y=ty(n,ey(l),u,r==="path"),g=JSON.stringify(y);return N.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:r})},[m,g,r,e,t]),null}function vf(n){return GN(n.context)}function it(n){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){Ct(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=Ul(t));let{pathname:y="/",search:g="",hash:v="",state:x=null,key:w="default"}=t,I=N.useMemo(()=>{let O=ci(y,u);return O==null?null:{location:{pathname:O,search:g,hash:v,state:x,key:w},navigationType:r}},[u,y,g,v,x,w,r]);return Cs(I!=null,`<Router basename="${u}"> is not able to match the URL "${y}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:N.createElement(Xs.Provider,{value:m},N.createElement(Ru.Provider,{children:e,value:I}))}function aR({children:n,location:e}){return $N(xp(n),e)}function xp(n,e=[]){let t=[];return N.Children.forEach(n,(r,a)=>{if(!N.isValidElement(r))return;let l=[...e,a];if(r.type===N.Fragment){t.push.apply(t,xp(r.props.children,l));return}Ct(r.type===it,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=xp(r.props.children,l)),t.push(u)}),t}var Ch="get",Nh="application/x-www-form-urlencoded";function bf(n){return n!=null&&typeof n.tagName=="string"}function oR(n){return bf(n)&&n.tagName.toLowerCase()==="button"}function lR(n){return bf(n)&&n.tagName.toLowerCase()==="form"}function cR(n){return bf(n)&&n.tagName.toLowerCase()==="input"}function uR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dR(n,e){return n.button===0&&(!e||e==="_self")&&!uR(n)}var vh=null;function hR(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var fR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(n){return n!=null&&!fR.has(n)?(Cs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):n}function mR(n,e){let t,r,a,l,u;if(lR(n)){let m=n.getAttribute("action");r=m?ci(m,e):null,t=n.getAttribute("method")||Ch,a=tp(n.getAttribute("enctype"))||Nh,l=new FormData(n)}else if(oR(n)||cR(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||m.getAttribute("action");if(r=y?ci(y,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||Ch,a=tp(n.getAttribute("formenctype"))||tp(m.getAttribute("enctype"))||Nh,l=new FormData(m,n),!hR()){let{name:g,type:v,value:x}=n;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,x)}}else{if(bf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ch,r=null,a=Nh,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ci(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function pR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await pR(l,t);return u.links?u.links():[]}return[]}));return ER(r.flat(1).filter(yR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function hx(n,e,t,r,a,l){let u=(y,g)=>t[g]?y.route.id!==t[g].route.id:!0,m=(y,g)=>t[g].pathname!==y.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==y.params["*"];return l==="assets"?e.filter((y,g)=>u(y,g)||m(y,g)):l==="data"?e.filter((y,g)=>{let v=r.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(u(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function bR(n,e,{includeHydrateFallback:t}={}){return _R(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function _R(n){return[...new Set(n)]}function xR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ER(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(xR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function Mw(){let n=N.useContext(zl);return iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wR(){let n=N.useContext(pf);return iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ay=N.createContext(void 0);ay.displayName="FrameworkContext";function Lw(){let n=N.useContext(ay);return iy(n,"You must render this element inside a <HydratedRouter> element"),n}function TR(n,e){let t=N.useContext(ay),[r,a]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=e,w=N.useRef(null);N.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=B=>{B.forEach(H=>{u(H.isIntersecting)})},P=new IntersectionObserver(D,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[n]),N.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let I=()=>{a(!0)},O=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:Xc(m,I),onBlur:Xc(y,O),onMouseEnter:Xc(g,I),onMouseLeave:Xc(v,O),onTouchStart:Xc(x,I)}]:[!1,w,{}]}function Xc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function SR({page:n,...e}){let{router:t}=Mw(),r=N.useMemo(()=>Cw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?N.createElement(CR,{page:n,matches:r,...e}):null}function AR(n){let{manifest:e,routeModules:t}=Lw(),[r,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return vR(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),r}function CR({page:n,matches:e,...t}){let r=pi(),{manifest:a,routeModules:l}=Lw(),{basename:u}=Mw(),{loaderData:m,matches:y}=wR(),g=N.useMemo(()=>hx(n,e,y,a,r,"data"),[n,e,y,a,r]),v=N.useMemo(()=>hx(n,e,y,a,r,"assets"),[n,e,y,a,r]),x=N.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let O=new Set,D=!1;if(e.forEach(B=>{let H=a.routes[B.route.id];!H||!H.hasLoader||(!g.some($=>$.route.id===B.route.id)&&B.route.id in m&&l[B.route.id]?.shouldRevalidate||H.hasClientLoader?D=!0:O.add(B.route.id))}),O.size===0)return[];let P=gR(n,u,"data");return D&&O.size>0&&P.searchParams.set("_routes",e.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[P.pathname+P.search]},[u,m,r,a,g,e,n,l]),w=N.useMemo(()=>bR(v,a),[v,a]),I=AR(v);return N.createElement(N.Fragment,null,x.map(O=>N.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),w.map(O=>N.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),I.map(({key:O,link:D})=>N.createElement("link",{key:O,nonce:t.nonce,...D})))}function NR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.9.6")}catch{}function RR({basename:n,children:e,window:t}){let r=N.useRef();r.current==null&&(r.current=mN({window:t,v5Compat:!0}));let a=r.current,[l,u]=N.useState({action:a.action,location:a.location}),m=N.useCallback(y=>{N.startTransition(()=>u(y))},[u]);return N.useLayoutEffect(()=>a.listen(m),[a,m]),N.createElement(iR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=N.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:m,target:y,to:g,preventScrollReset:v,viewTransition:x,...w},I){let{basename:O}=N.useContext(Xs),D=typeof g=="string"&&Uw.test(g),P,B=!1;if(typeof g=="string"&&D&&(P=g,Vw))try{let R=new URL(window.location.href),U=g.startsWith("//")?new URL(R.protocol+g):new URL(g),j=ci(U.pathname,O);U.origin===R.origin&&j!=null?g=j+U.search+U.hash:B=!0}catch{Cs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=BN(g,{relative:a}),[$,ae,se]=TR(r,w),z=DR(g,{replace:u,state:m,target:y,preventScrollReset:v,relative:a,viewTransition:x});function C(R){e&&e(R),R.defaultPrevented||z(R)}let S=N.createElement("a",{...w,...se,href:P||H,onClick:B||l?e:C,ref:NR(I,ae),target:y,"data-discover":!D&&t==="render"?"true":void 0});return $&&!D?N.createElement(N.Fragment,null,S,N.createElement(SR,{page:H})):S});An.displayName="Link";var Rh=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:m,children:y,...g},v){let x=ku(u,{relative:g.relative}),w=pi(),I=N.useContext(pf),{navigator:O,basename:D}=N.useContext(Xs),P=I!=null&&LR(x)&&m===!0,B=O.encodeLocation?O.encodeLocation(x).pathname:x.pathname,H=w.pathname,$=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(H=H.toLowerCase(),$=$?$.toLowerCase():null,B=B.toLowerCase()),$&&D&&($=ci($,D)||$);const ae=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let se=H===B||!a&&H.startsWith(B)&&H.charAt(ae)==="/",z=$!=null&&($===B||!a&&$.startsWith(B)&&$.charAt(B.length)==="/"),C={isActive:se,isPending:z,isTransitioning:P},S=se?e:void 0,R;typeof r=="function"?R=r(C):R=[r,se?"active":null,z?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(C):l;return N.createElement(An,{...g,"aria-current":S,className:R,ref:v,style:U,to:u,viewTransition:m},typeof y=="function"?y(C):y)});Rh.displayName="NavLink";var kR=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:u=Ch,action:m,onSubmit:y,relative:g,preventScrollReset:v,viewTransition:x,...w},I)=>{let O=jR(),D=MR(m,{relative:g}),P=u.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&Uw.test(m),H=$=>{if(y&&y($),$.defaultPrevented)return;$.preventDefault();let ae=$.nativeEvent.submitter,se=ae?.getAttribute("formmethod")||u;O(ae||$.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:x})};return N.createElement("form",{ref:I,method:P,action:D,onSubmit:r?y:H,...w,"data-discover":!B&&n==="render"?"true":void 0})});kR.displayName="Form";function IR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(n){let e=N.useContext(zl);return Ct(e,IR(n)),e}function DR(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let m=It(),y=pi(),g=ku(n,{relative:l});return N.useCallback(v=>{if(dR(v,e)){v.preventDefault();let x=t!==void 0?t:vu(y)===vu(g);m(n,{replace:x,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[y,m,g,t,r,e,n,a,l,u])}var OR=0,PR=()=>`__${String(++OR)}__`;function jR(){let{router:n}=zw("useSubmit"),{basename:e}=N.useContext(Xs),t=tR();return N.useCallback(async(r,a={})=>{let{action:l,method:u,encType:m,formData:y,body:g}=mR(r,e);if(a.navigate===!1){let v=a.fetcherKey||PR();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:y,body:g,formMethod:a.method||u,formEncType:a.encType||m,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:y,body:g,formMethod:a.method||u,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function MR(n,{relative:e}={}){let{basename:t}=N.useContext(Xs),r=N.useContext(Rs);Ct(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...ku(n||".",{relative:e})},u=pi();if(n==null){l.search=u.search;let m=new URLSearchParams(l.search),y=m.getAll("index");if(y.some(v=>v==="")){m.delete("index"),y.filter(x=>x).forEach(x=>m.append("index",x));let v=m.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:oi([t,l.pathname])),vu(l)}function LR(n,{relative:e}={}){let t=N.useContext(Iw);Ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zw("useViewTransitionState"),a=ku(n,{relative:e});if(!t.isTransitioning)return!1;let l=ci(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ci(t.nextLocation.pathname,r)||t.nextLocation.pathname;return zh(a.pathname,u)!=null||zh(a.pathname,l)!=null}function VR(){const n=It(),[e,t]=N.useState(null),[r,a]=N.useState(null);N.useEffect(()=>{console.log("DEBUG: LandingPage carregada")},[]);const l=()=>e?(localStorage.setItem("xlife.uiLanguage",e),a(null),!0):(a("Escolhe a lngua antes de continuar."),!1),u=()=>{l()&&n("/login")},m=()=>{l()&&n("/register")};return h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#050816] to-[#02010b] flex flex-col items-center justify-center px-4",children:h.jsxs("div",{className:"max-w-xl w-full text-center space-y-10",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-5xl font-extrabold text-white drop-shadow-[0_0_25px_rgba(236,72,153,0.7)]",children:"XLife"}),h.jsx("p",{className:"mt-4 text-gray-300",children:"Escolhe a lngua da aplicao antes de entrar."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xs tracking-[0.3em] text-gray-400 uppercase",children:"Lngua da interface"}),h.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:[{code:"pt",label:"Portugus"},{code:"en",label:"Ingls"},{code:"es",label:"Espanhol"},{code:"fr",label:"Francs"},{code:"de",label:"Alemo"}].map(y=>{const g=e===y.code;return h.jsx("button",{type:"button",onClick:()=>t(y.code),className:`px-5 py-2.5 rounded-full border text-sm transition
                    ${g?"border-emerald-400/80 bg-emerald-500/10 text-white":"border-gray-700/80 bg-black/20 text-gray-300 hover:border-emerald-400/60"}`,children:y.label},y.code)})})]}),r&&h.jsx("p",{className:"text-sm text-pink-400 font-medium",children:r}),h.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[h.jsx("button",{type:"button",onClick:u,className:"px-10 py-3 rounded-full bg-gradient-to-r from-pink-500 to-rose-500 text-white font-semibold shadow-lg shadow-pink-500/40 hover:brightness-110 transition",children:"Entrar"}),h.jsx("button",{type:"button",onClick:m,className:"px-10 py-3 rounded-full border border-gray-600 bg-black/40 text-gray-100 font-semibold hover:border-pink-500/70 hover:text-white transition",children:"Registar"})]})]})})}const UR=()=>{};var fx={};const Fw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},zR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],m=n[t++],y=((a&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,m=u?n[a+1]:0,y=a+2<n.length,g=y?n[a+2]:0,v=l>>2,x=(l&3)<<4|m>>4;let w=(m&15)<<2|g>>6,I=g&63;y||(I=64,u||(w=64)),r.push(t[v],t[x],t[w],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Fw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],m=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||m==null||g==null||x==null)throw new FR;const w=l<<2|m>>4;if(r.push(w),g!==64){const I=m<<4&240|g>>2;if(r.push(I),x!==64){const O=g<<6&192|x;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class FR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BR=function(n){const e=Fw(n);return Bw.encodeByteArray(e,!0)},Fh=function(n){return BR(n).replace(/\./g,"")},qw=function(n){try{return Bw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HR=()=>qR().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof fx>"u")return;const n=fx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$R=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&qw(n[1]);return e&&JSON.parse(e)},_f=()=>{try{return UR()||HR()||GR()||$R()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hw=n=>_f()?.emulatorHosts?.[n],Gw=n=>{const e=Hw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$w=()=>_f()?.config,Yw=n=>_f()?.[`_${n}`];class YR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function xa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oy(n){return(await fetch(n,{credentials:"include"})).ok}function Kw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Fh(JSON.stringify(t)),Fh(JSON.stringify(u)),""].join(".")}const lu={};function KR(){const n={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?n.emulator.push(e):n.prod.push(e);return n}function QR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let mx=!1;function ly(n,e){if(typeof window>"u"||typeof document>"u"||!xa(window.location.host)||lu[n]===e||lu[n]||mx)return;lu[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=KR().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{mx=!0,u()},w}function v(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=QR(r),I=t("text"),O=document.getElementById(I)||document.createElement("span"),D=t("learnmore"),P=document.getElementById(D)||document.createElement("a"),B=t("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;m($),v(P,D);const ae=g();y(H,B),$.append(H,O,P,ae),document.body.appendChild($)}l?(O.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function XR(){const n=_f()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cy(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ek(){const n=Nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tk(){return!XR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uy(){try{return typeof indexedDB=="object"}catch{return!1}}function dy(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function Qw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const nk="FirebaseError";class ks extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nk,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,po.prototype.create)}}class po{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?sk(l,r):"Error",m=`${this.serviceName}: ${u} (${a}).`;return new ks(a,m,r)}}function sk(n,e){return n.replace(rk,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const rk=/\{\$([^}]+)}/g;function ik(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kr(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],u=e[a];if(gx(l)&&gx(u)){if(!kr(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function gx(n){return n!==null&&typeof n=="object"}function Iu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function su(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ak(n,e){const t=new ok(n,e);return t.subscribe.bind(t)}class ok{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");lk(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=np),a.error===void 0&&(a.error=np),a.complete===void 0&&(a.complete=np);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function np(){}const ck=1e3,uk=2,dk=14400*1e3,hk=.5;function px(n,e=ck,t=uk){const r=e*Math.pow(t,n),a=Math.round(hk*r*(Math.random()-.5)*2);return Math.min(dk,r+a)}function bt(n){return n&&n._delegate?n._delegate:n}class Ns{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const to="[DEFAULT]";class fk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gk(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);r===m&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mk(n){return n===to?void 0:n}function gk(n){return n.instantiationMode==="EAGER"}class pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const yk={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},vk=Ke.INFO,bk={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},_k=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=bk[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xf{constructor(e){this.name=e,this._logLevel=vk,this._logHandler=_k,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const xk=(n,e)=>e.some(t=>n instanceof t);let yx,vx;function Ek(){return yx||(yx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wk(){return vx||(vx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ww=new WeakMap,Ep=new WeakMap,Xw=new WeakMap,sp=new WeakMap,hy=new WeakMap;function Tk(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(la(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Ww.set(t,n)}).catch(()=>{}),hy.set(e,n),e}function Sk(n){if(Ep.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Ep.set(n,e)}let wp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ep.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Xw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return la(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ak(n){wp=n(wp)}function Ck(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(rp(this),e,...t);return Xw.set(r,e.sort?e.sort():[e]),la(r)}:wk().includes(n)?function(...e){return n.apply(rp(this),e),la(Ww.get(this))}:function(...e){return la(n.apply(rp(this),e))}}function Nk(n){return typeof n=="function"?Ck(n):(n instanceof IDBTransaction&&Sk(n),xk(n,Ek())?new Proxy(n,wp):n)}function la(n){if(n instanceof IDBRequest)return Tk(n);if(sp.has(n))return sp.get(n);const e=Nk(n);return e!==n&&(sp.set(n,e),hy.set(e,n)),e}const rp=n=>hy.get(n);function Jw(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),m=la(u);return r&&u.addEventListener("upgradeneeded",y=>{r(la(u.result),y.oldVersion,y.newVersion,la(u.transaction),y)}),t&&u.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{l&&y.addEventListener("close",()=>l()),a&&y.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Rk=["get","getKey","getAll","getAllKeys","count"],kk=["put","add","delete","clear"],ip=new Map;function bx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ip.get(e))return ip.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=kk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Rk.includes(t)))return;const l=async function(u,...m){const y=this.transaction(u,a?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),a&&y.done]))[0]};return ip.set(e,l),l}Ak(n=>({...n,get:(e,t,r)=>bx(e,t)||n.get(e,t,r),has:(e,t)=>!!bx(e,t)||n.has(e,t)}));class Ik{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Dk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Dk(n){return n.getComponent()?.type==="VERSION"}const Tp="@firebase/app",_x="0.14.6";const ui=new xf("@firebase/app"),Ok="@firebase/app-compat",Pk="@firebase/analytics-compat",jk="@firebase/analytics",Mk="@firebase/app-check-compat",Lk="@firebase/app-check",Vk="@firebase/auth",Uk="@firebase/auth-compat",zk="@firebase/database",Fk="@firebase/data-connect",Bk="@firebase/database-compat",qk="@firebase/functions",Hk="@firebase/functions-compat",Gk="@firebase/installations",$k="@firebase/installations-compat",Yk="@firebase/messaging",Kk="@firebase/messaging-compat",Qk="@firebase/performance",Wk="@firebase/performance-compat",Xk="@firebase/remote-config",Jk="@firebase/remote-config-compat",Zk="@firebase/storage",eI="@firebase/storage-compat",tI="@firebase/firestore",nI="@firebase/ai",sI="@firebase/firestore-compat",rI="firebase",iI="12.6.0";const Sp="[DEFAULT]",aI={[Tp]:"fire-core",[Ok]:"fire-core-compat",[jk]:"fire-analytics",[Pk]:"fire-analytics-compat",[Lk]:"fire-app-check",[Mk]:"fire-app-check-compat",[Vk]:"fire-auth",[Uk]:"fire-auth-compat",[zk]:"fire-rtdb",[Fk]:"fire-data-connect",[Bk]:"fire-rtdb-compat",[qk]:"fire-fn",[Hk]:"fire-fn-compat",[Gk]:"fire-iid",[$k]:"fire-iid-compat",[Yk]:"fire-fcm",[Kk]:"fire-fcm-compat",[Qk]:"fire-perf",[Wk]:"fire-perf-compat",[Xk]:"fire-rc",[Jk]:"fire-rc-compat",[Zk]:"fire-gcs",[eI]:"fire-gcs-compat",[tI]:"fire-fst",[sI]:"fire-fst-compat",[nI]:"fire-vertex","fire-js":"fire-js",[rI]:"fire-js-all"};const Bh=new Map,oI=new Map,Ap=new Map;function xx(n,e){try{n.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ys(n){const e=n.name;if(Ap.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,n);for(const t of Bh.values())xx(t,n);for(const t of oI.values())xx(t,n);return!0}function Ea(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ls(n){return n==null?!1:n.settings!==void 0}const lI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new po("app","Firebase",lI);class cI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}const yo=iI;function Zw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Sp,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw ca.create("bad-app-name",{appName:String(a)});if(t||(t=$w()),!t)throw ca.create("no-options");const l=Bh.get(a);if(l){if(kr(t,l.options)&&kr(r,l.config))return l;throw ca.create("duplicate-app",{appName:a})}const u=new pk(a);for(const y of Ap.values())u.addComponent(y);const m=new cI(t,r,u);return Bh.set(a,m),m}function Ef(n=Sp){const e=Bh.get(n);if(!e&&n===Sp&&$w())return Zw();if(!e)throw ca.create("no-app",{appName:n});return e}function Kn(n,e,t){let r=aI[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(u.join(" "));return}Ys(new Ns(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const uI="firebase-heartbeat-database",dI=1,bu="firebase-heartbeat-store";let ap=null;function eT(){return ap||(ap=Jw(uI,dI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ca.create("idb-open",{originalErrorMessage:n.message})})),ap}async function hI(n){try{const t=(await eT()).transaction(bu),r=await t.objectStore(bu).get(tT(n));return await t.done,r}catch(e){if(e instanceof ks)ui.warn(e.message);else{const t=ca.create("idb-get",{originalErrorMessage:e?.message});ui.warn(t.message)}}}async function Ex(n,e){try{const r=(await eT()).transaction(bu,"readwrite");await r.objectStore(bu).put(e,tT(n)),await r.done}catch(t){if(t instanceof ks)ui.warn(t.message);else{const r=ca.create("idb-set",{originalErrorMessage:t?.message});ui.warn(r.message)}}}function tT(n){return`${n.name}!${n.options.appId}`}const fI=1024,mI=30;class gI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>mI){const a=vI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wx(),{heartbeatsToSend:t,unsentEntries:r}=pI(this._heartbeatsCache.heartbeats),a=Fh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ui.warn(e),""}}}function wx(){return new Date().toISOString().substring(0,10)}function pI(n,e=fI){const t=[];let r=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Tx(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Tx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class yI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uy()?dy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ex(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ex(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Tx(n){return Fh(JSON.stringify({version:2,heartbeats:n})).length}function vI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function bI(n){Ys(new Ns("platform-logger",e=>new Ik(e),"PRIVATE")),Ys(new Ns("heartbeat",e=>new gI(e),"PRIVATE")),Kn(Tp,_x,n),Kn(Tp,_x,"esm2020"),Kn("fire-js","")}bI("");function nT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _I=nT,sT=new po("auth","Firebase",nT());const qh=new xf("@firebase/auth");function xI(n,...e){qh.logLevel<=Ke.WARN&&qh.warn(`Auth (${yo}): ${n}`,...e)}function kh(n,...e){qh.logLevel<=Ke.ERROR&&qh.error(`Auth (${yo}): ${n}`,...e)}function Ks(n,...e){throw fy(n,...e)}function wr(n,...e){return fy(n,...e)}function rT(n,e,t){const r={..._I(),[e]:t};return new po("auth","Firebase",r).create(e,{appName:n.name})}function li(n){return rT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sT.create(n,...e)}function Ie(n,e,...t){if(!n)throw fy(e,...t)}function ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kh(e),new Error(e)}function di(n,e){n||ii(e)}function Cp(){return typeof self<"u"&&self.location?.href||""}function EI(){return Sx()==="http:"||Sx()==="https:"}function Sx(){return typeof self<"u"&&self.location?.protocol||null}function wI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EI()||cy()||"connection"in navigator)?navigator.onLine:!0}function TI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=WR()||ZR()}get(){return wI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function my(n,e){di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class iT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CI=new Du(3e4,6e4);function yi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function vi(n,e,t,r,a={}){return aT(n,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const m=Iu({key:n.config.apiKey,...u}).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:y,...l};return JR()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&xa(n.emulatorConfig.host)&&(g.credentials="include"),iT.fetch()(await oT(n,n.config.apiHost,t,m),g)})}async function aT(n,e,t){n._canInitEmulator=!1;const r={...SI,...e};try{const a=new RI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw bh(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(n,"credential-already-in-use",u);if(y==="EMAIL_EXISTS")throw bh(n,"email-already-in-use",u);if(y==="USER_DISABLED")throw bh(n,"user-disabled",u);const v=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw rT(n,v,g);Ks(n,v)}}catch(a){if(a instanceof ks)throw a;Ks(n,"network-request-failed",{message:String(a)})}}async function Ou(n,e,t,r,a={}){const l=await vi(n,e,t,r,a);return"mfaPendingCredential"in l&&Ks(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function oT(n,e,t,r){const a=`${e}${t}?${r}`,l=n,u=l.config.emulator?my(n.config,a):`${n.config.apiScheme}://${a}`;return AI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function NI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),CI.get())})}}function bh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=wr(n,e,r);return a.customData._tokenResponse=t,a}function Ax(n){return n!==void 0&&n.enterprise!==void 0}class kI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function II(n,e){return vi(n,"GET","/v2/recaptchaConfig",yi(n,e))}async function DI(n,e){return vi(n,"POST","/v1/accounts:delete",e)}async function Hh(n,e){return vi(n,"POST","/v1/accounts:lookup",e)}function cu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OI(n,e=!1){const t=bt(n),r=await t.getIdToken(e),a=gy(r);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:cu(op(a.auth_time)),issuedAtTime:cu(op(a.iat)),expirationTime:cu(op(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function op(n){return Number(n)*1e3}function gy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const a=qw(t);return a?JSON.parse(a):(kh("Failed to decode base64 JWT payload"),null)}catch(a){return kh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Cx(n){const e=gy(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _u(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ks&&PI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function PI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class jI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gh(n){const e=n.auth,t=await n.getIdToken(),r=await _u(n,Hh(e,{idToken:t}));Ie(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?lT(a.providerUserInfo):[],u=LI(n.providerData,l),m=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!u?.length,g=m?y:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Np(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function MI(n){const e=bt(n);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LI(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function lT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function VI(n,e){const t=await aT(n,{},async()=>{const r=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await oT(n,a,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return n.emulatorConfig&&xa(n.emulatorConfig.host)&&(y.credentials="include"),iT.fetch()(u,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UI(n,e){return vi(n,"POST","/v2/accounts:revokeToken",yi(n,e))}class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Cx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await VI(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,u=new Al;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ie(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return ii("not implemented")}}function ea(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class $s{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Np(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return OI(this,e)}reload(){return MI(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $s({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ls(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await _u(this,DI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,m=t.tenantId??void 0,y=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:x,emailVerified:w,isAnonymous:I,providerData:O,stsTokenManager:D}=t;Ie(x&&D,e,"internal-error");const P=Al.fromJSON(this.name,D);Ie(typeof x=="string",e,"internal-error"),ea(r,e.name),ea(a,e.name),Ie(typeof w=="boolean",e,"internal-error"),Ie(typeof I=="boolean",e,"internal-error"),ea(l,e.name),ea(u,e.name),ea(m,e.name),ea(y,e.name),ea(g,e.name),ea(v,e.name);const B=new $s({uid:x,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:v});return O&&Array.isArray(O)&&(B.providerData=O.map(H=>({...H}))),y&&(B._redirectEventId=y),B}static async _fromIdTokenResponse(e,t,r=!1){const a=new Al;a.updateFromServerResponse(t);const l=new $s({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Gh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?lT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,m=new Al;m.updateFromIdToken(r);const y=new $s({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Np(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(y,g),y}}const Nx=new Map;function ai(n){di(n instanceof Function,"Expected a class definition");let e=Nx.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Nx.set(n,e),e)}class cT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cT.type="NONE";const Rx=cT;function Ih(n,e,t){return`firebase:${n}:${e}:${t}`}class Cl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Ih(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ih("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hh(this.auth,{idToken:e}).catch(()=>{});return t?$s._fromGetAccountInfoResponse(this.auth,t,e):null}return $s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Cl(ai(Rx),e,r);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ai(Rx);const u=Ih(r,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(u);if(v){let x;if(typeof v=="string"){const w=await Hh(e,{idToken:v}).catch(()=>{});if(!w)break;x=await $s._fromGetAccountInfoResponse(e,w,v)}else x=$s._fromJSON(e,v);g!==l&&(m=x),l=g;break}}catch{}const y=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new Cl(l,e,r):(l=y[0],m&&await l._set(u,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Cl(l,e,r))}}function kx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(pT(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||hT(e))&&!e.includes("edge/"))return"Chrome";if(mT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function uT(n=Nn()){return/firefox\//i.test(n)}function dT(n=Nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hT(n=Nn()){return/crios\//i.test(n)}function fT(n=Nn()){return/iemobile/i.test(n)}function mT(n=Nn()){return/android/i.test(n)}function gT(n=Nn()){return/blackberry/i.test(n)}function pT(n=Nn()){return/webos/i.test(n)}function py(n=Nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zI(n=Nn()){return py(n)&&!!window.navigator?.standalone}function FI(){return ek()&&document.documentMode===10}function yT(n=Nn()){return py(n)||mT(n)||pT(n)||gT(n)||/windows phone/i.test(n)||fT(n)}function vT(n,e=[]){let t;switch(n){case"Browser":t=kx(Nn());break;case"Worker":t=`${kx(Nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yo}/${r}`}class BI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,m)=>{try{const y=e(l);u(y)}catch(y){m(y)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function qI(n,e={}){return vi(n,"GET","/v2/passwordPolicy",yi(n,e))}const HI=6;class GI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??HI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class $I{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ix(this),this.idTokenSubscription=new Ix(this),this.beforeStateQueue=new BI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hh(this,{idToken:e}),r=await $s._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ls(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===u)&&m?.user&&(r=m.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ls(this.app))return Promise.reject(li(this));const t=e?bt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ls(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ls(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qI(this),t=new GI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new po("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await UI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ai(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,r,a);return()=>{u=!0,y()}}else{const y=e.addObserver(t);return()=>{u=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wa(n){return bt(n)}class Ix{constructor(e){this.auth=e,this.observer=null,this.addObserver=ak(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YI(n){wf=n}function bT(n){return wf.loadJS(n)}function KI(){return wf.recaptchaEnterpriseScript}function QI(){return wf.gapiScript}function WI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XI{constructor(){this.enterprise=new JI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class JI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ZI="recaptcha-enterprise",_T="NO_RECAPTCHA";class e2{constructor(e){this.type=ZI,this.auth=wa(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{II(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new kI(y);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(y=>{m(y)})})}function a(l,u,m){const y=window.grecaptcha;Ax(y)?y.enterprise.ready(()=>{y.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(_T)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(m=>{if(!t&&Ax(window.grecaptcha))a(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let y=KI();y.length!==0&&(y+=m),bT(y).then(()=>{a(m,l,u)}).catch(g=>{u(g)})}}).catch(m=>{u(m)})})}}async function Dx(n,e,t,r=!1,a=!1){const l=new e2(n);let u;if(a)u=_T;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function $h(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Dx(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Dx(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}function t2(n,e){const t=Ea(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(kr(l,e??{}))return a;Ks(a,"already-initialized")}return t.initialize({options:e})}function n2(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function s2(n,e,t){const r=wa(n);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=xT(e),{host:u,port:m}=r2(e),y=m===null?"":`:${m}`,g={url:`${l}//${u}${y}/`},v=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(kr(g,r.config.emulator)&&kr(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,xa(u)?(oy(`${l}//${u}${y}`),ly("Auth",!0)):i2()}function xT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function r2(n){const e=xT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Ox(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:Ox(u)}}}function Ox(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function i2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class yy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,t){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function a2(n,e){return vi(n,"POST","/v1/accounts:signUp",e)}async function o2(n,e){return Ou(n,"POST","/v1/accounts:signInWithPassword",yi(n,e))}async function l2(n,e){return vi(n,"POST","/v1/accounts:sendOobCode",yi(n,e))}async function c2(n,e){return l2(n,e)}async function u2(n,e){return Ou(n,"POST","/v1/accounts:signInWithEmailLink",yi(n,e))}async function d2(n,e){return Ou(n,"POST","/v1/accounts:signInWithEmailLink",yi(n,e))}class xu extends yy{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new xu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new xu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,t,"signInWithPassword",o2);case"emailLink":return u2(e,{email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,r,"signUpPassword",a2);case"emailLink":return d2(e,{idToken:t,email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nl(n,e){return Ou(n,"POST","/v1/accounts:signInWithIdp",yi(n,e))}const h2="http://localhost";class lo extends yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ks("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const u=new lo(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Nl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Nl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nl(e,t)}buildRequest(){const e={requestUri:h2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Iu(t)}return e}}function f2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m2(n){const e=nu(su(n)).link,t=e?nu(su(e)).deep_link_id:null,r=nu(su(n)).deep_link_id;return(r?nu(su(r)).link:null)||r||t||e||n}class vy{constructor(e){const t=nu(su(e)),r=t.apiKey??null,a=t.oobCode??null,l=f2(t.mode??null);Ie(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=m2(e);try{return new vy(t)}catch{return null}}}class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,t){return xu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=vy.parseLink(t);return Ie(r,"argument-error"),xu._fromEmailAndCode(e,r.code,r.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ET{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pu extends ET{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class na extends Pu{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.FACEBOOK_SIGN_IN_METHOD="facebook.com";na.PROVIDER_ID="facebook.com";class sa extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return lo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return sa.credential(t,r)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";class ra extends Pu{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.GITHUB_SIGN_IN_METHOD="github.com";ra.PROVIDER_ID="github.com";class ia extends Pu{constructor(){super("twitter.com")}static credential(e,t){return lo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ia.credential(t,r)}catch{return null}}}ia.TWITTER_SIGN_IN_METHOD="twitter.com";ia.PROVIDER_ID="twitter.com";async function g2(n,e){return Ou(n,"POST","/v1/accounts:signUp",yi(n,e))}class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await $s._fromIdTokenResponse(e,r,a),u=Px(r);return new co({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=Px(r);return new co({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function Px(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Yh extends ks{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Yh(e,t,r,a)}}function wT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(n,l,e,r):l})}async function p2(n,e,t=!1){const r=await _u(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return co._forOperation(n,"link",r)}async function y2(n,e,t=!1){const{auth:r}=n;if(ls(r.app))return Promise.reject(li(r));const a="reauthenticate";try{const l=await _u(n,wT(r,a,e,n),t);Ie(l.idToken,r,"internal-error");const u=gy(l.idToken);Ie(u,r,"internal-error");const{sub:m}=u;return Ie(n.uid===m,r,"user-mismatch"),co._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ks(r,"user-mismatch"),l}}async function TT(n,e,t=!1){if(ls(n.app))return Promise.reject(li(n));const r="signIn",a=await wT(n,r,e),l=await co._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function v2(n,e){return TT(wa(n),e)}async function ST(n){const e=wa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AT(n,e,t){const r=wa(n);await $h(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",c2)}async function b2(n,e,t){if(ls(n.app))return Promise.reject(li(n));const r=wa(n),u=await $h(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&ST(n),y}),m=await co._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(m.user),m}function _2(n,e,t){return ls(n.app)?Promise.reject(li(n)):v2(bt(n),Bl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ST(n),r})}function x2(n,e,t,r){return bt(n).onIdTokenChanged(e,t,r)}function E2(n,e,t){return bt(n).beforeAuthStateChanged(e,t)}function w2(n,e,t,r){return bt(n).onAuthStateChanged(e,t,r)}const Kh="__sak";class CT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const T2=1e3,S2=10;class NT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,y)=>{this.notifyListeners(u,y)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);FI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,S2):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},T2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NT.type="LOCAL";const A2=NT;class RT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RT.type="SESSION";const kT=RT;function C2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const m=Array.from(u).map(async g=>g(t.origin,l)),y=await C2(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];function by(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class N2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((m,y)=>{const g=by("",20);a.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(x){const w=x;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(w.data.response);break;default:clearTimeout(v),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Tr(){return window}function R2(n){Tr().location.href=n}function IT(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function k2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I2(){return navigator?.serviceWorker?.controller||null}function D2(){return IT()?self:null}const DT="firebaseLocalStorageDb",O2=1,Qh="firebaseLocalStorage",OT="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sf(n,e){return n.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function P2(){const n=indexedDB.deleteDatabase(DT);return new ju(n).toPromise()}function Rp(){const n=indexedDB.open(DT,O2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qh,{keyPath:OT})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Qh)?e(r):(r.close(),await P2(),e(await Rp()))})})}async function jx(n,e,t){const r=Sf(n,!0).put({[OT]:e,value:t});return new ju(r).toPromise()}async function j2(n,e){const t=Sf(n,!1).get(e),r=await new ju(t).toPromise();return r===void 0?null:r.value}function Mx(n,e){const t=Sf(n,!0).delete(e);return new ju(t).toPromise()}const M2=800,L2=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>L2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(D2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k2(),!this.activeServiceWorker)return;this.sender=new N2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rp();return await jx(e,Kh,"1"),await Mx(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>jx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>j2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Sf(a,!1).getAll();return new ju(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const V2=PT;new Du(3e4,6e4);function U2(n,e){return e?ai(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class _y extends yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function z2(n){return TT(n.auth,new _y(n),n.bypassAuthState)}function F2(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),y2(t,new _y(n),n.bypassAuthState)}async function B2(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),p2(t,new _y(n),n.bypassAuthState)}class jT{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const y={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z2;case"linkViaPopup":case"linkViaRedirect":return B2;case"reauthViaPopup":case"reauthViaRedirect":return F2;default:Ks(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const q2=new Du(2e3,1e4);class El extends jT{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q2.get())};e()}}El.currentPopupAction=null;const H2="pendingRedirect",Dh=new Map;class G2 extends jT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const r=await $2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $2(n,e){const t=Q2(e),r=K2(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function Y2(n,e){Dh.set(n._key(),e)}function K2(n){return ai(n._redirectPersistence)}function Q2(n){return Ih(H2,n.config.apiKey,n.name)}async function W2(n,e,t=!1){if(ls(n.app))return Promise.reject(li(n));const r=wa(n),a=U2(r,e),u=await new G2(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const X2=600*1e3;class J2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!MT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(wr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lx(e))}saveEventToCache(e){this.cachedEventUids.add(Lx(e)),this.lastProcessedEventTime=Date.now()}}function Lx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Z2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(n);default:return!1}}async function eD(n,e={}){return vi(n,"GET","/v1/projects",e)}const tD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;async function sD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await eD(n);for(const t of e)try{if(rD(t))return}catch{}Ks(n,"unauthorized-domain")}function rD(n){const e=Cp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!nD.test(t))return!1;if(tD.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const iD=new Du(3e4,6e4);function Vx(){const n=Tr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function aD(n){return new Promise((e,t)=>{function r(){Vx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vx(),t(wr(n,"network-request-failed"))},timeout:iD.get()})}if(Tr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tr().gapi?.load)r();else{const a=WI("iframefcb");return Tr()[a]=()=>{gapi.load?r():t(wr(n,"network-request-failed"))},bT(`${QI()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function oD(n){return Oh=Oh||aD(n),Oh}const lD=new Du(5e3,15e3),cD="__/auth/iframe",uD="emulator/auth/iframe",dD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fD(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?my(e,uD):`https://${n.config.authDomain}/${cD}`,r={apiKey:e.apiKey,appName:n.name,v:yo},a=hD.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Iu(r).slice(1)}`}async function mD(n){const e=await oD(n),t=Tr().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:fD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dD,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=wr(n,"network-request-failed"),m=Tr().setTimeout(()=>{l(u)},lD.get());function y(){Tr().clearTimeout(m),a(r)}r.ping(y).then(y,()=>{l(u)})}))}const gD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,yD=600,vD="_blank",bD="http://localhost";class Ux{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _D(n,e,t,r=pD,a=yD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...gD,width:r.toString(),height:a.toString(),top:l,left:u},g=Nn().toLowerCase();t&&(m=hT(g)?vD:t),uT(g)&&(e=e||bD,y.scrollbars="yes");const v=Object.entries(y).reduce((w,[I,O])=>`${w}${I}=${O},`,"");if(zI(g)&&m!=="_self")return xD(e||"",m),new Ux(null);const x=window.open(e||"",m,v);Ie(x,n,"popup-blocked");try{x.focus()}catch{}return new Ux(x)}function xD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const ED="__/auth/handler",wD="emulator/auth/handler",TD=encodeURIComponent("fac");async function zx(n,e,t,r,a,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yo,eventId:a};if(e instanceof ET){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",ik(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof Pu){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const m=u;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const y=await n._getAppCheckToken(),g=y?`#${TD}=${encodeURIComponent(y)}`:"";return`${SD(n)}?${Iu(m).slice(1)}${g}`}function SD({config:n}){return n.emulator?my(n,wD):`https://${n.authDomain}/${ED}`}const lp="webStorageSupport";class AD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=W2,this._overrideRedirectResult=Y2}async _openPopup(e,t,r,a){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await zx(e,t,r,Cp(),a);return _D(e,l,by())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await zx(e,t,r,Cp(),a);return R2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(di(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await mD(e),r=new J2(e);return t.register("authEvent",a=>(Ie(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lp,{type:lp},a=>{const l=a?.[0]?.[lp];l!==void 0&&t(!!l),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yT()||dT()||py()}}const CD=AD;var Fx="@firebase/auth",Bx="1.11.1";class ND{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kD(n){Ys(new Ns("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=r.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:u,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(n)},g=new $I(r,a,l,y);return n2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ys(new Ns("auth-internal",e=>{const t=wa(e.getProvider("auth").getImmediate());return(r=>new ND(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(Fx,Bx,RD(n)),Kn(Fx,Bx,"esm2020")}const ID=300,DD=Yw("authIdTokenMaxAge")||ID;let qx=null;const OD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>DD)return;const a=t?.token;qx!==a&&(qx=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function PD(n=Ef()){const e=Ea(n,"auth");if(e.isInitialized())return e.getImmediate();const t=t2(n,{popupRedirectResolver:CD,persistence:[V2,A2,kT]}),r=Yw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=OD(l.toString());E2(t,u,()=>u(t.currentUser)),x2(t,m=>u(m))}}const a=Hw("auth");return a&&s2(t,`http://${a}`),t}function jD(){return document.getElementsByTagName("head")?.[0]??document}YI({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=wr("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",jD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kD("Browser");var MD="firebase",LD="12.6.0";Kn(MD,LD,"app");var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ua,LT;(function(){var n;function e(C,S){function R(){}R.prototype=S.prototype,C.F=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(U,j,M){for(var k=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)k[Te-2]=arguments[Te];return S.prototype[j].apply(U,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,S,R){R||(R=0);const U=Array(16);if(typeof S=="string")for(var j=0;j<16;++j)U[j]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(j=0;j<16;++j)U[j]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],j=C.g[2];let M=C.g[3],k;k=S+(M^R&(j^M))+U[0]+3614090360&4294967295,S=R+(k<<7&4294967295|k>>>25),k=M+(j^S&(R^j))+U[1]+3905402710&4294967295,M=S+(k<<12&4294967295|k>>>20),k=j+(R^M&(S^R))+U[2]+606105819&4294967295,j=M+(k<<17&4294967295|k>>>15),k=R+(S^j&(M^S))+U[3]+3250441966&4294967295,R=j+(k<<22&4294967295|k>>>10),k=S+(M^R&(j^M))+U[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=M+(j^S&(R^j))+U[5]+1200080426&4294967295,M=S+(k<<12&4294967295|k>>>20),k=j+(R^M&(S^R))+U[6]+2821735955&4294967295,j=M+(k<<17&4294967295|k>>>15),k=R+(S^j&(M^S))+U[7]+4249261313&4294967295,R=j+(k<<22&4294967295|k>>>10),k=S+(M^R&(j^M))+U[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=M+(j^S&(R^j))+U[9]+2336552879&4294967295,M=S+(k<<12&4294967295|k>>>20),k=j+(R^M&(S^R))+U[10]+4294925233&4294967295,j=M+(k<<17&4294967295|k>>>15),k=R+(S^j&(M^S))+U[11]+2304563134&4294967295,R=j+(k<<22&4294967295|k>>>10),k=S+(M^R&(j^M))+U[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=M+(j^S&(R^j))+U[13]+4254626195&4294967295,M=S+(k<<12&4294967295|k>>>20),k=j+(R^M&(S^R))+U[14]+2792965006&4294967295,j=M+(k<<17&4294967295|k>>>15),k=R+(S^j&(M^S))+U[15]+1236535329&4294967295,R=j+(k<<22&4294967295|k>>>10),k=S+(j^M&(R^j))+U[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=M+(R^j&(S^R))+U[6]+3225465664&4294967295,M=S+(k<<9&4294967295|k>>>23),k=j+(S^R&(M^S))+U[11]+643717713&4294967295,j=M+(k<<14&4294967295|k>>>18),k=R+(M^S&(j^M))+U[0]+3921069994&4294967295,R=j+(k<<20&4294967295|k>>>12),k=S+(j^M&(R^j))+U[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=M+(R^j&(S^R))+U[10]+38016083&4294967295,M=S+(k<<9&4294967295|k>>>23),k=j+(S^R&(M^S))+U[15]+3634488961&4294967295,j=M+(k<<14&4294967295|k>>>18),k=R+(M^S&(j^M))+U[4]+3889429448&4294967295,R=j+(k<<20&4294967295|k>>>12),k=S+(j^M&(R^j))+U[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=M+(R^j&(S^R))+U[14]+3275163606&4294967295,M=S+(k<<9&4294967295|k>>>23),k=j+(S^R&(M^S))+U[3]+4107603335&4294967295,j=M+(k<<14&4294967295|k>>>18),k=R+(M^S&(j^M))+U[8]+1163531501&4294967295,R=j+(k<<20&4294967295|k>>>12),k=S+(j^M&(R^j))+U[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=M+(R^j&(S^R))+U[2]+4243563512&4294967295,M=S+(k<<9&4294967295|k>>>23),k=j+(S^R&(M^S))+U[7]+1735328473&4294967295,j=M+(k<<14&4294967295|k>>>18),k=R+(M^S&(j^M))+U[12]+2368359562&4294967295,R=j+(k<<20&4294967295|k>>>12),k=S+(R^j^M)+U[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=M+(S^R^j)+U[8]+2272392833&4294967295,M=S+(k<<11&4294967295|k>>>21),k=j+(M^S^R)+U[11]+1839030562&4294967295,j=M+(k<<16&4294967295|k>>>16),k=R+(j^M^S)+U[14]+4259657740&4294967295,R=j+(k<<23&4294967295|k>>>9),k=S+(R^j^M)+U[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=M+(S^R^j)+U[4]+1272893353&4294967295,M=S+(k<<11&4294967295|k>>>21),k=j+(M^S^R)+U[7]+4139469664&4294967295,j=M+(k<<16&4294967295|k>>>16),k=R+(j^M^S)+U[10]+3200236656&4294967295,R=j+(k<<23&4294967295|k>>>9),k=S+(R^j^M)+U[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=M+(S^R^j)+U[0]+3936430074&4294967295,M=S+(k<<11&4294967295|k>>>21),k=j+(M^S^R)+U[3]+3572445317&4294967295,j=M+(k<<16&4294967295|k>>>16),k=R+(j^M^S)+U[6]+76029189&4294967295,R=j+(k<<23&4294967295|k>>>9),k=S+(R^j^M)+U[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=M+(S^R^j)+U[12]+3873151461&4294967295,M=S+(k<<11&4294967295|k>>>21),k=j+(M^S^R)+U[15]+530742520&4294967295,j=M+(k<<16&4294967295|k>>>16),k=R+(j^M^S)+U[2]+3299628645&4294967295,R=j+(k<<23&4294967295|k>>>9),k=S+(j^(R|~M))+U[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=M+(R^(S|~j))+U[7]+1126891415&4294967295,M=S+(k<<10&4294967295|k>>>22),k=j+(S^(M|~R))+U[14]+2878612391&4294967295,j=M+(k<<15&4294967295|k>>>17),k=R+(M^(j|~S))+U[5]+4237533241&4294967295,R=j+(k<<21&4294967295|k>>>11),k=S+(j^(R|~M))+U[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=M+(R^(S|~j))+U[3]+2399980690&4294967295,M=S+(k<<10&4294967295|k>>>22),k=j+(S^(M|~R))+U[10]+4293915773&4294967295,j=M+(k<<15&4294967295|k>>>17),k=R+(M^(j|~S))+U[1]+2240044497&4294967295,R=j+(k<<21&4294967295|k>>>11),k=S+(j^(R|~M))+U[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=M+(R^(S|~j))+U[15]+4264355552&4294967295,M=S+(k<<10&4294967295|k>>>22),k=j+(S^(M|~R))+U[6]+2734768916&4294967295,j=M+(k<<15&4294967295|k>>>17),k=R+(M^(j|~S))+U[13]+1309151649&4294967295,R=j+(k<<21&4294967295|k>>>11),k=S+(j^(R|~M))+U[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=M+(R^(S|~j))+U[11]+3174756917&4294967295,M=S+(k<<10&4294967295|k>>>22),k=j+(S^(M|~R))+U[2]+718787259&4294967295,j=M+(k<<15&4294967295|k>>>17),k=R+(M^(j|~S))+U[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const R=S-this.blockSize,U=this.C;let j=this.h,M=0;for(;M<S;){if(j==0)for(;M<=R;)a(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<S;)if(U[j++]=C.charCodeAt(M++),j==this.blockSize){a(this,U),j=0;break}}else for(;M<S;)if(U[j++]=C[M++],j==this.blockSize){a(this,U),j=0;break}}this.h=j,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,R=0;R<4;++R)for(let U=0;U<32;U+=8)C[S++]=this.g[R]>>>U&255;return C};function l(C,S){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function u(C,S){this.h=S;const R=[];let U=!0;for(let j=C.length-1;j>=0;j--){const M=C[j]|0;U&&M==S||(R[j]=M,U=!1)}this.g=R}var m={};function y(C){return-128<=C&&C<128?l(C,function(S){return new u([S|0],S<0?-1:0)}):new u([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return x;if(C<0)return P(g(-C));const S=[];let R=1;for(let U=0;C>=R;U++)S[U]=C/R|0,R*=4294967296;return new u(S,0)}function v(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return P(v(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(S,8));let U=x;for(let M=0;M<C.length;M+=8){var j=Math.min(8,C.length-M);const k=parseInt(C.substring(M,M+j),S);j<8?(j=g(Math.pow(S,j)),U=U.j(j).add(g(k))):(U=U.j(R),U=U.add(g(k)))}return U}var x=y(0),w=y(1),I=y(16777216);n=u.prototype,n.m=function(){if(D(this))return-P(this).m();let C=0,S=1;for(let R=0;R<this.g.length;R++){const U=this.i(R);C+=(U>=0?U:4294967296+U)*S,S*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(D(this))return"-"+P(this).toString(C);const S=g(Math.pow(C,6));var R=this;let U="";for(;;){const j=ae(R,S).g;R=B(R,j.j(S));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=j,O(R))return M+U;for(;M.length<6;)M="0"+M;U=M+U}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function D(C){return C.h==-1}n.l=function(C){return C=B(this,C),D(C)?-1:O(C)?0:1};function P(C){const S=C.g.length,R=[];for(let U=0;U<S;U++)R[U]=~C.g[U];return new u(R,~C.h).add(w)}n.abs=function(){return D(this)?P(this):this},n.add=function(C){const S=Math.max(this.g.length,C.g.length),R=[];let U=0;for(let j=0;j<=S;j++){let M=U+(this.i(j)&65535)+(C.i(j)&65535),k=(M>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);U=k>>>16,M&=65535,k&=65535,R[j]=k<<16|M}return new u(R,R[R.length-1]&-2147483648?-1:0)};function B(C,S){return C.add(P(S))}n.j=function(C){if(O(this)||O(C))return x;if(D(this))return D(C)?P(this).j(P(C)):P(P(this).j(C));if(D(C))return P(this.j(P(C)));if(this.l(I)<0&&C.l(I)<0)return g(this.m()*C.m());const S=this.g.length+C.g.length,R=[];for(var U=0;U<2*S;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(let j=0;j<C.g.length;j++){const M=this.i(U)>>>16,k=this.i(U)&65535,Te=C.i(j)>>>16,Me=C.i(j)&65535;R[2*U+2*j]+=k*Me,H(R,2*U+2*j),R[2*U+2*j+1]+=M*Me,H(R,2*U+2*j+1),R[2*U+2*j+1]+=k*Te,H(R,2*U+2*j+1),R[2*U+2*j+2]+=M*Te,H(R,2*U+2*j+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new u(R,0)};function H(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function $(C,S){this.g=C,this.h=S}function ae(C,S){if(O(S))throw Error("division by zero");if(O(C))return new $(x,x);if(D(C))return S=ae(P(C),S),new $(P(S.g),P(S.h));if(D(S))return S=ae(C,P(S)),new $(P(S.g),S.h);if(C.g.length>30){if(D(C)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,U=S;U.l(C)<=0;)R=se(R),U=se(U);var j=z(R,1),M=z(U,1);for(U=z(U,2),R=z(R,2);!O(U);){var k=M.add(U);k.l(C)<=0&&(j=j.add(R),M=k),U=z(U,1),R=z(R,1)}return S=B(C,j.j(S)),new $(j,S)}for(j=x;C.l(S)>=0;){for(R=Math.max(1,Math.floor(C.m()/S.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),M=g(R),k=M.j(S);D(k)||k.l(C)>0;)R-=U,M=g(R),k=M.j(S);O(M)&&(M=w),j=j.add(M),C=B(C,k)}return new $(j,C)}n.B=function(C){return ae(this,C).h},n.and=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let U=0;U<S;U++)R[U]=this.i(U)&C.i(U);return new u(R,this.h&C.h)},n.or=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let U=0;U<S;U++)R[U]=this.i(U)|C.i(U);return new u(R,this.h|C.h)},n.xor=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let U=0;U<S;U++)R[U]=this.i(U)^C.i(U);return new u(R,this.h^C.h)};function se(C){const S=C.g.length+1,R=[];for(let U=0;U<S;U++)R[U]=C.i(U)<<1|C.i(U-1)>>>31;return new u(R,C.h)}function z(C,S){const R=S>>5;S%=32;const U=C.g.length-R,j=[];for(let M=0;M<U;M++)j[M]=S>0?C.i(M+R)>>>S|C.i(M+R+1)<<32-S:C.i(M+R);return new u(j,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ua=u}).apply(typeof Hx<"u"?Hx:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var VT,ru,UT,Ph,kp,zT,FT,BT;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var b=0;b<d.length;++b){var E=d[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(d,b){if(b)e:{var E=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var Y=d[A];if(!(Y in E))break e;E=E[Y]}d=d[d.length-1],A=E[d],b=b(A),b!=A&&b!=null&&e(E,d,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(b){var E=[],A;for(A in b)Object.prototype.hasOwnProperty.call(b,A)&&E.push([A,b[A]]);return E}});var l=l||{},u=this||self;function m(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function y(d,b,E){return d.call.apply(d.bind,arguments)}function g(d,b,E){return g=y,g.apply(null,arguments)}function v(d,b){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function x(d,b){function E(){}E.prototype=b.prototype,d.Z=b.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(A,Y,Z){for(var fe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)fe[Le-2]=arguments[Le];return b.prototype[Y].apply(A,fe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const b=d.length;if(b>0){const E=Array(b);for(let A=0;A<b;A++)E[A]=d[A];return E}return[]}function O(d,b){for(let A=1;A<arguments.length;A++){const Y=arguments[A];var E=typeof Y;if(E=E!="object"?E:Y?Array.isArray(Y)?"array":E:"null",E=="array"||E=="object"&&typeof Y.length=="number"){E=d.length||0;const Z=Y.length||0;d.length=E+Z;for(let fe=0;fe<Z;fe++)d[E+fe]=Y[fe]}else d.push(Y)}}class D{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(d){u.setTimeout(()=>{throw d},0)}function B(){var d=C;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class H{constructor(){this.h=this.g=null}add(b,E){const A=$.get();A.set(b,E),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new D(()=>new ae,d=>d.reset());class ae{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,z=!1,C=new H,S=()=>{const d=Promise.resolve(void 0);se=()=>{d.then(R)}};function R(){for(var d;d=B();){try{d.h.call(d.g)}catch(E){P(E)}var b=$;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}z=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,b),u.removeEventListener("test",E,b)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function Te(d,b){j.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}x(Te,j),Te.prototype.init=function(d,b){const E=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(E=="mouseover"?b=d.fromElement:E=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),J=0;function he(d,b,E,A,Y){this.listener=d,this.proxy=null,this.src=b,this.type=E,this.capture=!!A,this.ha=Y,this.key=++J,this.da=this.fa=!1}function _e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ue(d,b,E){for(const A in d)b.call(E,d[A],A,d)}function Ge(d,b){for(const E in d)b.call(void 0,d[E],E,d)}function q(d){const b={};for(const E in d)b[E]=d[E];return b}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(d,b){let E,A;for(let Y=1;Y<arguments.length;Y++){A=arguments[Y];for(E in A)d[E]=A[E];for(let Z=0;Z<oe.length;Z++)E=oe[Z],Object.prototype.hasOwnProperty.call(A,E)&&(d[E]=A[E])}}function ve(d){this.src=d,this.g={},this.h=0}ve.prototype.add=function(d,b,E,A,Y){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const fe=je(d,b,A,Y);return fe>-1?(b=d[fe],E||(b.fa=!1)):(b=new he(b,this.src,Z,!!A,Y),b.fa=E,d.push(b)),b};function Re(d,b){const E=b.type;if(E in d.g){var A=d.g[E],Y=Array.prototype.indexOf.call(A,b,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(A,Y,1),Z&&(_e(b),d.g[E].length==0&&(delete d.g[E],d.h--))}}function je(d,b,E,A){for(let Y=0;Y<d.length;++Y){const Z=d[Y];if(!Z.da&&Z.listener==b&&Z.capture==!!E&&Z.ha==A)return Y}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Dt={};function ft(d,b,E,A,Y){if(Array.isArray(b)){for(let Z=0;Z<b.length;Z++)ft(d,b[Z],E,A,Y);return null}return E=wo(E),d&&d[Me]?d.J(b,E,m(A)?!!A.capture:!1,Y):Is(d,b,E,!1,A,Y)}function Is(d,b,E,A,Y,Z){if(!b)throw Error("Invalid event type");const fe=m(Y)?!!Y.capture:!!Y;let Le=jr(d);if(Le||(d[Be]=Le=new ve(d)),E=Le.add(b,E,A,fe,Z),E.proxy)return E;if(A=_i(),E.proxy=A,A.src=d,A.listener=E,d.addEventListener)M||(Y=fe),Y===void 0&&(Y=!1),d.addEventListener(b.toString(),A,Y);else if(d.attachEvent)d.attachEvent(Wn(b.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _i(){function d(E){return b.call(d.src,d.listener,E)}const b=Ei;return d}function Pr(d,b,E,A,Y){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)Pr(d,b[Z],E,A,Y);else A=m(A)?!!A.capture:!!A,E=wo(E),d&&d[Me]?(d=d.i,Z=String(b).toString(),Z in d.g&&(b=d.g[Z],E=je(b,E,A,Y),E>-1&&(_e(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete d.g[Z],d.h--)))):d&&(d=jr(d))&&(b=d.g[b.toString()],d=-1,b&&(d=je(b,E,A,Y)),(E=d>-1?b[d]:null)&&xi(E))}function xi(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Me])Re(b.i,d);else{var E=d.type,A=d.proxy;b.removeEventListener?b.removeEventListener(E,A,d.capture):b.detachEvent?b.detachEvent(Wn(E),A):b.addListener&&b.removeListener&&b.removeListener(A),(E=jr(b))?(Re(E,d),E.h==0&&(E.src=null,b[Be]=null)):_e(d)}}}function Wn(d){return d in Dt?Dt[d]:Dt[d]="on"+d}function Ei(d,b){if(d.da)d=!0;else{b=new Te(b,this);const E=d.listener,A=d.ha||d.src;d.fa&&xi(d),d=E.call(A,b)}return d}function jr(d){return d=d[Be],d instanceof ve?d:null}var Aa="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(d){return typeof d=="function"?d:(d[Aa]||(d[Aa]=function(b){return d.handleEvent(b)}),d[Aa])}function Nt(){U.call(this),this.i=new ve(this),this.M=this,this.G=null}x(Nt,U),Nt.prototype[Me]=!0,Nt.prototype.removeEventListener=function(d,b,E,A){Pr(this,d,b,E,A)};function L(d,b){var E,A=d.G;if(A)for(E=[];A;A=A.G)E.push(A);if(d=d.M,A=b.type||b,typeof b=="string")b=new j(b,d);else if(b instanceof j)b.target=b.target||d;else{var Y=b;b=new j(A,d),me(b,Y)}Y=!0;let Z,fe;if(E)for(fe=E.length-1;fe>=0;fe--)Z=b.g=E[fe],Y=K(Z,A,!0,b)&&Y;if(Z=b.g=d,Y=K(Z,A,!0,b)&&Y,Y=K(Z,A,!1,b)&&Y,E)for(fe=0;fe<E.length;fe++)Z=b.g=E[fe],Y=K(Z,A,!1,b)&&Y}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const E=d.g[b];for(let A=0;A<E.length;A++)_e(E[A]);delete d.g[b],d.h--}}this.G=null},Nt.prototype.J=function(d,b,E,A){return this.i.add(String(d),b,!1,E,A)},Nt.prototype.K=function(d,b,E,A){return this.i.add(String(d),b,!0,E,A)};function K(d,b,E,A){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let Z=0;Z<b.length;++Z){const fe=b[Z];if(fe&&!fe.da&&fe.capture==E){const Le=fe.listener,Ft=fe.ha||fe.src;fe.fa&&Re(d.i,fe),Y=Le.call(Ft,A)!==!1&&Y}}return Y&&!A.defaultPrevented}function te(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(d,b||0)}function pe(d){d.g=te(()=>{d.g=null,d.i&&(d.i=!1,pe(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class ue extends U{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:pe(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function de(d){U.call(this),this.h=d,this.g={}}x(de,U);var we=[];function Xe(d){Ue(d.g,function(b,E){this.g.hasOwnProperty(E)&&xi(b)},d),d.g={}}de.prototype.N=function(){de.Z.N.call(this),Xe(this)},de.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=u.JSON.stringify,En=u.JSON.parse,Mr=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Xn(){}function To(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){j.call(this,"d")}x(zt,j);function Ln(){j.call(this,"c")}x(Ln,j);var Tt={},So=null;function Lr(){return So=So||new Nt}Tt.Ia="serverreachability";function Ku(d){j.call(this,Tt.Ia,d)}x(Ku,j);function er(d){const b=Lr();L(b,new Ku(b))}Tt.STAT_EVENT="statevent";function Ca(d,b){j.call(this,Tt.STAT_EVENT,d),this.stat=b}x(Ca,j);function Gt(d){const b=Lr();L(b,new Ca(b,d))}Tt.Ja="timingevent";function tr(d,b){j.call(this,Tt.Ja,d),this.size=b}x(tr,j);function nr(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},b)}function Ds(){this.g=!0}Ds.prototype.ua=function(){this.g=!1};function Jf(d,b,E,A,Y,Z){d.info(function(){if(d.g)if(Z){var fe="",Le=Z.split("&");for(let at=0;at<Le.length;at++){var Ft=Le[at].split("=");if(Ft.length>1){const St=Ft[0];Ft=Ft[1];const vs=St.split("_");fe=vs.length>=2&&vs[1]=="type"?fe+(St+"="+Ft+"&"):fe+(St+"=redacted&")}}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+A+") [attempt "+Y+"]: "+b+`
`+E+`
`+fe})}function Qu(d,b,E,A,Y,Z,fe){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Y+"]: "+b+`
`+E+`
`+Z+" "+fe})}function sr(d,b,E,A){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Zf(d,E)+(A?" "+A:"")})}function Na(d,b){d.info(function(){return"TIMEOUT: "+b})}Ds.prototype.info=function(){};function Zf(d,b){if(!d.g)return b;if(!b)return null;try{const Z=JSON.parse(b);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var E=Z[d];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var Y=A[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let fe=1;fe<A.length;fe++)A[fe]=""}}}}return Je(Z)}catch{return b}}var Ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xl;function ka(){}x(ka,Xn),ka.prototype.g=function(){return new XMLHttpRequest},Xl=new ka;function Vr(d){return encodeURIComponent(String(d))}function Wu(d){var b=1;d=d.split(":");const E=[];for(;b>0&&d.length;)E.push(d.shift()),b--;return d.length&&E.push(d.join(":")),E}function Os(d,b,E,A){this.j=d,this.i=b,this.l=E,this.S=A||1,this.V=new de(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var $t={},ln={};function rr(d,b,E){d.M=1,d.A=Ia(Kt(b)),d.u=E,d.R=!0,Ao(d,null)}function Ao(d,b){d.F=Date.now(),ir(d),d.B=Kt(d.A);var E=d.B,A=d.S;Array.isArray(A)||(A=[String(A)]),ko(E.i,"t",A),d.C=0,E=d.j.L,d.h=new Ps,d.g=dd(d.j,E?b:null,!d.u),d.P>0&&(d.O=new ue(g(d.Y,d,d.g),d.P)),b=d.V,E=d.g,A=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(we[0]=Y.toString()),Y=we);for(let Z=0;Z<Y.length;Z++){const fe=ft(E,Y[Z],A||b.handleEvent,!1,b.h||b);if(!fe)break;b.g[fe.key]=fe}b=d.J?q(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),er(),Jf(d.i,d.v,d.B,d.l,d.S,d.u)}Os.prototype.ba=function(d){d=d.target;const b=this.O;b&&Ls(d)==3?b.j():this.Y(d)},Os.prototype.Y=function(d){try{if(d==this.g)e:{const Le=Ls(this.g),Ft=this.g.ya(),at=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Le!=4||Ft==7||(Ft==8||at<=0?er(3):er(2)),ar(this);var b=this.g.ca();this.X=b;var E=em(this);if(this.o=b==200,Qu(this.i,this.v,this.B,this.l,this.S,Le,b),this.o){if(this.U&&!this.L){t:{if(this.g){var A,Y=this.g;if((A=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(A)){var Z=A;break t}}Z=null}if(d=Z)sr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,or(this,d);else{this.o=!1,this.m=3,Gt(12),Jn(this),gs(this);break e}}if(this.R){d=!0;let St;for(;!this.K&&this.C<E.length;)if(St=Ju(this,E),St==ln){Le==4&&(this.m=4,Gt(14),d=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(St==$t){this.m=4,Gt(15),sr(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else sr(this.i,this.l,St,null),or(this,St);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||E.length!=0||this.h.h||(this.m=1,Gt(16),d=!1),this.o=this.o&&d,!d)sr(this.i,this.l,E,"[Invalid Chunked Response]"),Jn(this),gs(this);else if(E.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),hc(fe),fe.P=!0,Gt(11))}}else sr(this.i,this.l,E,null),or(this,E);Le==4&&Jn(this),this.o&&!this.K&&(Le==4?od(this.j,this):(this.o=!1,ir(this)))}else zr(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Jn(this),gs(this)}}}catch{}finally{}};function em(d){if(!Xu(d))return d.g.la();const b=fn(d.g);if(b==="")return"";let E="";const A=b.length,Y=Ls(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Jn(d),gs(d),"";d.h.i=new u.TextDecoder}for(let Z=0;Z<A;Z++)d.h.h=!0,E+=d.h.i.decode(b[Z],{stream:!(Y&&Z==A-1)});return b.length=0,d.h.g+=E,d.C=0,d.h.g}function Xu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ju(d,b){var E=d.C,A=b.indexOf(`
`,E);return A==-1?ln:(E=Number(b.substring(E,A)),isNaN(E)?$t:(A+=1,A+E>b.length?ln:(b=b.slice(A,A+E),d.C=A+E,b)))}Os.prototype.cancel=function(){this.K=!0,Jn(this)};function ir(d){d.T=Date.now()+d.H,Co(d,d.H)}function Co(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=nr(g(d.aa,d),b)}function ar(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Os.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Na(this.i,this.B),this.M!=2&&(er(),Gt(17)),Jn(this),this.m=2,gs(this)):Co(this,this.T-d)};function gs(d){d.j.I==0||d.K||od(d.j,d)}function Jn(d){ar(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,Xe(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function or(d,b){try{var E=d.j;if(E.I!=0&&(E.g==d||cr(E.h,d))){if(!d.L&&cr(E.h,d)&&E.I==3){try{var A=E.Ba.g.parse(b)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Y=A;if(Y[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)jo(E),ki(E);else break e;Va(E),Gt(18)}}else E.xa=Y[1],0<E.xa-E.K&&Y[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=nr(g(E.Va,E),6e3));lr(E.h)<=1&&E.ta&&(E.ta=void 0)}else gr(E,11)}else if((d.L||E.g==d)&&jo(E),!k(b))for(Y=E.Ba.g.parse(b),b=0;b<Y.length;b++){let at=Y[b];const St=at[0];if(!(St<=E.K))if(E.K=St,at=at[1],E.I==2)if(at[0]=="c"){E.M=at[1],E.ba=at[2];const vs=at[3];vs!=null&&(E.ka=vs,E.j.info("VER="+E.ka));const pr=at[4];pr!=null&&(E.za=pr,E.j.info("SVER="+E.za));const Vs=at[5];Vs!=null&&typeof Vs=="number"&&Vs>0&&(A=1.5*Vs,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Us=d.g;if(Us){const Ua=Us.g?Us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var Z=A.h;Z.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ec(Z,Z.h),Z.h=null))}if(A.G){const Mo=Us.g?Us.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(A.wa=Mo,lt(A.J,A.G,Mo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var fe=d;if(A.na=ud(A,A.L?A.ba:null,A.W),fe.L){tc(A.h,fe);var Le=fe,Ft=A.O;Ft&&(Le.H=Ft),Le.D&&(ar(Le),ir(Le)),A.g=fe}else id(A);E.i.length>0&&mr(E)}else at[0]!="stop"&&at[0]!="close"||gr(E,7);else E.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?gr(E,7):uc(E):at[0]!="noop"&&E.l&&E.l.qa(at),E.A=0)}}er(4)}catch{}}var Yt=class{constructor(d,b){this.g=d,this.map=b}};function Jl(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function lr(d){return d.h?1:d.g?d.g.size:0}function cr(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function ec(d,b){d.g?d.g.add(b):d.h=b}function tc(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}Jl.prototype.cancel=function(){if(this.i=nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function nc(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const E of d.g.values())b=b.concat(E.G);return b}return I(d.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function No(d,b){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const A=d[E].indexOf("=");let Y,Z=null;A>=0?(Y=d[E].substring(0,A),Z=d[E].substring(A+1)):Y=d[E],b(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Zn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Zn?(this.l=d.l,cn(this,d.j),this.o=d.o,this.g=d.g,wi(this,d.u),this.h=d.h,sc(this,sd(d.i)),this.m=d.m):d&&(b=String(d).match(Zu))?(this.l=!1,cn(this,b[1]||"",!0),this.o=ur(b[2]||""),this.g=ur(b[3]||"",!0),wi(this,b[4]),this.h=ur(b[5]||"",!0),sc(this,b[6]||"",!0),this.m=ur(b[7]||"")):(this.l=!1,this.i=new Si(null,this.l))}Zn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Da(b,Ro,!0),":");var E=this.g;return(E||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Da(b,Ro,!0),"@"),d.push(Vr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Da(E,E.charAt(0)=="/"?rc:ed,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Da(E,td)),d.join("")},Zn.prototype.resolve=function(d){const b=Kt(this);let E=!!d.j;E?cn(b,d.j):E=!!d.o,E?b.o=d.o:E=!!d.g,E?b.g=d.g:E=d.u!=null;var A=d.h;if(E)wi(b,d.u);else if(E=!!d.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(A=b.h.slice(0,Y+1)+A)}if(Y=A,Y==".."||Y==".")A="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){A=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let fe=0;fe<Y.length;){const Le=Y[fe++];Le=="."?A&&fe==Y.length&&Z.push(""):Le==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),A&&fe==Y.length&&Z.push("")):(Z.push(Le),A=!0)}A=Z.join("/")}else A=Y}return E?b.h=A:E=d.i.toString()!=="",E?sc(b,sd(d.i)):E=!!d.m,E&&(b.m=d.m),b};function Kt(d){return new Zn(d)}function cn(d,b,E){d.j=E?ur(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function wi(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function sc(d,b,E){b instanceof Si?(d.i=b,Io(d.i,d.l)):(E||(b=Da(b,Ti)),d.i=new Si(b,d.l))}function lt(d,b,E){d.i.set(b,E)}function Ia(d){return lt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ur(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Da(d,b,E){return typeof d=="string"?(d=encodeURI(d).replace(b,Vn),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Vn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ro=/[#\/\?@]/g,ed=/[#\?:]/g,rc=/[#\?]/g,Ti=/[#\?@]/g,td=/#/g;function Si(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Un(d){d.g||(d.g=new Map,d.h=0,d.i&&No(d.i,function(b,E){d.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}n=Si.prototype,n.add=function(d,b){Un(this),this.i=null,d=Ai(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(b),this.h+=1,this};function nd(d,b){Un(d),b=Ai(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function ic(d,b){return Un(d),b=Ai(d,b),d.g.has(b)}n.forEach=function(d,b){Un(this),this.g.forEach(function(E,A){E.forEach(function(Y){d.call(b,Y,A,this)},this)},this)};function ac(d,b){Un(d);let E=[];if(typeof b=="string")ic(d,b)&&(E=E.concat(d.g.get(Ai(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)E=E.concat(d[b]);return E}n.set=function(d,b){return Un(this),this.i=null,d=Ai(this,d),ic(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},n.get=function(d,b){return d?(d=ac(this,d),d.length>0?String(d[0]):b):b};function ko(d,b,E){nd(d,b),E.length>0&&(d.i=null,d.g.set(Ai(d,b),I(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let A=0;A<b.length;A++){var E=b[A];const Y=Vr(E);E=ac(this,E);for(let Z=0;Z<E.length;Z++){let fe=Y;E[Z]!==""&&(fe+="="+Vr(E[Z])),d.push(fe)}}return this.i=d.join("&")};function sd(d){const b=new Si;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function Ai(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Io(d,b){b&&!d.j&&(Un(d),d.i=null,d.g.forEach(function(E,A){const Y=A.toLowerCase();A!=Y&&(nd(this,A),ko(this,Y,E))},d)),d.j=b}function js(d,b){const E=new Ds;if(u.Image){const A=new Image;A.onload=v(ps,E,"TestLoadImage: loaded",!0,b,A),A.onerror=v(ps,E,"TestLoadImage: error",!1,b,A),A.onabort=v(ps,E,"TestLoadImage: abort",!1,b,A),A.ontimeout=v(ps,E,"TestLoadImage: timeout",!1,b,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else b(!1)}function oc(d,b){const E=new Ds,A=new AbortController,Y=setTimeout(()=>{A.abort(),ps(E,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:A.signal}).then(Z=>{clearTimeout(Y),Z.ok?ps(E,"TestPingServer: ok",!0,b):ps(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),ps(E,"TestPingServer: error",!1,b)})}function ps(d,b,E,A,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),A(E)}catch{}}function Ci(){this.g=new Mr}function dr(d){this.i=d.Sb||null,this.h=d.ab||!1}x(dr,Xn),dr.prototype.g=function(){return new Oa(this.i,this.h)};function Oa(d,b){Nt.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Oa,Nt),n=Oa.prototype,n.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,Ms(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Do(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Do(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Ni(this):Ms(this),this.readyState==3&&Do(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Ni(this))},n.Na=function(d){this.g&&(this.response=d,Ni(this))},n.ga=function(){this.g&&Ni(this)};function Ni(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ms(d)}n.setRequestHeader=function(d,b){this.A.append(d,b)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=b.next();return d.join(`\r
`)};function Ms(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ys(d){let b="";return Ue(d,function(E,A){b+=A,b+=":",b+=E,b+=`\r
`}),b}function Pa(d,b,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=ys(E),typeof d=="string"?E!=null&&Vr(E):lt(d,b,E))}function mt(d){Nt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(mt,Nt);var hr=/^https?$/i,lc=["POST","PUT"];n=mt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,b,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(Z){ja(this,Z);return}if(d=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Y in A)E.set(Y,A[Y]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())E.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(lc,b,void 0)>=0)||A||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of E)this.g.setRequestHeader(Z,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){ja(this,Z)}};function ja(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,cc(d),Ur(d)}function cc(d){d.A||(d.A=!0,L(d,"complete"),L(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,L(this,"complete"),L(this,"abort"),Ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),mt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ma(this):this.Xa())},n.Xa=function(){Ma(this)};function Ma(d){if(d.h&&typeof l<"u"){if(d.v&&Ls(d)==4)setTimeout(d.Ca.bind(d),0);else if(L(d,"readystatechange"),Ls(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var A;if(A=Z===0){let fe=String(d.D).match(Zu)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),A=!hr.test(fe?fe.toLowerCase():"")}E=A}if(E)L(d,"complete"),L(d,"success");else{d.o=6;try{var Y=Ls(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",cc(d)}}finally{Ur(d)}}}}function Ur(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,b||L(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ls(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Ls(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),En(b)}};function fn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function zr(d){const b={};d=(d.g&&Ls(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(k(d[A]))continue;var E=Wu(d[A]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=b[Y]||[];b[Y]=Z,Z.push(E)}Ge(b,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(d,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||b}function Ri(d){this.za=0,this.i=[],this.j=new Ds,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fr("baseRetryDelayMs",5e3,d),this.Za=fr("retryDelaySeedMs",1e4,d),this.Ta=fr("forwardChannelMaxRetries",2,d),this.va=fr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Jl(d&&d.concurrentRequestLimit),this.Ba=new Ci,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ri.prototype,n.ka=8,n.I=1,n.connect=function(d,b,E,A){Gt(0),this.W=d,this.H=b||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=ud(this,null,this.W),mr(this)};function uc(d){if(Oo(d),d.I==3){var b=d.V++,E=Kt(d.J);if(lt(E,"SID",d.M),lt(E,"RID",b),lt(E,"TYPE","terminate"),La(d,E),b=new Os(d,d.j,b),b.M=2,b.A=Ia(Kt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=b.A,E=!0),E||(b.g=dd(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ir(b)}cd(d)}function ki(d){d.g&&(hc(d),d.g.cancel(),d.g=null)}function Oo(d){ki(d),d.v&&(u.clearTimeout(d.v),d.v=null),jo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function mr(d){if(!Zl(d.h)&&!d.m){d.m=!0;var b=d.Ea;se||S(),z||(se(),z=!0),C.add(b,d),d.D=0}}function Po(d,b){return lr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=nr(g(d.Ea,d,b),ld(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new Os(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=q(Z),me(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(b+=A,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=rd(this,Y,b),E=Kt(this.J),lt(E,"RID",d),lt(E,"CVER",22),this.G&&lt(E,"X-HTTP-Session-Id",this.G),La(this,E),Z&&(this.R?b="headers="+Vr(ys(Z))+"&"+b:this.u&&Pa(E,this.u,Z)),ec(this.h,Y),this.Ra&&lt(E,"TYPE","init"),this.S?(lt(E,"$req",b),lt(E,"SID","null"),Y.U=!0,rr(Y,E,null)):rr(Y,E,b),this.I=2}}else this.I==3&&(d?dc(this,d):this.i.length==0||Zl(this.h)||dc(this))};function dc(d,b){var E;b?E=b.l:E=d.V++;const A=Kt(d.J);lt(A,"SID",d.M),lt(A,"RID",E),lt(A,"AID",d.K),La(d,A),d.u&&d.o&&Pa(A,d.u,d.o),E=new Os(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),b&&(d.i=b.G.concat(d.i)),b=rd(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ec(d.h,E),rr(E,A,b)}function La(d,b){d.H&&Ue(d.H,function(E,A){lt(b,A,E)}),d.l&&Ue({},function(E,A){lt(b,A,E)})}function rd(d,b,E){E=Math.min(d.i.length,E);const A=d.l?g(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Le=-1;for(;;){const Ft=["count="+E];Le==-1?E>0?(Le=Y[0].g,Ft.push("ofs="+Le)):Le=0:Ft.push("ofs="+Le);let at=!0;for(let St=0;St<E;St++){var Z=Y[St].g;const vs=Y[St].map;if(Z-=Le,Z<0)Le=Math.max(0,Y[St].g-100),at=!1;else try{Z="req"+Z+"_"||"";try{var fe=vs instanceof Map?vs:Object.entries(vs);for(const[pr,Vs]of fe){let Us=Vs;m(Vs)&&(Us=Je(Vs)),Ft.push(Z+pr+"="+encodeURIComponent(Us))}}catch(pr){throw Ft.push(Z+"type="+encodeURIComponent("_badmap")),pr}}catch{A&&A(vs)}}if(at){fe=Ft.join("&");break e}}fe=void 0}return d=d.i.splice(0,E),b.G=d,fe}function id(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;se||S(),z||(se(),z=!0),C.add(b,d),d.A=0}}function Va(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=nr(g(d.Da,d),ld(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,ad(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=nr(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),ki(this),ad(this))};function hc(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function ad(d){d.g=new Os(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=Kt(d.na);lt(b,"RID","rpc"),lt(b,"SID",d.M),lt(b,"AID",d.K),lt(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&lt(b,"TO",d.ia),lt(b,"TYPE","xmlhttp"),La(d,b),d.u&&d.o&&Pa(b,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Ia(Kt(b)),E.u=null,E.R=!0,Ao(E,d)}n.Va=function(){this.C!=null&&(this.C=null,ki(this),Va(this),Gt(19))};function jo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function od(d,b){var E=null;if(d.g==b){jo(d),hc(d),d.g=null;var A=2}else if(cr(d.h,b))E=b.G,tc(d.h,b),A=1;else return;if(d.I!=0){if(b.o)if(A==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var Y=d.D;A=Lr(),L(A,new tr(A,E)),mr(d)}else id(d);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(A==1&&Po(d,b)||A==2&&Va(d)))switch(E&&E.length>0&&(b=d.h,b.i=b.i.concat(E)),Y){case 1:gr(d,5);break;case 4:gr(d,10);break;case 3:gr(d,6);break;default:gr(d,2)}}}function ld(d,b){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*b}function gr(d,b){if(d.j.info("Error code "+b),b==2){var E=g(d.bb,d),A=d.Ua;const Y=!A;A=new Zn(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(A,"https"),Ia(A),Y?js(A.toString(),E):oc(A.toString(),E)}else Gt(2);d.I=0,d.l&&d.l.pa(b),cd(d),Oo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function cd(d){if(d.I=0,d.ja=[],d.l){const b=nc(d.h);(b.length!=0||d.i.length!=0)&&(O(d.ja,b),O(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function ud(d,b,E){var A=E instanceof Zn?Kt(E):new Zn(E);if(A.g!="")b&&(A.g=b+"."+A.g),wi(A,A.u);else{var Y=u.location;A=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new Zn(null);A&&cn(Z,A),b&&(Z.g=b),Y&&wi(Z,Y),E&&(Z.h=E),A=Z}return E=d.G,b=d.wa,E&&b&&lt(A,E,b),lt(A,"VER",d.ka),La(d,A),A}function dd(d,b,E){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new mt(new dr({ab:E})):new mt(d.ma),b.Fa(d.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hd(){}n=hd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ii(){}Ii.prototype.g=function(d,b){return new kn(d,b)};function kn(d,b){Nt.call(this),this.g=new Ri(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!k(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!k(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Fr(this)}x(kn,Nt),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){uc(this.g)},kn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Je(d),d=E);b.i.push(new Yt(b.Ya++,d)),b.I==3&&mr(b)},kn.prototype.N=function(){this.g.l=null,delete this.j,uc(this.g),delete this.g,kn.Z.N.call(this)};function fd(d){zt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const E in b){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}x(fd,zt);function md(){Ln.call(this),this.status=1}x(md,Ln);function Fr(d){this.g=d}x(Fr,hd),Fr.prototype.ra=function(){L(this.g,"a")},Fr.prototype.qa=function(d){L(this.g,new fd(d))},Fr.prototype.pa=function(d){L(this.g,new md)},Fr.prototype.oa=function(){L(this.g,"b")},Ii.prototype.createWebChannel=Ii.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,BT=function(){return new Ii},FT=function(){return Lr()},zT=Tt,kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ra.NO_ERROR=0,Ra.TIMEOUT=8,Ra.HTTP_ERROR=6,Ph=Ra,Wl.COMPLETE="complete",UT=Wl,To.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,ru=To,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,VT=mt}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const Gx="@firebase/firestore",$x="4.9.2";let Sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let ql="12.3.0";const uo=new xf("@firebase/firestore");function yl(){return uo.logLevel}function be(n,...e){if(uo.logLevel<=Ke.DEBUG){const t=e.map(xy);uo.debug(`Firestore (${ql}): ${n}`,...t)}}function hi(n,...e){if(uo.logLevel<=Ke.ERROR){const t=e.map(xy);uo.error(`Firestore (${ql}): ${n}`,...t)}}function Il(n,...e){if(uo.logLevel<=Ke.WARN){const t=e.map(xy);uo.warn(`Firestore (${ql}): ${n}`,...t)}}function xy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ce(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,qT(n,r,t)}function qT(n,e,t){let r=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw hi(r),new Error(r)}function nt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||qT(e,a,r)}function Oe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ks{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class HT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class UD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class zD{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let r=this.i;const a=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let l=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Sr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},m=y=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Sr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new HT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class FD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new FD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ls(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const r=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Yx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=HD(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Qe(n,e){return n<e?-1:n>e?1:0}function Ip(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return cp(a)===cp(l)?Qe(a,l):cp(a)?1:-1}return Qe(n.length,e.length)}const GD=55296,$D=57343;function cp(n){const e=n.charCodeAt(0);return e>=GD&&e<=$D}function Dl(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const Kx="__name__";class xr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ce(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=xr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Qe(e.length,t.length)}static compareSegments(e,t){const r=xr.isNumericId(e),a=xr.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?xr.extractNumericId(e).compare(xr.extractNumericId(t)):Ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class ht extends xr{construct(e,t,r){return new ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new ht(t)}static emptyPath(){return new ht([])}}const YD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends xr{construct(e,t,r){return new bn(e,t,r)}static isValidIdentifier(e){return YD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kx}static keyField(){return new bn([Kx])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,a+=2}else m==="`"?(u=!u,a++):m!=="."||u?(r+=m,a++):(l(),a++)}if(l(),u)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ht.fromString(e))}static fromName(e){return new Se(ht.fromString(e).popFirst(5))}static empty(){return new Se(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ht(e.slice()))}}function wy(n,e,t){if(!t)throw new ge(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KD(n,e,t,r){if(e===!0&&r===!0)throw new ge(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qx(n){if(!Se.isDocumentKey(n))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Wx(n){if(Se.isDocumentKey(n))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Af(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Af(n);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Mu(n,e){if(!GT(n))throw new ge(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ge(re.INVALID_ARGUMENT,t);return!0}const Xx=-62135596800,Jx=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Jx);return new xt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xx)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jx}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:nn("string",xt._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new xt(0,0))}static max(){return new ke(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function QD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(r===1e9?new xt(t+1,0):new xt(t,r));return new fa(a,Se.empty(),e)}function WD(n){return new fa(n.readTime,n.key,Eu)}class fa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fa(ke.min(),Se.empty(),Eu)}static max(){return new fa(ke.max(),Se.empty(),Eu)}}function XD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}const JD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hl(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==JD)throw n;be("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,r)=>{t(e)}))}static reject(e){return new ce(((t,r)=>{r(e)}))}static waitFor(e){return new ce(((t,r)=>{let a=0,l=0,u=!1;e.forEach((m=>{++a,m.next((()=>{++l,u&&l===a&&t()}),(y=>r(y)))})),u=!0,l===a&&t()}))}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next((a=>a?ce.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ce(((r,a)=>{const l=e.length,u=new Array(l);let m=0;for(let y=0;y<l;y++){const g=y;t(e[g]).next((v=>{u[g]=v,++m,m===l&&r(u)}),(v=>a(v)))}}))}static doWhile(e,t){return new ce(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function e4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gl(n){return n.name==="IndexedDbTransactionError"}class Cf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cf.ce=-1;const Ty=-1;function Lu(n){return n==null}function Wh(n){return n===0&&1/n==-1/0}function t4(n){return typeof n=="number"&&Number.isInteger(n)&&!Wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const $T="";function n4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zx(e)),e=s4(n.get(t),e);return Zx(e)}function s4(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case $T:t+="";break;default:t+=l}}return t}function Zx(n){return n+$T+""}function eE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ta(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class kt{constructor(e,t){this.comparator=e,this.root=t||vn.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??vn.RED,this.left=a??vn.EMPTY,this.right=l??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new vn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return vn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class on{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tE(this.data.getIterator())}getIteratorFrom(e){return new tE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new on(this.comparator);return t.data=e,t}}class tE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ds{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new ds([])}unionWith(e){let t=new on(bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class KT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new KT("Invalid base64 string: "+l):l}})(e);return new xn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const r4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(n){if(nt(!!n,39018),typeof n=="string"){let e=0;const t=r4.exec(n);if(nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ga(n){return typeof n=="string"?xn.fromBase64String(n):xn.fromUint8Array(n)}const QT="server_timestamp",WT="__type__",XT="__previous_value__",JT="__local_write_time__";function Sy(n){return(n?.mapValue?.fields||{})[WT]?.stringValue===QT}function Nf(n){const e=n.mapValue.fields[XT];return Sy(e)?Nf(e):e}function wu(n){const e=ma(n.mapValue.fields[JT].timestampValue);return new xt(e.seconds,e.nanos)}class i4{constructor(e,t,r,a,l,u,m,y,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=v}}const Xh="(default)";class Tu{constructor(e,t){this.projectId=e,this.database=t||Xh}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}const ZT="__type__",a4="__max__",Eh={mapValue:{}},eS="__vector__",Jh="value";function pa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sy(n)?4:l4(n)?9007199254740991:o4(n)?10:11:Ce(28295,{value:n})}function Ir(n,e){if(n===e)return!0;const t=pa(n);if(t!==pa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wu(n).isEqual(wu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ma(a.timestampValue),m=ma(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return ga(a.bytesValue).isEqual(ga(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ht(a.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(a.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ht(a.integerValue)===Ht(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ht(a.doubleValue),m=Ht(l.doubleValue);return u===m?Wh(u)===Wh(m):isNaN(u)&&isNaN(m)}return!1})(n,e);case 9:return Dl(n.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},m=l.mapValue.fields||{};if(eE(u)!==eE(m))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(m[y]===void 0||!Ir(u[y],m[y])))return!1;return!0})(n,e);default:return Ce(52216,{left:n})}}function Su(n,e){return(n.values||[]).find((t=>Ir(t,e)))!==void 0}function Ol(n,e){if(n===e)return 0;const t=pa(n),r=pa(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const m=Ht(l.integerValue||l.doubleValue),y=Ht(u.integerValue||u.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(n,e);case 3:return nE(n.timestampValue,e.timestampValue);case 4:return nE(wu(n),wu(e));case 5:return Ip(n.stringValue,e.stringValue);case 6:return(function(l,u){const m=ga(l),y=ga(u);return m.compareTo(y)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const m=l.split("/"),y=u.split("/");for(let g=0;g<m.length&&g<y.length;g++){const v=Qe(m[g],y[g]);if(v!==0)return v}return Qe(m.length,y.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const m=Qe(Ht(l.latitude),Ht(u.latitude));return m!==0?m:Qe(Ht(l.longitude),Ht(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return sE(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const m=l.fields||{},y=u.fields||{},g=m[Jh]?.arrayValue,v=y[Jh]?.arrayValue,x=Qe(g?.values?.length||0,v?.values?.length||0);return x!==0?x:sE(g,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Eh.mapValue&&u===Eh.mapValue)return 0;if(l===Eh.mapValue)return 1;if(u===Eh.mapValue)return-1;const m=l.fields||{},y=Object.keys(m),g=u.fields||{},v=Object.keys(g);y.sort(),v.sort();for(let x=0;x<y.length&&x<v.length;++x){const w=Ip(y[x],v[x]);if(w!==0)return w;const I=Ol(m[y[x]],g[v[x]]);if(I!==0)return I}return Qe(y.length,v.length)})(n.mapValue,e.mapValue);default:throw Ce(23264,{he:t})}}function nE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=ma(n),r=ma(e),a=Qe(t.seconds,r.seconds);return a!==0?a:Qe(t.nanos,r.nanos)}function sE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Ol(t[a],r[a]);if(l)return l}return Qe(t.length,r.length)}function Pl(n){return Dp(n)}function Dp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ma(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ga(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Dp(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Dp(t.fields[u])}`;return a+"}"})(n.mapValue):Ce(61005,{value:n})}function jh(n){switch(pa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(n);return e?16+jh(e):16;case 5:return 2*n.stringValue.length;case 6:return ga(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+jh(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Ta(r.fields,((l,u)=>{a+=l.length+jh(u)})),a})(n.mapValue);default:throw Ce(13486,{value:n})}}function rE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Op(n){return!!n&&"integerValue"in n}function Ay(n){return!!n&&"arrayValue"in n}function iE(n){return!!n&&"nullValue"in n}function aE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mh(n){return!!n&&"mapValue"in n}function o4(n){return(n?.mapValue?.fields||{})[ZT]?.stringValue===eS}function uu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ta(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=uu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(n.arrayValue.values[t]);return e}return{...n}}function l4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===a4}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=bn.emptyPath(),r={},a=[];e.forEach(((u,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,r,a),r={},a=[],t=m.popLast()}u?r[m.lastSegment()]=uu(u):a.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Mh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ta(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Pn(uu(this.value))}}function tS(n){const e=[];return Ta(n.fields,((t,r)=>{const a=new bn([t]);if(Mh(r)){const l=tS(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ds(e)}class hn{constructor(e,t,r,a,l,u,m){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new hn(e,0,ke.min(),ke.min(),ke.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,a){return new hn(e,1,t,ke.min(),r,a,0)}static newNoDocument(e,t){return new hn(e,2,t,ke.min(),ke.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,ke.min(),ke.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zh{constructor(e,t){this.position=e,this.inclusive=t}}function oE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?r=Se.comparator(Se.fromName(u.referenceValue),t.key):r=Ol(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function lE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ir(n.position[t],e.position[t]))return!1;return!0}class Au{constructor(e,t="asc"){this.field=e,this.dir=t}}function c4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class nS{}class tn extends nS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new d4(e,t,r):t==="array-contains"?new m4(e,r):t==="in"?new g4(e,r):t==="not-in"?new p4(e,r):t==="array-contains-any"?new y4(e,r):new tn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new h4(e,r):new f4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ol(t,this.value)):t!==null&&pa(this.value)===pa(t)&&this.matchesComparison(Ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends nS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qs(e,t)}matches(e){return sS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sS(n){return n.op==="and"}function rS(n){return u4(n)&&sS(n)}function u4(n){for(const e of n.filters)if(e instanceof Qs)return!1;return!0}function Pp(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+Pl(n.value);if(rS(n))return n.filters.map((e=>Pp(e))).join(",");{const e=n.filters.map((t=>Pp(t))).join(",");return`${n.op}(${e})`}}function iS(n,e){return n instanceof tn?(function(r,a){return a instanceof tn&&r.op===a.op&&r.field.isEqual(a.field)&&Ir(r.value,a.value)})(n,e):n instanceof Qs?(function(r,a){return a instanceof Qs&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,m)=>l&&iS(u,a.filters[m])),!0):!1})(n,e):void Ce(19439)}function aS(n){return n instanceof tn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Pl(t.value)}`})(n):n instanceof Qs?(function(t){return t.op.toString()+" {"+t.getFilters().map(aS).join(" ,")+"}"})(n):"Filter"}class d4 extends tn{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class h4 extends tn{constructor(e,t){super(e,"in",t),this.keys=oS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class f4 extends tn{constructor(e,t){super(e,"not-in",t),this.keys=oS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function oS(n,e){return(e.arrayValue?.values||[]).map((t=>Se.fromName(t.referenceValue)))}class m4 extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ay(t)&&Su(t.arrayValue,this.value)}}class g4 extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}}class p4 extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Su(this.value.arrayValue,t)}}class y4 extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Su(this.value.arrayValue,r)))}}class v4{constructor(e,t=null,r=[],a=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=m,this.Te=null}}function cE(n,e=null,t=[],r=[],a=null,l=null,u=null){return new v4(n,e,t,r,a,l,u)}function Cy(n){const e=Oe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Pp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Lu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Pl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Pl(r))).join(",")),e.Te=t}return e.Te}function Ny(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!c4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lE(n.startAt,e.startAt)&&lE(n.endAt,e.endAt)}function jp(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class vo{constructor(e,t=null,r=[],a=[],l=null,u="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function b4(n,e,t,r,a,l,u,m){return new vo(n,e,t,r,a,l,u,m)}function Rf(n){return new vo(n)}function uE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lS(n){return n.collectionGroup!==null}function du(n){const e=Oe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new on(bn.comparator);return u.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Au(l,r))})),t.has(bn.keyField().canonicalString())||e.Ie.push(new Au(bn.keyField(),r))}return e.Ie}function Ar(n){const e=Oe(n);return e.Ee||(e.Ee=_4(e,du(n))),e.Ee}function _4(n,e){if(n.limitType==="F")return cE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Au(a.field,l)}));const t=n.endAt?new Zh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zh(n.startAt.position,n.startAt.inclusive):null;return cE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Mp(n,e){const t=n.filters.concat([e]);return new vo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lp(n,e,t){return new vo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kf(n,e){return Ny(Ar(n),Ar(e))&&n.limitType===e.limitType}function cS(n){return`${Cy(Ar(n))}|lt:${n.limitType}`}function vl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>aS(a))).join(", ")}]`),Lu(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Pl(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Pl(a))).join(",")),`Target(${r})`})(Ar(n))}; limitType=${n.limitType})`}function If(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Se.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of du(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,m,y){const g=oE(u,m,y);return u.inclusive?g<=0:g<0})(r.startAt,du(r),a)||r.endAt&&!(function(u,m,y){const g=oE(u,m,y);return u.inclusive?g>=0:g>0})(r.endAt,du(r),a))})(n,e)}function x4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uS(n){return(e,t)=>{let r=!1;for(const a of du(n)){const l=E4(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function E4(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(l,u,m){const y=u.data.field(l),g=m.data.field(l);return y!==null&&g!==null?Ol(y,g):Ce(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:n.dir})}}class bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}const w4=new kt(Se.comparator);function fi(){return w4}const dS=new kt(Se.comparator);function iu(...n){let e=dS;for(const t of n)e=e.insert(t.key,t);return e}function hS(n){let e=dS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function so(){return hu()}function fS(){return hu()}function hu(){return new bo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const T4=new kt(Se.comparator),S4=new on(Se.comparator);function We(...n){let e=S4;for(const t of n)e=e.add(t);return e}const A4=new on(Qe);function C4(){return A4}function Ry(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function mS(n){return{integerValue:""+n}}function N4(n,e){return t4(e)?mS(e):Ry(n,e)}class Df{constructor(){this._=void 0}}function R4(n,e,t){return n instanceof Cu?(function(a,l){const u={fields:{[WT]:{stringValue:QT},[JT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Sy(l)&&(l=Nf(l)),l&&(u.fields[XT]=l),{mapValue:u}})(t,e):n instanceof jl?pS(n,e):n instanceof Ml?yS(n,e):(function(a,l){const u=gS(a,l),m=dE(u)+dE(a.Ae);return Op(u)&&Op(a.Ae)?mS(m):Ry(a.serializer,m)})(n,e)}function k4(n,e,t){return n instanceof jl?pS(n,e):n instanceof Ml?yS(n,e):t}function gS(n,e){return n instanceof ef?(function(r){return Op(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Cu extends Df{}class jl extends Df{constructor(e){super(),this.elements=e}}function pS(n,e){const t=vS(e);for(const r of n.elements)t.some((a=>Ir(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Ml extends Df{constructor(e){super(),this.elements=e}}function yS(n,e){let t=vS(e);for(const r of n.elements)t=t.filter((a=>!Ir(a,r)));return{arrayValue:{values:t}}}class ef extends Df{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function dE(n){return Ht(n.integerValue||n.doubleValue)}function vS(n){return Ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ky{constructor(e,t){this.field=e,this.transform=t}}function I4(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof jl&&a instanceof jl||r instanceof Ml&&a instanceof Ml?Dl(r.elements,a.elements,Ir):r instanceof ef&&a instanceof ef?Ir(r.Ae,a.Ae):r instanceof Cu&&a instanceof Cu})(n.transform,e.transform)}class D4{constructor(e,t){this.version=e,this.transformResults=t}}class _n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Of{}function bS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pf(n.key,_n.none()):new Vu(n.key,n.data,_n.none());{const t=n.data,r=Pn.empty();let a=new on(bn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Sa(n.key,r,new ds(a.toArray()),_n.none())}}function O4(n,e,t){n instanceof Vu?(function(a,l,u){const m=a.value.clone(),y=fE(a.fieldTransforms,l,u.transformResults);m.setAll(y),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):n instanceof Sa?(function(a,l,u){if(!Lh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const m=fE(a.fieldTransforms,l,u.transformResults),y=l.data;y.setAll(_S(a)),y.setAll(m),l.convertToFoundDocument(u.version,y).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function fu(n,e,t,r){return n instanceof Vu?(function(l,u,m,y){if(!Lh(l.precondition,u))return m;const g=l.value.clone(),v=mE(l.fieldTransforms,y,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof Sa?(function(l,u,m,y){if(!Lh(l.precondition,u))return m;const g=mE(l.fieldTransforms,y,u),v=u.data;return v.setAll(_S(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(l,u,m){return Lh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(n,e,t)}function P4(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=gS(r.transform,a||null);l!=null&&(t===null&&(t=Pn.empty()),t.set(r.field,l))}return t||null}function hE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Dl(r,a,((l,u)=>I4(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vu extends Of{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Sa extends Of{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _S(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function fE(n,e,t){const r=new Map;nt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,m=e.data.field(l.field);r.set(l.field,k4(u,m,t[a]))}return r}function mE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);r.set(a.field,R4(l,u,e))}return r}class Pf extends Of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xS extends Of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class j4{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&O4(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(a.key)?null:m;const y=bS(u,m);y!==null&&r.set(a.key,y),u.isValidDocument()||u.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),We())}isEqual(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,((t,r)=>hE(t,r)))&&Dl(this.baseMutations,e.baseMutations,((t,r)=>hE(t,r)))}}class Iy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return T4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Iy(e,t,r,a)}}class M4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class L4{constructor(e,t){this.count=e,this.unchangedNames=t}}var en,tt;function ES(n){switch(n){case re.OK:return Ce(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function wS(n){if(n===void 0)return hi("GRPC error has no .code"),re.UNKNOWN;switch(n){case en.OK:return re.OK;case en.CANCELLED:return re.CANCELLED;case en.UNKNOWN:return re.UNKNOWN;case en.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case en.INTERNAL:return re.INTERNAL;case en.UNAVAILABLE:return re.UNAVAILABLE;case en.UNAUTHENTICATED:return re.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case en.NOT_FOUND:return re.NOT_FOUND;case en.ALREADY_EXISTS:return re.ALREADY_EXISTS;case en.PERMISSION_DENIED:return re.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case en.ABORTED:return re.ABORTED;case en.OUT_OF_RANGE:return re.OUT_OF_RANGE;case en.UNIMPLEMENTED:return re.UNIMPLEMENTED;case en.DATA_LOSS:return re.DATA_LOSS;default:return Ce(39323,{code:n})}}(tt=en||(en={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function V4(){return new TextEncoder}const U4=new ua([4294967295,4294967295],0);function gE(n){const e=V4().encode(n),t=new LT;return t.update(e),new Uint8Array(t.digest())}function pE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ua([t,r],0),new ua([a,l],0)]}class Dy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ua.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(ua.fromNumber(r)));return a.compare(U4)===1&&(a=new ua([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gE(e),[r,a]=pE(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Dy(l,a,t);return r.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const t=gE(e),[r,a]=pE(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new jf(ke.min(),a,new kt(Qe),fi(),We())}}class Uu{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uu(r,t,We(),We(),We())}}class Vh{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class TS{constructor(e,t){this.targetId=e,this.Ce=t}}class SS{constructor(e,t,r=xn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class yE{constructor(){this.ve=0,this.Fe=vE(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),t=We(),r=We();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ce(38017,{changeType:l})}})),new Uu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=vE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class z4{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=wh(),this.He=wh(),this.Ye=new kt(Qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(jp(l))if(r===0){const u=new Se(l.path);this.et(t,u,hn.newNoDocument(u,ke.min()))}else nt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const m=this.ut(e),y=m?this.ct(m,e,u):1;if(y!==0){this.it(t);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let u,m;try{u=ga(r).toUint8Array()}catch(y){if(y instanceof KT)return Il("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Dy(u,a,l)}catch(y){return Il(y instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const m=this.ot(u);if(m){if(l.current&&jp(m.target)){const y=new Se(m.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,hn.newNoDocument(y,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let r=We();this.He.forEach(((l,u)=>{let m=!0;u.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new jf(e,t,this.Ye,this.je,r);return this.je=fi(),this.Je=wh(),this.He=wh(),this.Ye=new kt(Qe),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new yE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new on(Qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new on(Qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wh(){return new kt(Se.comparator)}function vE(){return new kt(Se.comparator)}const F4={asc:"ASCENDING",desc:"DESCENDING"},B4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q4={and:"AND",or:"OR"};class H4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vp(n,e){return n.useProto3Json||Lu(e)?e:{value:e}}function tf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function G4(n,e){return tf(n,e.toTimestamp())}function fs(n){return nt(!!n,49232),ke.fromTimestamp((function(t){const r=ma(t);return new xt(r.seconds,r.nanos)})(n))}function Oy(n,e){return Up(n,e).canonicalString()}function Up(n,e){const t=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function CS(n){const e=ht.fromString(n);return nt(OS(e),10190,{key:e.toString()}),e}function nf(n,e){return Oy(n.databaseId,e.path)}function mu(n,e){const t=CS(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(RS(t))}function NS(n,e){return Oy(n.databaseId,e)}function $4(n){const e=CS(n);return e.length===4?ht.emptyPath():RS(e)}function zp(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RS(n){return nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function bE(n,e,t){return{name:nf(n,e),fields:t.value.mapValue.fields}}function Y4(n,e){return"found"in e?(function(r,a){nt(!!a.found,43571),a.found.name,a.found.updateTime;const l=mu(r,a.found.name),u=fs(a.found.updateTime),m=a.found.createTime?fs(a.found.createTime):ke.min(),y=new Pn({mapValue:{fields:a.found.fields}});return hn.newFoundDocument(l,u,m,y)})(n,e):"missing"in e?(function(r,a){nt(!!a.missing,3894),nt(!!a.readTime,22933);const l=mu(r,a.missing),u=fs(a.readTime);return hn.newNoDocument(l,u)})(n,e):Ce(7234,{result:e})}function K4(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(nt(v===void 0||typeof v=="string",58123),xn.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),xn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(g){const v=g.code===void 0?re.UNKNOWN:wS(g.code);return new ge(v,g.message||"")})(u);t=new SS(r,a,l,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=mu(n,r.document.name),l=fs(r.document.updateTime),u=r.document.createTime?fs(r.document.createTime):ke.min(),m=new Pn({mapValue:{fields:r.document.fields}}),y=hn.newFoundDocument(a,l,u,m),g=r.targetIds||[],v=r.removedTargetIds||[];t=new Vh(g,v,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=mu(n,r.document),l=r.readTime?fs(r.readTime):ke.min(),u=hn.newNoDocument(a,l),m=r.removedTargetIds||[];t=new Vh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=mu(n,r.document),l=r.removedTargetIds||[];t=new Vh([],l,a,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new L4(a,l),m=r.targetId;t=new TS(m,u)}}return t}function kS(n,e){let t;if(e instanceof Vu)t={update:bE(n,e.key,e.value)};else if(e instanceof Pf)t={delete:nf(n,e.key)};else if(e instanceof Sa)t={update:bE(n,e.key,e.data),updateMask:sO(e.fieldMask)};else{if(!(e instanceof xS))return Ce(16599,{Vt:e.type});t={verify:nf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const m=u.transform;if(m instanceof Cu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ef)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Ce(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:G4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(n,e.precondition)),t}function Q4(n,e){return n&&n.length>0?(nt(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?fs(a.updateTime):fs(l);return u.isEqual(ke.min())&&(u=fs(l)),new D4(u,a.transformResults||[])})(t,e)))):[]}function W4(n,e){return{documents:[NS(n,e.path)]}}function X4(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NS(n,a);const l=(function(g){if(g.length!==0)return DS(Qs.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:bl(w.field),direction:eO(w.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=Vp(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function J4(n){let e=$4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){nt(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(x){const w=IS(x);return w instanceof Qs&&rS(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(x){return x.map((w=>(function(O){return new Au(_l(O.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(w)))})(t.orderBy));let m=null;t.limit&&(m=(function(x){let w;return w=typeof x=="object"?x.value:x,Lu(w)?null:w})(t.limit));let y=null;t.startAt&&(y=(function(x){const w=!!x.before,I=x.values||[];return new Zh(I,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(x){const w=!x.before,I=x.values||[];return new Zh(I,w)})(t.endAt)),b4(e,a,u,l,m,"F",y,g)}function Z4(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_l(t.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=_l(t.unaryFilter.field);return tn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_l(t.unaryFilter.field);return tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_l(t.unaryFilter.field);return tn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(n):n.fieldFilter!==void 0?(function(t){return tn.create(_l(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Qs.create(t.compositeFilter.filters.map((r=>IS(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(t.compositeFilter.op))})(n):Ce(30097,{filter:n})}function eO(n){return F4[n]}function tO(n){return B4[n]}function nO(n){return q4[n]}function bl(n){return{fieldPath:n.canonicalString()}}function _l(n){return bn.fromServerFormat(n.fieldPath)}function DS(n){return n instanceof tn?(function(t){if(t.op==="=="){if(aE(t.value))return{unaryFilter:{field:bl(t.field),op:"IS_NAN"}};if(iE(t.value))return{unaryFilter:{field:bl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aE(t.value))return{unaryFilter:{field:bl(t.field),op:"IS_NOT_NAN"}};if(iE(t.value))return{unaryFilter:{field:bl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bl(t.field),op:tO(t.op),value:t.value}}})(n):n instanceof Qs?(function(t){const r=t.getFilters().map((a=>DS(a)));return r.length===1?r[0]:{compositeFilter:{op:nO(t.op),filters:r}}})(n):Ce(54877,{filter:n})}function sO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function OS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class oa{constructor(e,t,r,a,l=ke.min(),u=ke.min(),m=xn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rO{constructor(e){this.yt=e}}function iO(n){const e=J4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lp(e,e.limit,"L"):e}class aO{constructor(){this.Cn=new oO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(fa.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class oO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new on(ht.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new on(ht.comparator)).toArray()}}const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PS=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(PS,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);class Ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ll(0)}static cr(){return new Ll(-1)}}const xE="LruGarbageCollector",lO=1048576;function EE([n,e],[t,r]){const a=Qe(n,t);return a===0?Qe(e,r):a}class cO{constructor(e){this.Ir=e,this.buffer=new on(EE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();EE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(xE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gl(t)?be(xE,"Ignoring IndexedDB error during garbage collection: ",t):await Hl(t)}await this.Vr(3e5)}))}}class dO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Cf.ce);const r=new cO(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(_E)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,u,m,y,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(r=x,m=Date.now(),this.removeTargets(e,r,t)))).next((x=>(l=x,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(g=Date.now(),yl()<=Ke.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(m-u)+`ms
	Removed ${l} targets in `+(y-m)+`ms
	Removed ${x} documents in `+(g-y)+`ms
Total Duration: ${g-v}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function hO(n,e){return new dO(n,e)}class fO{constructor(){this.changes=new bo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gO{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&fu(r.mutation,a,ds.empty(),xt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=We()){const a=so();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let u=iu();return l.forEach(((m,y)=>{u=u.insert(m,y.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=so();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,We())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,m)=>{t.set(u,m)}))}))}computeViews(e,t,r,a){let l=fi();const u=hu(),m=(function(){return hu()})();return t.forEach(((y,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Sa)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),fu(v.mutation,g,v.mutation.getFieldMask(),xt.now())):u.set(g.key,ds.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((g,v)=>u.set(g,v))),t.forEach(((g,v)=>m.set(g,new mO(v,u.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const r=hu();let a=new kt(((u,m)=>u-m)),l=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const m of u)m.keys().forEach((y=>{const g=t.get(y);if(g===null)return;let v=r.get(y)||ds.empty();v=m.applyToLocalView(g,v),r.set(y,v);const x=(a.get(m.batchId)||We()).add(y);a=a.insert(m.batchId,x)}))})).next((()=>{const u=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,v=y.value,x=fS();v.forEach((w=>{if(!l.has(w)){const I=bS(t.get(w),r.get(w));I!==null&&x.set(w,I),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ce.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ce.resolve(so());let m=Eu,y=l;return u.next((g=>ce.forEach(g,((v,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),l.get(v)?ce.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{y=y.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,y,g,We()))).next((v=>({batchId:m,changes:hS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((r=>{let a=iu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let u=iu();return this.indexManager.getCollectionParents(e,l).next((m=>ce.forEach(m,(y=>{const g=(function(x,w){return new vo(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((x,w)=>{u=u.insert(x,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((u=>{l.forEach(((y,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,hn.newInvalidDocument(v)))}));let m=iu();return u.forEach(((y,g)=>{const v=l.get(y);v!==void 0&&fu(v.mutation,g,ds.empty(),xt.now()),If(t,g)&&(m=m.insert(y,g))})),m}))}}class pO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:fs(a.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:iO(a.bundledQuery),readTime:fs(a.readTime)}})(t)),ce.resolve()}}class yO{constructor(){this.overlays=new kt(Se.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=so();return ce.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),ce.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const a=so(),l=t.length+1,u=new Se(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&y.largestBatchId>r&&a.set(y.getKey(),y)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new kt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let v=l.get(g.largestBatchId);v===null&&(v=so(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=so(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=a)););return ce.resolve(m)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new M4(t,r));let l=this.qr.get(t);l===void 0&&(l=We(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class vO{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}class Py{constructor(){this.Qr=new on(dn.$r),this.Ur=new on(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new dn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new dn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Se(new ht([])),r=new dn(t,e),a=new dn(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new ht([])),r=new dn(t,e),a=new dn(t,e+1);let l=We();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new dn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||Qe(e.Yr,t.Yr)}static Kr(e,t){return Qe(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}class bO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new on(dn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new j4(l,t,r,a);this.mutationQueue.push(u);for(const m of a)this.Zr=this.Zr.add(new dn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Ty:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new dn(t,0),a=new dn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const m=this.Xr(u.Yr);l.push(m)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new on(Qe);return t.forEach((a=>{const l=new dn(a,0),u=new dn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(m=>{r=r.add(m.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Se.isDocumentKey(l)||(l=l.child(""));const u=new dn(new Se(l),0);let m=new on(Qe);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(m=m.add(y.Yr)),!0)}),u),ce.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){nt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(t.mutations,(a=>{const l=new dn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new dn(t,0),a=this.Zr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _O{constructor(e){this.ri=e,this.docs=(function(){return new kt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=fi();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))})),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=fi();const u=t.path,m=new Se(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:v}}=y.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||XD(WD(v),r)<=0||(a.has(v.key)||If(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ce(9500)}ii(e,t){return ce.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new xO(this)}getSize(e){return ce.resolve(this.size)}}class xO extends fO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class EO{constructor(e){this.persistence=e,this.si=new bo((t=>Cy(t)),Ny),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Py,this.targetCount=0,this.ai=Ll.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ll(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),ce.waitFor(l).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}class jS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Cf(0),this.li=!1,this.li=!0,this.hi=new vO,this.referenceDelegate=e(this),this.Pi=new EO(this),this.indexManager=new aO,this.remoteDocumentCache=(function(a){return new _O(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new rO(t),this.Ii=new pO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new bO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const a=new wO(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class wO extends ZD{constructor(e){super(),this.currentSequenceNumber=e}}class jy{constructor(e){this.persistence=e,this.Ri=new Py,this.Vi=null}static mi(e){return new jy(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const a=Se.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class sf{constructor(e,t){this.persistence=e,this.pi=new bo((r=>n4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=hO(this,t)}static mi(e,t){return new sf(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ce.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ce.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((m=>{m||(r++,l.removeEntry(u,ke.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jh(e.data.value)),t}br(e,t,r){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ce.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class My{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=We(),a=We();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new My(e,t.fromCache,r,a)}}class TO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tk()?8:e4(Nn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new TO;return this.Ss(e,t,u).next((m=>{if(l.result=m,this.Vs)return this.bs(e,t,u,m.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(yl()<=Ke.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(yl()<=Ke.DEBUG&&be("QueryEngine","Query:",vl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(yl()<=Ke.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):ce.resolve())}ys(e,t){if(uE(t))return ce.resolve(null);let r=Ar(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Lp(t,null,"F"),r=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=We(...l);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,r).next((y=>{const g=this.Ds(t,m);return this.Cs(t,g,u,y.readTime)?this.ys(e,Lp(t,null,"F")):this.vs(e,g,t,y)}))))})))))}ws(e,t,r,a){return uE(t)||a.isEqual(ke.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,a)?ce.resolve(null):(yl()<=Ke.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vl(t)),this.vs(e,u,t,QD(a,Eu)).next((m=>m)))}))}Ds(e,t){let r=new on(uS(e));return t.forEach(((a,l)=>{If(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return yl()<=Ke.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",vl(t)),this.ps.getDocumentsMatchingQuery(e,t,fa.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Ly="LocalStore",AO=3e8;class CO{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new kt(Qe),this.xs=new bo((l=>Cy(l)),Ny),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function NO(n,e,t,r){return new CO(n,e,t,r)}async function MS(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],m=[];let y=We();for(const g of a){u.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}for(const g of l){m.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}return t.localDocuments.getDocuments(r,y).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:m})))}))}))}function RO(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,v){const x=g.batch,w=x.keys();let I=ce.resolve();return w.forEach((O=>{I=I.next((()=>v.getEntry(y,O))).next((D=>{const P=g.docVersions.get(O);nt(P!==null,48541),D.version.compareTo(P)<0&&(x.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(y,x)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=We();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function LS(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function kO(n,e){const t=Oe(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const m=[];e.targetChanges.forEach(((v,x)=>{const w=a.get(x);if(!w)return;m.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,x))));let I=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?I=I.withResumeToken(xn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),a=a.insert(x,I),(function(D,P,B){return D.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=AO?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,I,v)&&m.push(t.Pi.updateTargetData(l,I))}));let y=fi(),g=We();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),m.push(IO(l,u,e.documentUpdates).next((v=>{y=v.ks,g=v.qs}))),!r.isEqual(ke.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((x=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));m.push(v)}return ce.waitFor(m).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,y,g))).next((()=>y))})).then((l=>(t.Ms=a,l)))}function IO(n,e,t){let r=We(),a=We();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let u=fi();return t.forEach(((m,y)=>{const g=l.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(ke.min())?(e.removeEntry(m,y.readTime),u=u.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),u=u.insert(m,y)):be(Ly,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{ks:u,qs:a}}))}function DO(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ty),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function OO(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,ce.resolve(a)):t.Pi.allocateTargetId(r).next((u=>(a=new oa(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Fp(n,e,t){const r=Oe(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Gl(u))throw u;be(Ly,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function wE(n,e,t){const r=Oe(n);let a=ke.min(),l=We();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(y,g,v){const x=Oe(y),w=x.xs.get(v);return w!==void 0?ce.resolve(x.Ms.get(w)):x.Pi.getTargetData(g,v)})(r,u,Ar(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,m.targetId).next((y=>{l=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?a:ke.min(),t?l:We()))).next((m=>(PO(r,x4(e),m),{documents:m,Qs:l})))))}function PO(n,e,t){let r=n.Os.get(e)||ke.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class TE{constructor(){this.activeTargetIds=C4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jO{constructor(){this.Mo=new TE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MO{Oo(e){}shutdown(){}}const SE="ConnectivityMonitor";class AE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(SE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(SE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function Bp(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const up="RestConnection",LO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const u=Bp(),m=this.zo(e,t.toUriEncodedString());be(up,`Sending RPC '${e}' ${u}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,l);const{host:g}=new URL(m),v=xa(g);return this.Jo(e,m,y,r,v).then((x=>(be(up,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw Il(up,`RPC '${e}' ${u} failed with error: `,x,"url: ",m,"request:",r),x}))}Ho(e,t,r,a,l,u){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=LO[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class UO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tn="WebChannelConnection";class zO extends VO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const u=Bp();return new Promise(((m,y)=>{const g=new VT;g.setWithCredentials(!0),g.listenOnce(UT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ph.NO_ERROR:const x=g.getResponseJson();be(Tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),m(x);break;case Ph.TIMEOUT:be(Tn,`RPC '${e}' ${u} timed out`),y(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const w=g.getStatus();if(be(Tn,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I?.error;if(O&&O.status&&O.message){const D=(function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(H)>=0?H:re.UNKNOWN})(O.status);y(new ge(D,O.message))}else y(new ge(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ge(re.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{be(Tn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);be(Tn,`RPC '${e}' ${u} sending request:`,a),g.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=Bp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=BT(),m=FT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const v=l.join("");be(Tn,`Creating RPC '${e}' stream ${a}: ${v}`,y);const x=u.createWebChannel(v,y);this.I_(x);let w=!1,I=!1;const O=new UO({Yo:P=>{I?be(Tn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(w||(be(Tn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),w=!0),be(Tn,`RPC '${e}' stream ${a} sending:`,P),x.send(P))},Zo:()=>x.close()}),D=(P,B,H)=>{P.listen(B,($=>{try{H($)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return D(x,ru.EventType.OPEN,(()=>{I||(be(Tn,`RPC '${e}' stream ${a} transport opened.`),O.o_())})),D(x,ru.EventType.CLOSE,(()=>{I||(I=!0,be(Tn,`RPC '${e}' stream ${a} transport closed`),O.a_(),this.E_(x))})),D(x,ru.EventType.ERROR,(P=>{I||(I=!0,Il(Tn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),O.a_(new ge(re.UNAVAILABLE,"The operation could not be completed")))})),D(x,ru.EventType.MESSAGE,(P=>{if(!I){const B=P.data[0];nt(!!B,16349);const H=B,$=H?.error||H[0]?.error;if($){be(Tn,`RPC '${e}' stream ${a} received error:`,$);const ae=$.status;let se=(function(S){const R=en[S];if(R!==void 0)return wS(R)})(ae),z=$.message;se===void 0&&(se=re.INTERNAL,z="Unknown error status: "+ae+" with message "+$.message),I=!0,O.a_(new ge(se,z)),x.close()}else be(Tn,`RPC '${e}' stream ${a} received:`,B),O.u_(B)}})),D(m,zT.STAT_EVENT,(P=>{P.stat===kp.PROXY?be(Tn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===kp.NOPROXY&&be(Tn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function dp(){return typeof document<"u"?document:null}function Mf(n){return new H4(n,!0)}class Vy{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const CE="PersistentStream";class VS{constructor(e,t,r,a,l,u,m,y){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vy(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new ge(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(CE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(be(CE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FO extends VS{constructor(e,t,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=K4(this.serializer,e),r=(function(l){if(!("targetChange"in l))return ke.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?fs(u.readTime):ke.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=zp(this.serializer),t.addTarget=(function(l,u){let m;const y=u.target;if(m=jp(y)?{documents:W4(l,y)}:{query:X4(l,y).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=AS(l,u.resumeToken);const g=Vp(l,u.expectedCount);g!==null&&(m.expectedCount=g)}else if(u.snapshotVersion.compareTo(ke.min())>0){m.readTime=tf(l,u.snapshotVersion.toTimestamp());const g=Vp(l,u.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=Z4(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=zp(this.serializer),t.removeTarget=e,this.q_(t)}}class BO extends VS{constructor(e,t,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Q4(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=zp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>kS(this.serializer,r)))};this.q_(t)}}class qO{}class HO extends qO{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Up(t,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(re.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Up(t,r),a,u,m,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):be("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ho="RemoteStore";class $O{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{_o(this)&&(be(ho,"Restarting streams for network reachability change."),await(async function(y){const g=Oe(y);g.Ea.add(4),await zu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Lf(g)})(this))}))})),this.Ra=new GO(r,a)}}async function Lf(n){if(_o(n))for(const e of n.da)await e(!0)}async function zu(n){for(const e of n.da)await e(!1)}function US(n,e){const t=Oe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),By(t)?Fy(t):$l(t).O_()&&zy(t,e))}function Uy(n,e){const t=Oe(n),r=$l(t);t.Ia.delete(e),r.O_()&&zS(t,e),t.Ia.size===0&&(r.O_()?r.L_():_o(t)&&t.Ra.set("Unknown"))}function zy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$l(n).Y_(e)}function zS(n,e){n.Va.Ue(e),$l(n).Z_(e)}function Fy(n){n.Va=new z4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),$l(n).start(),n.Ra.ua()}function By(n){return _o(n)&&!$l(n).x_()&&n.Ia.size>0}function _o(n){return Oe(n).Ea.size===0}function FS(n){n.Va=void 0}async function YO(n){n.Ra.set("Online")}async function KO(n){n.Ia.forEach(((e,t)=>{zy(n,e)}))}async function QO(n,e){FS(n),By(n)?(n.Ra.ha(e),Fy(n)):n.Ra.set("Unknown")}async function WO(n,e,t){if(n.Ra.set("Online"),e instanceof SS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const m of l.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,u),a.Ia.delete(m),a.Va.removeTarget(m))})(n,e)}catch(r){be(ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rf(n,r)}else if(e instanceof Vh?n.Va.Ze(e):e instanceof TS?n.Va.st(e):n.Va.tt(e),!t.isEqual(ke.min()))try{const r=await LS(n.localStore);t.compareTo(r)>=0&&await(function(l,u){const m=l.Va.Tt(u);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(y.resumeToken,u))}})),m.targetMismatches.forEach(((y,g)=>{const v=l.Ia.get(y);if(!v)return;l.Ia.set(y,v.withResumeToken(xn.EMPTY_BYTE_STRING,v.snapshotVersion)),zS(l,y);const x=new oa(v.target,y,g,v.sequenceNumber);zy(l,x)})),l.remoteSyncer.applyRemoteEvent(m)})(n,t)}catch(r){be(ho,"Failed to raise snapshot:",r),await rf(n,r)}}async function rf(n,e,t){if(!Gl(e))throw e;n.Ea.add(1),await zu(n),n.Ra.set("Offline"),t||(t=()=>LS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{be(ho,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Lf(n)}))}function BS(n,e){return e().catch((t=>rf(n,t,e)))}async function Vf(n){const e=Oe(n),t=ya(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ty;for(;XO(e);)try{const a=await DO(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,JO(e,a)}catch(a){await rf(e,a)}qS(e)&&HS(e)}function XO(n){return _o(n)&&n.Ta.length<10}function JO(n,e){n.Ta.push(e);const t=ya(n);t.O_()&&t.X_&&t.ea(e.mutations)}function qS(n){return _o(n)&&!ya(n).x_()&&n.Ta.length>0}function HS(n){ya(n).start()}async function ZO(n){ya(n).ra()}async function eP(n){const e=ya(n);for(const t of n.Ta)e.ea(t.mutations)}async function tP(n,e,t){const r=n.Ta.shift(),a=Iy.from(r,e,t);await BS(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Vf(n)}async function nP(n,e){e&&ya(n).X_&&await(async function(r,a){if((function(u){return ES(u)&&u!==re.ABORTED})(a.code)){const l=r.Ta.shift();ya(r).B_(),await BS(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Vf(r)}})(n,e),qS(n)&&HS(n)}async function NE(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),be(ho,"RemoteStore received new credentials");const r=_o(t);t.Ea.add(3),await zu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lf(t)}async function sP(n,e){const t=Oe(n);e?(t.Ea.delete(2),await Lf(t)):e||(t.Ea.add(2),await zu(t),t.Ra.set("Unknown"))}function $l(n){return n.ma||(n.ma=(function(t,r,a){const l=Oe(t);return l.sa(),new FO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:YO.bind(null,n),t_:KO.bind(null,n),r_:QO.bind(null,n),H_:WO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),By(n)?Fy(n):n.Ra.set("Unknown")):(await n.ma.stop(),FS(n))}))),n.ma}function ya(n){return n.fa||(n.fa=(function(t,r,a){const l=Oe(t);return l.sa(),new BO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZO.bind(null,n),r_:nP.bind(null,n),ta:eP.bind(null,n),na:tP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Vf(n)):(await n.fa.stop(),n.Ta.length>0&&(be(ho,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class qy{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const u=Date.now()+r,m=new qy(e,t,u,a,l);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(n,e){if(hi("AsyncQueue",`${e}: ${n}`),Gl(n))return new ge(re.UNAVAILABLE,`${e}: ${n}`);throw n}class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=iu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class RE{constructor(){this.ga=new kt(Se.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Vl{constructor(e,t,r,a,l,u,m,y,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const u=[];return t.forEach((m=>{u.push({type:0,doc:m})})),new Vl(e,t,Rl.emptySet(t),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class rP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iP{constructor(){this.queries=kE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Oe(t),l=a.queries;a.queries=kE(),l.forEach(((u,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function kE(){return new bo((n=>cS(n)),kf)}async function Gy(n,e){const t=Oe(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new rP,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const m=Hy(u,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Yy(t)}async function $y(n,e){const t=Oe(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function aP(n,e){const t=Oe(n);let r=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const m of u.Sa)m.Fa(a)&&(r=!0);u.wa=a}}r&&Yy(t)}function oP(n,e,t){const r=Oe(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function Yy(n){n.Ca.forEach((e=>{e.next()}))}var qp,IE;(IE=qp||(qp={})).Ma="default",IE.Cache="cache";class Ky{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qp.Cache}}class GS{constructor(e){this.key=e}}class $S{constructor(e){this.key=e}}class lP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=uS(e),this.tu=new Rl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new RE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const w=a.get(v),I=If(this.query,x)?x:null,O=!!w&&this.mutatedKeys.has(w.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;w&&I?w.data.isEqual(I.data)?O!==D&&(r.track({type:3,doc:I}),P=!0):this.su(w,I)||(r.track({type:2,doc:I}),P=!0,(y&&this.eu(I,y)>0||g&&this.eu(I,g)<0)&&(m=!0)):!w&&I?(r.track({type:0,doc:I}),P=!0):w&&!I&&(r.track({type:1,doc:w}),P=!0,(y||g)&&(m=!0)),P&&(I?(u=u.add(I),l=D?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,x)=>(function(I,O){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:P})}};return D(I)-D(O)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(r),a=a??!1;const m=t&&!a?this._u():[],y=this.Xa.size===0&&this.current&&!a?1:0,g=y!==this.Za;return this.Za=y,u.length!==0||g?{snapshot:new Vl(this.query,e.tu,l,u,e.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new $S(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new GS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=We();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qy="SyncEngine";class cP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uP{constructor(e){this.key=e,this.hu=!1}}class dP{constructor(e,t,r,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new bo((m=>cS(m)),kf),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Se.comparator),this.Au=new Map,this.Ru=new Py,this.Vu={},this.mu=new Map,this.fu=Ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hP(n,e,t=!0){const r=JS(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await YS(r,e,t,!0),a}async function fP(n,e){const t=JS(n);await YS(t,e,!0,!1)}async function YS(n,e,t,r){const a=await OO(n.localStore,Ar(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let m;return r&&(m=await mP(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&US(n.remoteStore,a),m}async function mP(n,e,t,r,a){n.pu=(x,w,I)=>(async function(D,P,B,H){let $=P.view.ru(B);$.Cs&&($=await wE(D.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,$))));const ae=H&&H.targetChanges.get(P.targetId),se=H&&H.targetMismatches.get(P.targetId)!=null,z=P.view.applyChanges($,D.isPrimaryClient,ae,se);return OE(D,P.targetId,z.au),z.snapshot})(n,x,w,I);const l=await wE(n.localStore,e,!0),u=new lP(e,l.Qs),m=u.ru(l.documents),y=Uu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),g=u.applyChanges(m,n.isPrimaryClient,y);OE(n,t,g.au);const v=new cP(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function gP(n,e,t){const r=Oe(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!kf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Fp(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Uy(r.remoteStore,a.targetId),Hp(r,a.targetId)})).catch(Hl)):(Hp(r,a.targetId),await Fp(r.localStore,a.targetId,!0))}async function pP(n,e){const t=Oe(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Uy(t.remoteStore,r.targetId))}async function yP(n,e,t){const r=TP(n);try{const a=await(function(u,m){const y=Oe(u),g=xt.now(),v=m.reduce(((I,O)=>I.add(O.key)),We());let x,w;return y.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let O=fi(),D=We();return y.Ns.getEntries(I,v).next((P=>{O=P,O.forEach(((B,H)=>{H.isValidDocument()||(D=D.add(B))}))})).next((()=>y.localDocuments.getOverlayedDocuments(I,O))).next((P=>{x=P;const B=[];for(const H of m){const $=P4(H,x.get(H.key).overlayedDocument);$!=null&&B.push(new Sa(H.key,$,tS($.value.mapValue),_n.exists(!0)))}return y.mutationQueue.addMutationBatch(I,g,B,m)})).next((P=>{w=P;const B=P.applyToLocalDocumentSet(x,D);return y.documentOverlayCache.saveOverlays(I,P.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:hS(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,m,y){let g=u.Vu[u.currentUser.toKey()];g||(g=new kt(Qe)),g=g.insert(m,y),u.Vu[u.currentUser.toKey()]=g})(r,a.batchId,t),await Fu(r,a.changes),await Vf(r.remoteStore)}catch(a){const l=Hy(a,"Failed to persist write");t.reject(l)}}async function KS(n,e){const t=Oe(n);try{const r=await kO(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?nt(u.hu,14607):a.removedDocuments.size>0&&(nt(u.hu,42227),u.hu=!1))})),await Fu(t,r,e)}catch(r){await Hl(r)}}function DE(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,u)=>{const m=u.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(u,m){const y=Oe(u);y.onlineState=m;let g=!1;y.queries.forEach(((v,x)=>{for(const w of x.Sa)w.va(m)&&(g=!0)})),g&&Yy(y)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vP(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new kt(Se.comparator);u=u.insert(l,hn.newNoDocument(l,ke.min()));const m=We().add(l),y=new jf(ke.min(),new Map,new kt(Qe),u,m);await KS(r,y),r.du=r.du.remove(l),r.Au.delete(e),Wy(r)}else await Fp(r.localStore,e,!1).then((()=>Hp(r,e,t))).catch(Hl)}async function bP(n,e){const t=Oe(n),r=e.batch.batchId;try{const a=await RO(t.localStore,e);WS(t,r,null),QS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(t,a)}catch(a){await Hl(a)}}async function _P(n,e,t){const r=Oe(n);try{const a=await(function(u,m){const y=Oe(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return y.mutationQueue.lookupMutationBatch(g,m).next((x=>(nt(x!==null,37113),v=x.keys(),y.mutationQueue.removeMutationBatch(g,x)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>y.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);WS(r,e,t),QS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fu(r,a)}catch(a){await Hl(a)}}function QS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function WS(n,e,t){const r=Oe(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Hp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||XS(n,r)}))}function XS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Uy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Wy(n))}function OE(n,e,t){for(const r of t)r instanceof GS?(n.Ru.addReference(r.key,e),xP(n,r)):r instanceof $S?(be(Qy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||XS(n,r.key)):Ce(19791,{wu:r})}function xP(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(be(Qy,"New document in limbo: "+t),n.Eu.add(r),Wy(n))}function Wy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Se(ht.fromString(e)),r=n.fu.next();n.Au.set(r,new uP(t)),n.du=n.du.insert(t,r),US(n.remoteStore,new oa(Ar(Rf(t.path)),r,"TargetPurposeLimboResolution",Cf.ce))}}async function Fu(n,e,t){const r=Oe(n),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{u.push(r.pu(y,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,v?"current":"not-current")}if(g){a.push(g);const v=My.As(y.targetId,g);l.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(y,g){const v=Oe(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ce.forEach(g,(w=>ce.forEach(w.Es,(I=>v.persistence.referenceDelegate.addReference(x,w.targetId,I))).next((()=>ce.forEach(w.ds,(I=>v.persistence.referenceDelegate.removeReference(x,w.targetId,I)))))))))}catch(x){if(!Gl(x))throw x;be(Ly,"Failed to update sequence numbers: "+x)}for(const x of g){const w=x.targetId;if(!x.fromCache){const I=v.Ms.get(w),O=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(w,D)}}})(r.localStore,l))}async function EP(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){be(Qy,"User change. New user:",e.toKey());const r=await MS(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((m=>{m.forEach((y=>{y.reject(new ge(re.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(t,r.Ls)}}function wP(n,e){const t=Oe(n),r=t.Au.get(e);if(r&&r.hu)return We().add(r.key);{let a=We();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const m=t.Tu.get(u);a=a.unionWith(m.view.nu)}return a}}function JS(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vP.bind(null,e),e.Pu.H_=aP.bind(null,e.eventManager),e.Pu.yu=oP.bind(null,e.eventManager),e}function TP(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_P.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return NO(this.persistence,new SO,e.initialUser,this.serializer)}Cu(e){return new jS(jy.mi,this.serializer)}Du(e){return new jO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class SP extends af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nt(this.persistence.referenceDelegate instanceof sf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new jS((r=>sf.mi(r,t)),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EP.bind(null,this.syncEngine),await sP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iP})()}createDatastore(e){const t=Mf(e.databaseInfo.databaseId),r=(function(l){return new zO(l)})(e.databaseInfo);return(function(l,u,m,y){return new HO(l,u,m,y)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,u,m){return new $O(r,a,l,u,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>DE(this.syncEngine,t,0)),(function(){return AE.v()?new AE:new MO})())}createSyncEngine(e,t){return(function(a,l,u,m,y,g,v){const x=new dP(a,l,u,m,y,g);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Oe(t);be(ho,"RemoteStore shutting down."),r.Ea.add(5),await zu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gp.provider={build:()=>new Gp};class Xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class AP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ge(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,l){const u=Oe(a),m={documents:l.map((x=>nf(u.serializer,x)))},y=await u.Ho("BatchGetDocuments",u.serializer.databaseId,ht.emptyPath(),m,l.length),g=new Map;y.forEach((x=>{const w=Y4(u.serializer,x);g.set(w.key.toString(),w)}));const v=[];return l.forEach((x=>{const w=g.get(x.toString());nt(!!w,55234,{key:x}),v.push(w)})),v})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const a=Se.fromPath(r);this.mutations.push(new xS(a,this.precondition(a)))})),await(async function(r,a){const l=Oe(r),u={writes:a.map((m=>kS(l.serializer,m)))};await l.Go("Commit",l.serializer.databaseId,ht.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ce(50498,{Gu:e.constructor.name});t=ke.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ge(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ke.min())?_n.exists(!1):_n.updateTime(t):_n.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ke.min()))throw new ge(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _n.updateTime(t)}return _n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class CP{constructor(e,t,r,a,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=l,this.zu=r.maxAttempts,this.M_=new Vy(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new AP(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((a=>{this.Yu(a)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Lu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!ES(t)}return!1}}const va="FirestoreClient";class NP{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Sn.UNAUTHENTICATED,this.clientId=Ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{be(va,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(be(va,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Hy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hp(n,e){n.asyncQueue.verifyOperationInProgress(),be(va,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await MS(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function PE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RP(n);be(va,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>NE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>NE(e.remoteStore,a))),n._onlineComponents=e}async function RP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(va,"Using user provided OfflineComponentProvider");try{await hp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Il("Error using user provided cache. Falling back to memory cache: "+t),await hp(n,new af)}}else be(va,"Using default OfflineComponentProvider"),await hp(n,new SP(void 0));return n._offlineComponents}async function Jy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(va,"Using user provided OnlineComponentProvider"),await PE(n,n._uninitializedComponentsProvider._online)):(be(va,"Using default OnlineComponentProvider"),await PE(n,new Gp))),n._onlineComponents}function kP(n){return Jy(n).then((e=>e.syncEngine))}function IP(n){return Jy(n).then((e=>e.datastore))}async function of(n){const e=await Jy(n),t=e.eventManager;return t.onListen=hP.bind(null,e.syncEngine),t.onUnlisten=gP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pP.bind(null,e.syncEngine),t}function DP(n,e,t={}){const r=new Sr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,y,g){const v=new Xy({next:w=>{v.Nu(),u.enqueueAndForget((()=>$y(l,x)));const I=w.docs.has(m);!I&&w.fromCache?g.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&y&&y.source==="server"?g.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),x=new Ky(Rf(m.path),v,{includeMetadataChanges:!0,qa:!0});return Gy(l,x)})(await of(n),n.asyncQueue,e,t,r))),r.promise}function OP(n,e,t={}){const r=new Sr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,y,g){const v=new Xy({next:w=>{v.Nu(),u.enqueueAndForget((()=>$y(l,x))),w.fromCache&&y.source==="server"?g.reject(new ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),x=new Ky(m,v,{includeMetadataChanges:!0,qa:!0});return Gy(l,x)})(await of(n),n.asyncQueue,e,t,r))),r.promise}function ZS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const jE=new Map;const eA="firestore.googleapis.com",ME=!0;class LE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=ME}else this.host=e.host,this.ssl=e.ssl??ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lO)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VD;switch(r.type){case"firstParty":return new BD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=jE.get(t);r&&(be("ComponentProvider","Removing Datastore"),jE.delete(t),r.terminate())})(this),Promise.resolve()}}function PP(n,e,t,r={}){n=Cn(n,Bu);const a=xa(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},m=`${e}:${t}`;a&&(oy(`https://${m}`),ly("Firestore",!0)),l.host!==eA&&l.host!==m&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:m,ssl:a,emulatorOptions:r};if(!kr(y,u)&&(n._setSettings(y),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Sn.MOCK_USER;else{g=Kw(r.mockUserToken,n._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Sn(x)}n._authCredentials=new UD(new HT(g,v))}}class bi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class Rt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Mu(t,Rt._jsonSchema))return new Rt(e,r||null,new Se(ht.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:nn("string",Rt._jsonSchemaVersion),referencePath:nn("string")};class da extends bi{constructor(e,t,r){super(e,t,Rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new Se(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function Qn(n,e,...t){if(n=bt(n),wy("collection","path",e),n instanceof Bu){const r=ht.fromString(e,...t);return Wx(r),new da(n,null,r)}{if(!(n instanceof Rt||n instanceof da))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return Wx(r),new da(n.firestore,null,r)}}function jP(n,e){if(n=Cn(n,Bu),wy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bi(n,null,(function(r){return new vo(ht.emptyPath(),r)})(e))}function et(n,e,...t){if(n=bt(n),arguments.length===1&&(e=Ey.newId()),wy("doc","path",e),n instanceof Bu){const r=ht.fromString(e,...t);return Qx(r),new Rt(n,null,new Se(r))}{if(!(n instanceof Rt||n instanceof da))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return Qx(r),new Rt(n.firestore,n instanceof da?n.converter:null,new Se(r))}}const VE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vy(this,"async_queue_retry"),this._c=()=>{const r=dp();r&&be(VE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=dp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gl(e))throw e;be(VE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",zE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=qy.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ce(47125,{Pc:zE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function zE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function FE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Dr extends Bu{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new UE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function MP(n,e){const t=typeof n=="object"?n:Ef(),r=typeof n=="string"?n:Xh,a=Ea(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Gw("firestore");l&&PP(a,...l)}return a}function qu(n){if(n._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LP(n),n._firestoreClient}function LP(n){const e=n._freezeSettings(),t=(function(a,l,u,m){return new i4(a,l,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ZS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new NP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cs(xn.fromBase64String(e))}catch(t){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cs(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,cs._jsonSchema))return cs.fromBase64String(e.bytes)}}cs._jsonSchemaVersion="firestore/bytes/1.0",cs._jsonSchema={type:nn("string",cs._jsonSchemaVersion),bytes:nn("string")};class Hu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yl{constructor(e){this._methodName=e}}class Cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:nn("string",Cr._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};class Nr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Nr(e.vectorValues);throw new ge(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:nn("string",Nr._jsonSchemaVersion),vectorValues:nn("object")};const VP=/^__.*__$/;class UP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class tA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:n})}}class Uf{constructor(e,t,r,a,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nA(this.Ac)&&VP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mf(e)}Cc(e,t,r,a=!1){return new Uf({Ac:e,methodName:t,Dc:r,path:bn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(n){const e=n._freezeSettings(),t=Mf(n._databaseId);return new zP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Zy(n,e,t,r,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);sv("Data must be an object, but it was:",u,r);const m=aA(r,u);let y,g;if(l.merge)y=new ds(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const w=$p(e,x,t);if(!u.contains(w))throw new ge(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);lA(v,w)||v.push(w)}y=new ds(v),g=u.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,g=u.fieldTransforms;return new UP(new Pn(m),y,g)}class zf extends Yl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function sA(n,e,t){return new Uf({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ev extends Yl{_toFieldTransform(e){return new ky(e.path,new Cu)}isEqual(e){return e instanceof ev}}class tv extends Yl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=sA(this,e,!0),r=this.vc.map((l=>xo(l,t))),a=new jl(r);return new ky(e.path,a)}isEqual(e){return e instanceof tv&&kr(this.vc,e.vc)}}class nv extends Yl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=sA(this,e,!0),r=this.vc.map((l=>xo(l,t))),a=new Ml(r);return new ky(e.path,a)}isEqual(e){return e instanceof nv&&kr(this.vc,e.vc)}}function rA(n,e,t,r){const a=n.Cc(1,e,t);sv("Data must be an object, but it was:",a,r);const l=[],u=Pn.empty();Ta(r,((y,g)=>{const v=rv(e,y,t);g=bt(g);const x=a.yc(v);if(g instanceof zf)l.push(v);else{const w=xo(g,x);w!=null&&(l.push(v),u.set(v,w))}}));const m=new ds(l);return new tA(u,m,a.fieldTransforms)}function iA(n,e,t,r,a,l){const u=n.Cc(1,e,t),m=[$p(e,r,t)],y=[a];if(l.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)m.push($p(e,l[w])),y.push(l[w+1]);const g=[],v=Pn.empty();for(let w=m.length-1;w>=0;--w)if(!lA(g,m[w])){const I=m[w];let O=y[w];O=bt(O);const D=u.yc(I);if(O instanceof zf)g.push(I);else{const P=xo(O,D);P!=null&&(g.push(I),v.set(I,P))}}const x=new ds(g);return new tA(v,x,u.fieldTransforms)}function FP(n,e,t,r=!1){return xo(t,n.Cc(r?4:3,e))}function xo(n,e){if(oA(n=bt(n)))return sv("Unsupported field value:",e,n),aA(n,e);if(n instanceof Yl)return(function(r,a){if(!nA(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const m of r){let y=xo(m,a.wc(u));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),u++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N4(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=xt.fromDate(r);return{timestampValue:tf(a.serializer,l)}}if(r instanceof xt){const l=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tf(a.serializer,l)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cs)return{bytesValue:AS(a.serializer,r._byteString)};if(r instanceof Rt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Oy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Nr)return(function(u,m){return{mapValue:{fields:{[ZT]:{stringValue:eS},[Jh]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ry(m.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Af(r)}`)})(n,e)}function aA(n,e){const t={};return YT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(n,((r,a)=>{const l=xo(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function oA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof Cr||n instanceof cs||n instanceof Rt||n instanceof Yl||n instanceof Nr)}function sv(n,e,t){if(!oA(t)||!GT(t)){const r=Af(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function $p(n,e,t){if((e=bt(e))instanceof Hu)return e._internalPath;if(typeof e=="string")return rv(n,e);throw lf("Field path arguments must be of type string or ",n,!1,void 0,t)}const BP=new RegExp("[~\\*/\\[\\]]");function rv(n,e,t){if(e.search(BP)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hu(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lf(n,e,t,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(l||u)&&(y+=" (found",l&&(y+=` in field ${r}`),u&&(y+=` in document ${a}`),y+=")"),new ge(re.INVALID_ARGUMENT,m+n+y)}function lA(n,e){return n.some((t=>t.isEqual(e)))}class cf{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ff("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qP extends cf{data(){return super.data()}}function Ff(n,e){return typeof e=="string"?rv(n,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}function cA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iv{}class uA extends iv{}function ba(n,e,...t){let r=[];e instanceof iv&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((y=>y instanceof av)).length,m=l.filter((y=>y instanceof Bf)).length;if(u>1||u>0&&m>0)throw new ge(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Bf extends uA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Bf(e,t,r)}_apply(e){const t=this._parse(e);return dA(e._query,t),new bi(e.firestore,e.converter,Mp(e._query,t))}_parse(e){const t=Gu(e.firestore);return(function(l,u,m,y,g,v,x){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){qE(x,v);const O=[];for(const D of x)O.push(BE(y,l,D));w={arrayValue:{values:O}}}else w=BE(y,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||qE(x,v),w=FP(m,u,x,v==="in"||v==="not-in");return tn.create(g,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Rr(n,e,t){const r=e,a=Ff("where",n);return Bf._create(a,r,t)}class av extends iv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new av(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Qs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const m=l.getFlattenedFilters();for(const y of m)dA(u,y),u=Mp(u,y)})(e._query,t),new bi(e.firestore,e.converter,Mp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ov extends uA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ov(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new ge(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Au(l,u)})(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new vo(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function HP(n,e="asc"){const t=e,r=Ff("orderBy",n);return ov._create(r,t)}function BE(n,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new ge(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lS(e)&&t.indexOf("/")!==-1)throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ht.fromString(t));if(!Se.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rE(n,new Se(r))}if(t instanceof Rt)return rE(n,t._key);throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(t)}.`)}function qE(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dA(n,e){const t=(function(a,l){for(const u of a)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hA{convertValue(e,t="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ta(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Jh].arrayValue?.values?.map((r=>Ht(r.doubleValue)));return new Nr(t)}convertGeoPoint(e){return new Cr(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Nf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=ma(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ht.fromString(e);nt(OS(r),9688,{name:e});const a=new Tu(r.get(1),r.get(3)),l=new Se(r.popFirst(5));return a.isEqual(t)||hi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function lv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class GP extends hA{constructor(e){super(),this.firestore=e}convertBytes(e){return new cs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}class wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends cf{constructor(e,t,r,a,l,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ff("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ha._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:nn("string",ha._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Uh extends ha{data(e={}){return super.data(e)}}class ao{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wl(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Uh(this._firestore,this._userDataWriter,r.key,r,new wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((m=>{const y=new Uh(a._firestore,a._userDataWriter,m.doc.key,m.doc,new wl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const y=new Uh(a._firestore,a._userDataWriter,m.doc.key,m.doc,new wl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return m.type!==0&&(g=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:$P(m.type),doc:y,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ey.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $P(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}function Mn(n){n=Cn(n,Rt);const e=Cn(n.firestore,Dr);return DP(qu(e),n._key).then((t=>mA(e,n,t)))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:nn("string",ao._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class qf extends hA{constructor(e){super(),this.firestore=e}convertBytes(e){return new cs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function mi(n){n=Cn(n,bi);const e=Cn(n.firestore,Dr),t=qu(e),r=new qf(e);return cA(n._query),OP(t,n._query).then((a=>new ao(e,r,n,a)))}function gi(n,e,t){n=Cn(n,Rt);const r=Cn(n.firestore,Dr),a=lv(n.converter,e,t);return Hf(r,[Zy(Gu(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,_n.none())])}function Eo(n,e,t,...r){n=Cn(n,Rt);const a=Cn(n.firestore,Dr),l=Gu(a);let u;return u=typeof(e=bt(e))=="string"||e instanceof Hu?iA(l,"updateDoc",n._key,e,t,r):rA(l,"updateDoc",n._key,e),Hf(a,[u.toMutation(n._key,_n.exists(!0))])}function YP(n){return Hf(Cn(n.firestore,Dr),[new Pf(n._key,_n.none())])}function fA(n,e){const t=Cn(n.firestore,Dr),r=et(n),a=lv(n.converter,e);return Hf(t,[Zy(Gu(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then((()=>r))}function cv(n,...e){n=bt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||FE(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(FE(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let l,u,m;if(n instanceof Rt)u=Cn(n.firestore,Dr),m=Rf(n._key.path),l={next:y=>{e[r]&&e[r](mA(u,n,y))},error:e[r+1],complete:e[r+2]};else{const y=Cn(n,bi);u=Cn(y.firestore,Dr),m=y._query;const g=new qf(u);l={next:v=>{e[r]&&e[r](new ao(u,g,y,v))},error:e[r+1],complete:e[r+2]},cA(n._query)}return(function(g,v,x,w){const I=new Xy(w),O=new Ky(v,I,x);return g.asyncQueue.enqueueAndForget((async()=>Gy(await of(g),O))),()=>{I.Nu(),g.asyncQueue.enqueueAndForget((async()=>$y(await of(g),O)))}})(qu(u),m,a,l)}function Hf(n,e){return(function(r,a){const l=new Sr;return r.asyncQueue.enqueueAndForget((async()=>yP(await kP(r),a,l))),l.promise})(qu(n),e)}function mA(n,e,t){const r=t.docs.get(e._key),a=new qf(n);return new ha(n,a,e._key,r,new wl(t.hasPendingWrites,t.fromCache),e.converter)}const KP={maxAttempts:5};function ou(n,e){if((n=bt(n)).firestore!==e)throw new ge(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class QP{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gu(e)}get(e){const t=ou(e,this._firestore),r=new GP(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return Ce(24041);const l=a[0];if(l.isFoundDocument())return new cf(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new cf(this._firestore,r,t._key,null,t.converter);throw Ce(18433,{doc:l})}))}set(e,t,r){const a=ou(e,this._firestore),l=lv(a.converter,t,r),u=Zy(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,r);return this._transaction.set(a._key,u),this}update(e,t,r,...a){const l=ou(e,this._firestore);let u;return u=typeof(t=bt(t))=="string"||t instanceof Hu?iA(this._dataReader,"Transaction.update",l._key,t,r,a):rA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=ou(e,this._firestore);return this._transaction.delete(t._key),this}}class WP extends QP{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ou(e,this._firestore),r=new qf(this._firestore);return super.get(e).then((a=>new ha(this._firestore,r,t._key,a._document,new wl(!1,!1),t.converter)))}}function XP(n,e,t){n=Cn(n,Dr);const r={...KP,...t};return(function(l){if(l.maxAttempts<1)throw new ge(re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(l,u,m){const y=new Sr;return l.asyncQueue.enqueueAndForget((async()=>{const g=await IP(l);new CP(l.asyncQueue,g,m,u,y).ju()})),y.promise})(qu(n),(a=>e(new WP(n,a))),r)}function Yn(){return new ev("serverTimestamp")}function JP(...n){return new tv("arrayUnion",n)}function ZP(...n){return new nv("arrayRemove",n)}(function(e,t=!0){(function(a){ql=a})(yo),Ys(new Ns("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),m=new Dr(new zD(r.getProvider("auth-internal")),new qD(u,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(g.options.projectId,v)})(u,a),u);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),Kn(Gx,$x,e),Kn(Gx,$x,"esm2020")})();const gA="firebasestorage.googleapis.com",pA="storageBucket",ej=120*1e3,tj=600*1e3;class Vt extends ks{constructor(e,t,r=0){super(fp(e),`Firebase Storage: ${t} (${fp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function fp(n){return"storage/"+n}function uv(){const n="An unknown error occurred, please check the error payload for server response.";return new Vt(Mt.UNKNOWN,n)}function nj(n){return new Vt(Mt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function sj(n){return new Vt(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rj(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt(Mt.UNAUTHENTICATED,n)}function ij(){return new Vt(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aj(n){return new Vt(Mt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function oj(){return new Vt(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lj(){return new Vt(Mt.CANCELED,"User canceled the upload/download.")}function cj(n){return new Vt(Mt.INVALID_URL,"Invalid URL '"+n+"'.")}function uj(n){return new Vt(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function dj(){return new Vt(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pA+"' property when initializing the app?")}function hj(){return new Vt(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fj(){return new Vt(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mj(n){return new Vt(Mt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yp(n){return new Vt(Mt.INVALID_ARGUMENT,n)}function yA(){return new Vt(Mt.APP_DELETED,"The Firebase app was deleted.")}function gj(n){return new Vt(Mt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gu(n,e){return new Vt(Mt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Jc(n){throw new Vt(Mt.INTERNAL_ERROR,"Internal error: "+n)}class hs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=hs.makeFromUrl(e,t)}catch{return new hs(e,"")}if(r.path==="")return r;throw uj(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+a+u,"i"),y={bucket:1,path:3};function g(ae){ae.path_=decodeURIComponent(ae.path)}const v="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",I=new RegExp(`^https?://${x}/${v}/b/${a}/o${w}`,"i"),O={bucket:1,path:3},D=t===gA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",B=new RegExp(`^https?://${D}/${a}/${P}`,"i"),$=[{regex:m,indices:y,postModify:l},{regex:I,indices:O,postModify:g},{regex:B,indices:{bucket:1,path:2},postModify:g}];for(let ae=0;ae<$.length;ae++){const se=$[ae],z=se.regex.exec(e);if(z){const C=z[se.indices.bucket];let S=z[se.indices.path];S||(S=""),r=new hs(C,S),se.postModify(r);break}}if(r==null)throw cj(e);return r}}class pj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function yj(n,e,t){let r=1,a=null,l=null,u=!1,m=0;function y(){return m===2}let g=!1;function v(...P){g||(g=!0,e.apply(null,P))}function x(P){a=setTimeout(()=>{a=null,n(I,y())},P)}function w(){l&&clearTimeout(l)}function I(P,...B){if(g){w();return}if(P){w(),v.call(null,P,...B);return}if(y()||u){w(),v.call(null,P,...B);return}r<64&&(r*=2);let $;m===1?(m=2,$=0):$=(r+Math.random())*1e3,x($)}let O=!1;function D(P){O||(O=!0,w(),!g&&(a!==null?(P||(m=2),clearTimeout(a),x(0)):P||(m=1)))}return x(0),l=setTimeout(()=>{u=!0,D(!0)},t),D}function vj(n){n(!1)}function bj(n){return n!==void 0}function _j(n){return typeof n=="object"&&!Array.isArray(n)}function dv(n){return typeof n=="string"||n instanceof String}function HE(n){return hv()&&n instanceof Blob}function hv(){return typeof Blob<"u"}function GE(n,e,t,r){if(r<e)throw Yp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Yp(`Invalid value for '${n}'. Expected ${t} or less.`)}function fv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function vA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var oo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(oo||(oo={}));function xj(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class Ej{constructor(e,t,r,a,l,u,m,y,g,v,x,w=!0,I=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=y,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=x,this.retry=w,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,D)=>{this.resolve_=O,this.reject_=D,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Sh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const y=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===oo.NO_ERROR,y=l.getStatus();if(!m||xj(y,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===oo.ABORT;r(!1,new Sh(!1,null,v));return}const g=this.successCodes_.indexOf(y)!==-1;r(!0,new Sh(g,l))})},t=(r,a)=>{const l=this.resolve_,u=this.reject_,m=a.connection;if(a.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());bj(y)?l(y):l()}catch(y){u(y)}else if(m!==null){const y=uv();y.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,y)):u(y)}else if(a.canceled){const y=this.appDelete_?yA():lj();u(y)}else{const y=oj();u(y)}};this.canceled_?t(!1,new Sh(!1,null,!0)):this.backoffId_=yj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function wj(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Tj(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Sj(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Aj(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Cj(n,e,t,r,a,l,u=!0,m=!1){const y=vA(n.urlParams),g=n.url+y,v=Object.assign({},n.headers);return Sj(v,e),wj(v,t),Tj(v,l),Aj(v,r),new Ej(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,m)}function Nj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Rj(...n){const e=Nj();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(hv())return new Blob(n);throw new Vt(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kj(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function Ij(n){if(typeof atob>"u")throw mj("base-64");return atob(n)}const Er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mp{constructor(e,t){this.data=e,this.contentType=t||null}}function Dj(n,e){switch(n){case Er.RAW:return new mp(bA(e));case Er.BASE64:case Er.BASE64URL:return new mp(_A(n,e));case Er.DATA_URL:return new mp(Pj(e),jj(e))}throw uv()}function bA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,u=n.charCodeAt(++t);r=65536|(l&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Oj(n){let e;try{e=decodeURIComponent(n)}catch{throw gu(Er.DATA_URL,"Malformed data URL.")}return bA(e)}function _A(n,e){switch(n){case Er.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw gu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Er.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw gu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Ij(e)}catch(a){throw a.message.includes("polyfill")?a:gu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class xA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw gu(Er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=Mj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Pj(n){const e=new xA(n);return e.base64?_A(Er.BASE64,e.rest):Oj(e.rest)}function jj(n){return new xA(n).contentType}function Mj(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class aa{constructor(e,t){let r=0,a="";HE(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(HE(this.data_)){const r=this.data_,a=kj(r,e,t);return a===null?null:new aa(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new aa(r,!0)}}static getBlob(...e){if(hv()){const t=e.map(r=>r instanceof aa?r.data_:r);return new aa(Rj.apply(null,t))}else{const t=e.map(u=>dv(u)?Dj(Er.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const a=new Uint8Array(r);let l=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)a[l++]=u[m]}),new aa(a,!0)}}uploadData(){return this.data_}}function EA(n){let e;try{e=JSON.parse(n)}catch{return null}return _j(e)?e:null}function Lj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Vj(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function wA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function Uj(n,e){return e}class Dn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||Uj}}let Ah=null;function zj(n){return!dv(n)||n.length<2?n:wA(n)}function TA(){if(Ah)return Ah;const n=[];n.push(new Dn("bucket")),n.push(new Dn("generation")),n.push(new Dn("metageneration")),n.push(new Dn("name","fullPath",!0));function e(l,u){return zj(u)}const t=new Dn("name");t.xform=e,n.push(t);function r(l,u){return u!==void 0?Number(u):u}const a=new Dn("size");return a.xform=r,n.push(a),n.push(new Dn("timeCreated")),n.push(new Dn("updated")),n.push(new Dn("md5Hash",null,!0)),n.push(new Dn("cacheControl",null,!0)),n.push(new Dn("contentDisposition",null,!0)),n.push(new Dn("contentEncoding",null,!0)),n.push(new Dn("contentLanguage",null,!0)),n.push(new Dn("contentType",null,!0)),n.push(new Dn("metadata","customMetadata",!0)),Ah=n,Ah}function Fj(n,e){function t(){const r=n.bucket,a=n.fullPath,l=new hs(r,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function Bj(n,e,t){const r={};r.type="file";const a=t.length;for(let l=0;l<a;l++){const u=t[l];r[u.local]=u.xform(r,e[u.server])}return Fj(r,n),r}function SA(n,e,t){const r=EA(e);return r===null?null:Bj(n,r,t)}function qj(n,e,t,r){const a=EA(e);if(a===null||!dv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=n.bucket,x=n.fullPath,w="/b/"+u(v)+"/o/"+u(x),I=fv(w,t,r),O=vA({alt:"media",token:g});return I+O})[0]}function Hj(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class AA{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function CA(n){if(!n)throw uv()}function Gj(n,e){function t(r,a){const l=SA(n,a,e);return CA(l!==null),l}return t}function $j(n,e){function t(r,a){const l=SA(n,a,e);return CA(l!==null),qj(l,a,n.host,n._protocol)}return t}function NA(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=ij():a=rj():t.getStatus()===402?a=sj(n.bucket):t.getStatus()===403?a=aj(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function Yj(n){const e=NA(n);function t(r,a){let l=e(r,a);return r.getStatus()===404&&(l=nj(n.path)),l.serverResponse=a.serverResponse,l}return t}function Kj(n,e,t){const r=e.fullServerUrl(),a=fv(r,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,m=new AA(a,l,$j(n,t),u);return m.errorHandler=Yj(e),m}function Qj(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Wj(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=Qj(null,e)),r}function Xj(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let $="";for(let ae=0;ae<2;ae++)$=$+Math.random().toString().slice(2);return $}const y=m();u["Content-Type"]="multipart/related; boundary="+y;const g=Wj(e,r,a),v=Hj(g,t),x="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+y+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+y+"--",I=aa.getBlob(x,r,w);if(I===null)throw hj();const O={name:g.fullPath},D=fv(l,n.host,n._protocol),P="POST",B=n.maxUploadRetryTime,H=new AA(D,P,Gj(n,t),B);return H.urlParams=O,H.headers=u,H.body=I.uploadData(),H.errorHandler=NA(e),H}class Jj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,l){if(this.sent_)throw Jc("cannot .send() more than once");if(xa(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Zj extends Jj{initXhr(){this.xhr_.responseType="text"}}function RA(){return new Zj}class fo{constructor(e,t){this._service=e,t instanceof hs?this._location=t:this._location=hs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fo(e,t)}get root(){const e=new hs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wA(this._location.path)}get storage(){return this._service}get parent(){const e=Lj(this._location.path);if(e===null)return null;const t=new hs(this._location.bucket,e);return new fo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw gj(e)}}function eM(n,e,t){n._throwIfRoot("uploadBytes");const r=Xj(n.storage,n._location,TA(),new aa(e,!0),t);return n.storage.makeRequestWithTokens(r,RA).then(a=>({metadata:a,ref:n}))}function tM(n){n._throwIfRoot("getDownloadURL");const e=Kj(n.storage,n._location,TA());return n.storage.makeRequestWithTokens(e,RA).then(t=>{if(t===null)throw fj();return t})}function nM(n,e){const t=Vj(n._location.path,e),r=new hs(n._location.bucket,t);return new fo(n.storage,r)}function sM(n){return/^[A-Za-z]+:\/\//.test(n)}function rM(n,e){return new fo(n,e)}function kA(n,e){if(n instanceof mv){const t=n;if(t._bucket==null)throw dj();const r=new fo(t,t._bucket);return e!=null?kA(r,e):r}else return e!==void 0?nM(n,e):n}function iM(n,e){if(e&&sM(e)){if(n instanceof mv)return rM(n,e);throw Yp("To use ref(service, url), the first argument must be a Storage instance.")}else return kA(n,e)}function $E(n,e){const t=e?.[pA];return t==null?null:hs.makeFromBucketSpec(t,n)}function aM(n,e,t,r={}){n.host=`${e}:${t}`;const a=xa(e);a&&(oy(`https://${n.host}/b`),ly("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:Kw(l,n.app.options.projectId))}class mv{constructor(e,t,r,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=gA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ej,this._maxUploadRetryTime=tj,this._requests=new Set,a!=null?this._bucket=hs.makeFromBucketSpec(a,this._host):this._bucket=$E(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hs.makeFromBucketSpec(this._url,e):this._bucket=$E(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fo(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new pj(yA());{const u=Cj(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const YE="@firebase/storage",KE="0.14.0";const IA="storage";function DA(n,e,t){return n=bt(n),eM(n,e,t)}function OA(n){return n=bt(n),tM(n)}function PA(n,e){return n=bt(n),iM(n,e)}function oM(n=Ef(),e){n=bt(n);const r=Ea(n,IA).getImmediate({identifier:e}),a=Gw("storage");return a&&lM(r,...a),r}function lM(n,e,t,r={}){aM(n,e,t,r)}function cM(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new mv(t,r,a,e,yo)}function uM(){Ys(new Ns(IA,cM,"PUBLIC").setMultipleInstances(!0)),Kn(YE,KE,""),Kn(YE,KE,"esm2020")}uM();const jA="@firebase/installations",gv="0.6.19";const MA=1e4,LA=`w:${gv}`,VA="FIS_v2",dM="https://firebaseinstallations.googleapis.com/v1",hM=3600*1e3,fM="installations",mM="Installations";const gM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mo=new po(fM,mM,gM);function UA(n){return n instanceof ks&&n.code.includes("request-failed")}function zA({projectId:n}){return`${dM}/projects/${n}/installations`}function FA(n){return{token:n.token,requestStatus:2,expiresIn:yM(n.expiresIn),creationTime:Date.now()}}async function BA(n,e){const r=(await e.json()).error;return mo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function qA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function pM(n,{refreshToken:e}){const t=qA(n);return t.append("Authorization",vM(e)),t}async function HA(n){const e=await n();return e.status>=500&&e.status<600?n():e}function yM(n){return Number(n.replace("s","000"))}function vM(n){return`${VA} ${n}`}async function bM({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=zA(n),a=qA(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={fid:t,authVersion:VA,appId:n.appId,sdkVersion:LA},m={method:"POST",headers:a,body:JSON.stringify(u)},y=await HA(()=>fetch(r,m));if(y.ok){const g=await y.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:FA(g.authToken)}}else throw await BA("Create Installation",y)}function GA(n){return new Promise(e=>{setTimeout(e,n)})}function _M(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const xM=/^[cdef][\w-]{21}$/,Kp="";function EM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=wM(n);return xM.test(t)?t:Kp}catch{return Kp}}function wM(n){return _M(n).substr(0,22)}function Gf(n){return`${n.appName}!${n.appId}`}const $A=new Map;function YA(n,e){const t=Gf(n);KA(t,e),TM(t,e)}function KA(n,e){const t=$A.get(n);if(t)for(const r of t)r(e)}function TM(n,e){const t=SM();t&&t.postMessage({key:n,fid:e}),AM()}let ro=null;function SM(){return!ro&&"BroadcastChannel"in self&&(ro=new BroadcastChannel("[Firebase] FID Change"),ro.onmessage=n=>{KA(n.data.key,n.data.fid)}),ro}function AM(){$A.size===0&&ro&&(ro.close(),ro=null)}const CM="firebase-installations-database",NM=1,go="firebase-installations-store";let gp=null;function pv(){return gp||(gp=Jw(CM,NM,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(go)}}})),gp}async function uf(n,e){const t=Gf(n),a=(await pv()).transaction(go,"readwrite"),l=a.objectStore(go),u=await l.get(t);return await l.put(e,t),await a.done,(!u||u.fid!==e.fid)&&YA(n,e.fid),e}async function QA(n){const e=Gf(n),r=(await pv()).transaction(go,"readwrite");await r.objectStore(go).delete(e),await r.done}async function $f(n,e){const t=Gf(n),a=(await pv()).transaction(go,"readwrite"),l=a.objectStore(go),u=await l.get(t),m=e(u);return m===void 0?await l.delete(t):await l.put(m,t),await a.done,m&&(!u||u.fid!==m.fid)&&YA(n,m.fid),m}async function yv(n){let e;const t=await $f(n.appConfig,r=>{const a=RM(r),l=kM(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Kp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function RM(n){const e=n||{fid:EM(),registrationStatus:0};return WA(e)}function kM(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(mo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=IM(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DM(n)}:{installationEntry:e}}async function IM(n,e){try{const t=await bM(n,e);return uf(n.appConfig,t)}catch(t){throw UA(t)&&t.customData.serverCode===409?await QA(n.appConfig):await uf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function DM(n){let e=await QE(n.appConfig);for(;e.registrationStatus===1;)await GA(100),e=await QE(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await yv(n);return r||t}return e}function QE(n){return $f(n,e=>{if(!e)throw mo.create("installation-not-found");return WA(e)})}function WA(n){return OM(n)?{fid:n.fid,registrationStatus:0}:n}function OM(n){return n.registrationStatus===1&&n.registrationTime+MA<Date.now()}async function PM({appConfig:n,heartbeatServiceProvider:e},t){const r=jM(n,t),a=pM(n,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={installation:{sdkVersion:LA,appId:n.appId}},m={method:"POST",headers:a,body:JSON.stringify(u)},y=await HA(()=>fetch(r,m));if(y.ok){const g=await y.json();return FA(g)}else throw await BA("Generate Auth Token",y)}function jM(n,{fid:e}){return`${zA(n)}/${e}/authTokens:generate`}async function vv(n,e=!1){let t;const r=await $f(n.appConfig,l=>{if(!XA(l))throw mo.create("not-registered");const u=l.authToken;if(!e&&VM(u))return l;if(u.requestStatus===1)return t=MM(n,e),l;{if(!navigator.onLine)throw mo.create("app-offline");const m=zM(l);return t=LM(n,m),m}});return t?await t:r.authToken}async function MM(n,e){let t=await WE(n.appConfig);for(;t.authToken.requestStatus===1;)await GA(100),t=await WE(n.appConfig);const r=t.authToken;return r.requestStatus===0?vv(n,e):r}function WE(n){return $f(n,e=>{if(!XA(e))throw mo.create("not-registered");const t=e.authToken;return FM(t)?{...e,authToken:{requestStatus:0}}:e})}async function LM(n,e){try{const t=await PM(n,e),r={...e,authToken:t};return await uf(n.appConfig,r),t}catch(t){if(UA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await QA(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await uf(n.appConfig,r)}throw t}}function XA(n){return n!==void 0&&n.registrationStatus===2}function VM(n){return n.requestStatus===2&&!UM(n)}function UM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+hM}function zM(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function FM(n){return n.requestStatus===1&&n.requestTime+MA<Date.now()}async function BM(n){const e=n,{installationEntry:t,registrationPromise:r}=await yv(e);return r?r.catch(console.error):vv(e).catch(console.error),t.fid}async function qM(n,e=!1){const t=n;return await HM(t),(await vv(t,e)).token}async function HM(n){const{registrationPromise:e}=await yv(n);e&&await e}function GM(n){if(!n||!n.options)throw pp("App Configuration");if(!n.name)throw pp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw pp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function pp(n){return mo.create("missing-app-config-values",{valueName:n})}const JA="installations",$M="installations-internal",YM=n=>{const e=n.getProvider("app").getImmediate(),t=GM(e),r=Ea(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},KM=n=>{const e=n.getProvider("app").getImmediate(),t=Ea(e,JA).getImmediate();return{getId:()=>BM(t),getToken:a=>qM(t,a)}};function QM(){Ys(new Ns(JA,YM,"PUBLIC")),Ys(new Ns($M,KM,"PRIVATE"))}QM();Kn(jA,gv);Kn(jA,gv,"esm2020");const df="analytics",WM="firebase_id",XM="origin",JM=60*1e3,ZM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bv="https://www.googletagmanager.com/gtag/js";const jn=new xf("@firebase/analytics");const eL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ms=new po("analytics","Analytics",eL);function tL(n){if(!n.startsWith(bv)){const e=ms.create("invalid-gtag-resource",{gtagURL:n});return jn.warn(e.message),""}return n}function ZA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function nL(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function sL(n,e){const t=nL("firebase-js-sdk-policy",{createScriptURL:tL}),r=document.createElement("script"),a=`${bv}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function rL(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function iL(n,e,t,r,a,l){const u=r[a];try{if(u)await e[u];else{const y=(await ZA(t)).find(g=>g.measurementId===a);y&&await e[y.appId]}}catch(m){jn.error(m)}n("config",a,l)}async function aL(n,e,t,r,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const m=await ZA(t);for(const y of u){const g=m.find(x=>x.measurementId===y),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,a||{})}catch(l){jn.error(l)}}function oL(n,e,t,r){async function a(l,...u){try{if(l==="event"){const[m,y]=u;await aL(n,e,t,m,y)}else if(l==="config"){const[m,y]=u;await iL(n,e,t,r,m,y)}else if(l==="consent"){const[m,y]=u;n("consent",m,y)}else if(l==="get"){const[m,y,g]=u;n("get",m,y,g)}else if(l==="set"){const[m]=u;n("set",m)}else n(l,...u)}catch(m){jn.error(m)}}return a}function lL(n,e,t,r,a){let l=function(...u){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=oL(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function cL(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(bv)&&t.src.includes(n))return t;return null}const uL=30,dL=1e3;class hL{constructor(e={},t=dL){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const e1=new hL;function fL(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function mL(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:fL(t)},a=ZM.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const m=await l.json();m.error?.message&&(u=m.error.message)}catch{}throw ms.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function gL(n,e=e1,t){const{appId:r,apiKey:a,measurementId:l}=n.options;if(!r)throw ms.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw ms.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new vL;return setTimeout(async()=>{m.abort()},JM),t1({appId:r,apiKey:a,measurementId:l},u,m,e)}async function t1(n,{throttleEndTimeMillis:e,backoffCount:t},r,a=e1){const{appId:l,measurementId:u}=n;try{await pL(r,e)}catch(m){if(u)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw m}try{const m=await mL(n);return a.deleteThrottleMetadata(l),m}catch(m){const y=m;if(!yL(y)){if(a.deleteThrottleMetadata(l),u)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:l,measurementId:u};throw m}const g=Number(y?.customData?.httpStatus)===503?px(t,a.intervalMillis,uL):px(t,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return a.setThrottleMetadata(l,v),jn.debug(`Calling attemptFetch again in ${g} millis`),t1(n,v,r,a)}}function pL(n,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),r(ms.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yL(n){if(!(n instanceof ks)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class vL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bL(n,e,t,r,a){if(a&&a.global){n("event",t,r);return}else{const l=await e,u={...r,send_to:l};n("event",t,u)}}async function _L(n,e,t,r){if(r&&r.global){const a={};for(const l of Object.keys(t))a[`user_properties.${l}`]=t[l];return n("set",a),Promise.resolve()}else{const a=await e;n("config",a,{update:!0,user_properties:t})}}async function xL(){if(uy())try{await dy()}catch(n){return jn.warn(ms.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return jn.warn(ms.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EL(n,e,t,r,a,l,u){const m=gL(n);m.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>jn.error(w)),e.push(m);const y=xL().then(w=>{if(w)return r.getId()}),[g,v]=await Promise.all([m,y]);cL(l)||sL(l,g.measurementId),a("js",new Date);const x=u?.config??{};return x[XM]="firebase",x.update=!0,v!=null&&(x[WM]=v),a("config",g.measurementId,x),g.measurementId}class wL{constructor(e){this.app=e}_delete(){return delete kl[this.app.options.appId],Promise.resolve()}}let kl={},XE=[];const JE={};let yp="dataLayer",TL="gtag",ZE,_v,ew=!1;function SL(){const n=[];if(cy()&&n.push("This is a browser extension environment."),Qw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=ms.create("invalid-analytics-context",{errorInfo:e});jn.warn(t.message)}}function AL(n,e,t){SL();const r=n.options.appId;if(!r)throw ms.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ms.create("no-api-key");if(kl[r]!=null)throw ms.create("already-exists",{id:r});if(!ew){rL(yp);const{wrappedGtag:l,gtagCore:u}=lL(kl,XE,JE,yp,TL);_v=l,ZE=u,ew=!0}return kl[r]=EL(n,XE,JE,e,ZE,yp,t),new wL(n)}function CL(n=Ef()){n=bt(n);const e=Ea(n,df);return e.isInitialized()?e.getImmediate():NL(n)}function NL(n,e={}){const t=Ea(n,df);if(t.isInitialized()){const a=t.getImmediate();if(kr(e,t.getOptions()))return a;throw ms.create("already-initialized")}return t.initialize({options:e})}async function RL(){if(cy()||!Qw()||!uy())return!1;try{return await dy()}catch{return!1}}function kL(n,e,t){n=bt(n),_L(_v,kl[n.app.options.appId],e,t).catch(r=>jn.error(r))}function IL(n,e,t,r){n=bt(n),bL(_v,kl[n.app.options.appId],e,t,r).catch(a=>jn.error(a))}const tw="@firebase/analytics",nw="0.10.19";function DL(){Ys(new Ns(df,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return AL(r,a,t)},"PUBLIC")),Ys(new Ns("analytics-internal",n,"PRIVATE")),Kn(tw,nw),Kn(tw,nw,"esm2020");function n(e){try{const t=e.getProvider(df).getImmediate();return{logEvent:(r,a,l)=>IL(t,r,a,l),setUserProperties:(r,a)=>kL(t,r,a)}}catch(t){throw ms.create("interop-component-reg-failed",{reason:t})}}}DL();const OL={apiKey:"AIzaSyBSosJnO-qnF08c3LobKNcvtcosd7-Xav8",authDomain:"swingar-71111290-b34c7.firebaseapp.com",projectId:"swingar-71111290-b34c7",storageBucket:"swingar-71111290-b34c7.firebasestorage.app",messagingSenderId:"358521707518",appId:"1:358521707518:web:250efc82ba3003bcc5feaf"},Yf=Zw(OL),Lt=PD(Yf),De=MP(Yf),n1=oM(Yf);RL().then(n=>{n&&CL(Yf)});function PL(){const n=It(),[e,t]=N.useState(""),[r,a]=N.useState(""),[l,u]=N.useState(null),[m,y]=N.useState(null),[g,v]=N.useState(!1),x=async I=>{I.preventDefault(),u(null),y(null),v(!0);try{const O=await _2(Lt,e,r);console.log("Login OK:",O.user.uid),n("/choose-account-type",{replace:!0})}catch(O){const D=O;console.error("Falha no login:",D.code,D.message);let P="Ocorreu um erro ao iniciar sesso. Tenta novamente.";switch(D.code){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":case"auth/invalid-email":P="Email ou palavra-passe invlidos.";break;case"auth/too-many-requests":P="Demasiadas tentativas falhadas. Tenta novamente mais tarde.";break}u(P)}finally{v(!1)}},w=async()=>{if(u(null),y(null),!e){u("Escreve o teu email para enviarmos o link de recuperao.");return}try{await AT(Lt,e),y("Envimos um email com um link para redefinir a palavra-passe.")}catch(I){const O=I;console.error("Erro no reset de password:",O.code,O.message),u("No foi possvel enviar o email de recuperao. Verifica o endereo.")}};return h.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-slate-950 text-slate-50 overflow-hidden",children:[h.jsx("div",{className:"xlife-hero-bg",children:h.jsx("div",{className:"xlife-hero-orbit"})}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950/80 via-slate-950/60 to-slate-950/90"}),h.jsxs("div",{className:"relative z-10 w-full max-w-md px-6",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-extrabold tracking-tight mb-2 xlife-logo-glow",children:"XLife"}),h.jsx("h2",{className:"text-2xl font-semibold",children:"Entrar na Conta"}),h.jsx("p",{className:"text-slate-300",children:"Bem-vindo(a) de volta."})]}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:I=>t(I.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-900/80 border border-slate-700 rounded-lg placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-rose-500"}),h.jsx("input",{type:"password",placeholder:"Palavra-passe",value:r,onChange:I=>a(I.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-900/80 border border-slate-700 rounded-lg placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-rose-500"})]}),h.jsx("button",{type:"submit",disabled:g,className:"w-full mt-4 py-3 px-4 rounded-full font-semibold text-lg transition-all transform disabled:bg-slate-700 disabled:cursor-not-allowed bg-rose-500 hover:bg-rose-600 active:bg-rose-700 shadow-[0_0_20px_rgba(244,63,94,0.6)] hover:-translate-y-0.5",children:g?"A entrar...":"Entrar"})]}),h.jsx("div",{className:"mt-4 text-center",children:h.jsx("button",{type:"button",onClick:w,className:"text-sm font-medium text-rose-400 hover:underline",children:"Esqueci-me da palavra-passe"})}),h.jsxs("div",{className:"mt-4 text-center",children:[m&&h.jsx("p",{className:"mt-2 text-sm text-emerald-400",children:m}),l&&h.jsx("p",{className:"mt-1 text-sm text-pink-400",children:l})]}),h.jsxs("p",{className:"text-center text-sm text-slate-400 pt-4",children:["No tem conta?"," ",h.jsx(An,{to:"/register",className:"font-semibold text-rose-400 hover:underline",children:"Registar"})]})]})]})}function jL(){const n=It(),[e,t]=N.useState(""),[r,a]=N.useState(""),[l,u]=N.useState(""),[m,y]=N.useState(null),[g,v]=N.useState(!1),x=async w=>{if(w.preventDefault(),y(null),r!==l){y("As palavras-passe no coincidem.");return}v(!0);try{const I=await b2(Lt,e,r);console.log("Registo bem-sucedido:",I.user.uid),n("/choose-account-type",{replace:!0})}catch(I){const O=I;console.error("Falha no registo:",O.code,O.message);let D="Ocorreu um erro ao criar a conta. Tenta novamente.";O.code==="auth/email-already-in-use"&&(D='Este email j est registado. Faz login ou usa a opo "Esqueci-me da palavra-passe".'),y(D)}finally{v(!1)}};return h.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-slate-950 text-slate-50 overflow-hidden",children:[h.jsx("div",{className:"xlife-hero-bg",children:h.jsx("div",{className:"xlife-hero-orbit"})}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950/80 via-slate-950/60 to-slate-950/90"}),h.jsxs("div",{className:"relative z-10 w-full max-w-md px-6",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-extrabold tracking-tight mb-2 xlife-logo-glow",children:"XLife"}),h.jsx("h2",{className:"text-2xl font-semibold",children:"Criar Conta"}),h.jsx("p",{className:"text-slate-300",children:"Junte-se  nossa comunidade privada."})]}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[m&&h.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-center",children:m}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"email",placeholder:"O seu melhor email",value:e??"",onChange:w=>t(w.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-900/80 border border-slate-700 rounded-lg placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-rose-500"}),h.jsx("input",{type:"password",placeholder:"Palavra-passe (mn. 6 caracteres)",value:r??"",onChange:w=>a(w.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-900/80 border border-slate-700 rounded-lg placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-rose-500"}),h.jsx("input",{type:"password",placeholder:"Confirmar palavra-passe",value:l??"",onChange:w=>u(w.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-900/80 border border-slate-700 rounded-lg placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-rose-500"})]}),h.jsx("button",{type:"submit",disabled:g,className:"w-full mt-6 py-3 px-4 rounded-full font-semibold text-lg transition-all transform disabled:bg-slate-700 disabled:cursor-not-allowed bg-rose-500 hover:bg-rose-600 active:bg-rose-700 shadow-[0_0_20px_rgba(244,63,94,0.6)] hover:-translate-y-0.5",children:g?"A criar...":"Criar Conta"}),h.jsxs("p",{className:"text-center text-sm text-slate-400 pt-4",children:["J tem conta?"," ",h.jsx(An,{to:"/login",className:"font-semibold text-rose-400 hover:underline",children:"Entrar"})]})]})]})]})}function ML(){const[n,e]=N.useState(""),[t,r]=N.useState(null),[a,l]=N.useState(!1),u=async m=>{m.preventDefault(),r(null),l(!0);try{await AT(Lt,n),r({type:"success",message:"Email de recuperao enviado! Verifique a sua caixa de entrada (e a pasta de spam)."})}catch(y){r({type:"error",message:"Erro ao enviar email. Verifique se o email est correto e tente novamente."}),console.error("Password reset error:",y)}finally{l(!1)}};return h.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center px-4",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"XLife"}),h.jsx("h2",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Recuperar Palavra-passe"}),h.jsx("p",{className:"text-gray-400",children:"Insira o seu email para receber um link de recuperao."})]}),h.jsxs("form",{onSubmit:u,className:"mt-8 space-y-6",children:[t&&h.jsx("div",{className:`text-center px-4 py-3 rounded break-words ${t.type==="success"?"bg-green-900/50 border border-green-700 text-green-200":"bg-red-900/50 border border-red-700 text-red-200"}`,children:t.message}),!t||t.type!=="success"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),h.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:m=>e(m.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-pink-600 focus:border-transparent",placeholder:"seu@email.com"})]}),h.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-pink-600 hover:bg-pink-700 disabled:bg-pink-800 text-white font-semibold rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-pink-600 focus:ring-offset-2 focus:ring-offset-gray-900",children:a?"A enviar...":"Enviar Email de Recuperao"})]}):null,h.jsx("div",{className:"text-center",children:h.jsxs("p",{className:"text-gray-400",children:["Lembrou-se da passe?"," ",h.jsx(An,{to:"/login",className:"text-pink-500 hover:text-pink-400 font-semibold",children:"Voltar ao Login"})]})})]})]})})}function LL(n,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function m(v){try{g(r.next(v))}catch(x){u(x)}}function y(v){try{g(r.throw(v))}catch(x){u(x)}}function g(v){v.done?l(v.value):a(v.value).then(m,y)}g((r=r.apply(n,[])).next())})}function VL(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(g){return function(v){return y([g,v])}}function y(g){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,a=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(v){g=[6,v],a=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Tl=function(){return Tl=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Tl.apply(this,arguments)},s1=function(n){return{loading:n==null,value:n}},UL=function(){return function(n,e){switch(e.type){case"error":return Tl(Tl({},n),{error:e.error,loading:!1,value:void 0});case"reset":return s1(e.defaultValue);case"value":return Tl(Tl({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},zL=(function(n){var e=n?n():void 0,t=N.useReducer(UL(),s1(e)),r=t[0],a=t[1],l=N.useCallback(function(){var y=n?n():void 0;a({type:"reset",defaultValue:y})},[n]),u=N.useCallback(function(y){a({type:"error",error:y})},[]),m=N.useCallback(function(y){a({type:"value",value:y})},[]);return N.useMemo(function(){return{error:r.error,loading:r.loading,reset:l,setError:u,setValue:m,value:r.value}},[r.error,r.loading,l,u,m,r.value])}),Js=(function(n,e){var t=zL(function(){return n.currentUser}),r=t.error,a=t.loading,l=t.setError,u=t.setValue,m=t.value;return N.useEffect(function(){var y=w2(n,function(g){return LL(void 0,void 0,void 0,function(){var v;return VL(this,function(x){switch(x.label){case 0:return[3,4];case 1:return x.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return x.sent(),[3,4];case 3:return v=x.sent(),l(v),[3,4];case 4:return u(g),[2]}})})},l);return function(){y()}},[n]),[m,a,r]});const Kl=[{id:"soft_swap",label:"Soft swap"},{id:"full_swap",label:"Full swap"},{id:"voyeur",label:"Voyeur"},{id:"exhibitionist",label:"Exibicionismo"},{id:"parties",label:"Festas privadas"},{id:"kink",label:"Kink / BDSM light"},{id:"online",label:"Conversa Online"},{id:"friendship",label:"Amizade"},{id:"Viagens",label:"Viagens"},{id:"Jantares",label:"Jantares"},{id:"Cinema",label:"Cinema"},{id:"Massagens",label:"Massagens"},{id:"Festas",label:"Festas"},{id:"Dana",label:"Dana"},{id:"Cocktails",label:"Cocktails"},{id:"Praia",label:"Praia"},{id:"Vinho",label:"Vinho"},{id:"Golf",label:"Golf"},{id:"Spa",label:"Spa"},{id:"Leitura",label:"Leitura"},{id:"Natureza",label:"Natureza"},{id:"Surf",label:"Surf"},{id:"Yoga",label:"Yoga"},{id:"Campismo",label:"Campismo"},{id:"Jogos",label:"Jogos"},{id:"Sries",label:"Sries"},{id:"Culinria",label:"Culinria"},{id:"Tecnologia",label:"Tecnologia"},{id:"Histria",label:"Histria"},{id:"Motos",label:"Motos"},{id:"Rock",label:"Rock"},{id:"Cerveja",label:"Cerveja"},{id:"Fotografia",label:"Fotografia"},{id:"Passeios",label:"Passeios"},{id:"Arte",label:"Arte"},{id:"Museus",label:"Museus"},{id:"Cruzeiros",label:"Cruzeiros"},{id:"Dana de Salo",label:"Dana de Salo"},{id:"Jantares Gourmet",label:"Jantares Gourmet"},{id:"Desporto",label:"Desporto"},{id:"Sade",label:"Sade"},{id:"Fitness",label:"Fitness"},{id:"Campo",label:"Campo"},{id:"Vinhos",label:"Vinhos"},{id:"Gastronomia Alentejana",label:"Gastronomia Alentejana"},{id:"Moda",label:"Moda"},{id:"Design",label:"Design"},{id:"Festas Exclusivas",label:"Festas Exclusivas"},{id:"Meditao",label:"Meditao"},{id:"Msica",label:"Msica"},{id:"Negcios",label:"Negcios"},{id:"Networking",label:"Networking"},{id:"Gaming",label:"Gaming"},{id:"Msica Eletrnica",label:"Msica Eletrnica"},{id:"hetero_only",label:"Hetero apenas"},{id:"she_bi",label:"Ela bi / bi-curiosa"},{id:"he_bi",label:"Ele bi / bi-curioso"},{id:"both_bi",label:"Ambos bi"},{id:"same_gender",label:"Gay / Lsbico"}],xv=[{id:"NEW",label:"Novato"},{id:"SOFT_SWAP",label:"Soft Swap"},{id:"FULL_SWAP",label:"Full Swap"},{id:"HOTWIFING",label:"Hotwifing"},{id:"CUCKHOLDING",label:"Cuckolding"},{id:"STAG_VIXEN",label:"Stag & Vixen"},{id:"UNICORN_HUNTERS",label:"Unicorn Hunters"},{id:"POLYAMORY",label:"Poliamor"},{id:"THREESOME",label:"Threesome"},{id:"GROUP_SEX",label:"Group Sex"},{id:"ORGY",label:"Orgia"},{id:"GANGBANG",label:"Gangbang"},{id:"EXHIBITIONISM",label:"Exibicionismo"},{id:"VOYEURISM",label:"Voyeurismo"},{id:"BDSM",label:"BDSM"}],Ev=[{id:"SINGLE",label:"Single"},{id:"COUPLE",label:"Casal"},{id:"GROUP",label:"Grupo"}],Ws=[{id:"UNDER_30",label:"At 30"},{id:"AGE_30_39",label:"3039"},{id:"AGE_40_49",label:"4049"},{id:"AGE_50_59",label:"5059"},{id:"AGE_60_PLUS",label:"60+"}],FL=Kl,Kf="inline-flex items-center justify-center rounded-lg font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-60 disabled:cursor-not-allowed text-sm",BL=`${Kf} px-5 py-3 bg-pink-600 text-white hover:bg-pink-700 focus:ring-pink-600 shadow-lg shadow-pink-900/20`,qL=`${Kf} px-4 py-2 bg-gray-700 text-gray-200 hover:bg-gray-600 focus:ring-gray-500`,HL=`${Kf} px-4 py-1.5 bg-emerald-600 text-white hover:bg-emerald-700 focus:ring-emerald-500`,GL=`${Kf} px-3 py-1 bg-transparent text-gray-400 hover:text-white focus:ring-gray-400`;function $L({children:n,className:e="",...t}){return h.jsx("button",{className:`${BL} ${e}`,...t,children:n})}function YL({children:n,className:e="",...t}){return h.jsx("button",{className:`${qL} ${e}`,...t,children:n})}function KL({children:n,className:e="",...t}){return h.jsx("button",{className:`${HL} ${e}`,...t,children:n})}function QL({children:n,className:e="",...t}){return h.jsx("button",{className:`${GL} ${e}`,...t,children:n})}function WL(){const n=It(),[e,t]=Js(Lt),r=N.useRef(null),[a,l]=N.useState(!1),[u,m]=N.useState(!0),[y,g]=N.useState(""),[v,x]=N.useState(null),[w,I]=N.useState(""),[O,D]=N.useState({nickname:"",accountType:"COUPLE",relationshipType:"COUPLE",experienceLevel:"SOFT_SWAP",interests:[],ageRange:"UNDER_30",region:"",city:"",description:"",searchPreferences:{autoApplyOnExplore:!0,lookingForCouples:!0,lookingForSingleWomen:!0,lookingForSingleMen:!1,lookingForGroups:!1,preferredAgeRanges:[],preferredOrientationTags:[]}});N.useEffect(()=>{(async()=>{if(!(t||!e))try{const C=et(De,"profiles",e.uid),S=await Mn(C);if(S.exists()){const R=S.data();R.nickname&&(R.accountType==="USER"?n("/singles",{replace:!0}):n("/explore",{replace:!0}))}}catch(C){console.error("Error checking profile:",C)}finally{m(!1)}})()},[e,t,n]);const P=z=>{const{name:C,value:S}=z.target;D(R=>({...R,[C]:S}))},B=z=>{D(C=>{const S=C.interests.includes(z)?C.interests.filter(R=>R!==z):[...C.interests,z];return{...C,interests:S}})},H=z=>{D(C=>{const S=C.searchPreferences.preferredAgeRanges||[],R=S.includes(z)?S.filter(U=>U!==z):[...S,z];return{...C,searchPreferences:{...C.searchPreferences,preferredAgeRanges:R}}})},$=z=>{z==="autoApplyOnExplore"||z==="preferredAgeRanges"||z==="preferredOrientationTags"||D(C=>({...C,searchPreferences:{...C.searchPreferences,[z]:!C.searchPreferences[z]}}))},ae=z=>{if(z.target.files&&z.target.files[0]){const C=z.target.files[0];if(C.size>5*1024*1024){g("A imagem deve ter no mximo 5MB.");return}x(C),I(URL.createObjectURL(C)),g("")}},se=async z=>{if(z.preventDefault(),g(""),l(!0),!e){g("Erro: Utilizador no autenticado."),l(!1);return}if(!O.nickname||!O.region||!v){g("Por favor preencha todos os campos obrigatrios e adicione uma foto."),l(!1);return}try{let C="";if(v){const U=PA(n1,`profile-images/${e.uid}/main.jpg`);await DA(U,v),C=await OA(U)}const S={...O.searchPreferences};(!S.preferredAgeRanges||S.preferredAgeRanges.length===0)&&(S.preferredAgeRanges=[O.ageRange]);const R={id:e.uid,...O,searchPreferences:S,verificationStatus:"NONE",isPrivate:!1,verificationLevel:0,subscriptionPlan:"FREE",mainPhotoUrl:C,createdAt:Yn(),updatedAt:Yn()};await gi(et(De,"profiles",e.uid),R),n("/explore")}catch(C){console.error("Error creating profile:",C),g("Erro ao criar perfil. Tente novamente.")}finally{l(!1)}};return t||u?h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:h.jsx("p",{children:"Loading..."})}):h.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center px-4 py-12",children:h.jsxs("div",{className:"max-w-3xl w-full space-y-8 bg-gray-800 p-8 rounded-xl border border-gray-700",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Complete o seu Perfil"}),h.jsx("p",{className:"text-gray-400",children:"Estes detalhes ajudam a comunidade a encontrar-vos."})]}),h.jsxs("form",{onSubmit:se,className:"space-y-8",children:[y&&h.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded",children:y}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("div",{onClick:()=>r.current?.click(),className:"w-32 h-32 rounded-full bg-gray-700 border-2 border-dashed border-gray-600 flex items-center justify-center cursor-pointer overflow-hidden hover:border-pink-500 transition-colors relative",children:[w?h.jsx("img",{src:w,alt:"Preview",className:"w-full h-full object-cover"}):h.jsx("div",{className:"text-center p-2",children:h.jsx("span",{className:"text-sm text-gray-400",children:"Adicionar Foto Principal"})}),h.jsx("div",{className:"absolute bottom-0 right-0 bg-pink-600 p-2 rounded-full m-1",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 text-white",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]})})]}),h.jsx("input",{type:"file",ref:r,className:"hidden",accept:"image/*",onChange:ae}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Foto principal obrigatria"})]}),h.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Alcunha (Nome do Perfil) *"}),h.jsx("input",{type:"text",name:"nickname",required:!0,value:O.nickname,onChange:P,placeholder:"Ex: CasalAventureiro",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-pink-600 focus:outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tipo de Conta *"}),h.jsxs("select",{name:"accountType",value:O.accountType,onChange:P,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-pink-600 focus:outline-none",children:[h.jsx("option",{value:"COUPLE",children:"Casal"}),h.jsx("option",{value:"USER",children:"Pessoa"}),h.jsx("option",{value:"CLUB",children:"Clube"}),h.jsx("option",{value:"ORGANIZER",children:"Organizador"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Faixa Etria"}),h.jsx("select",{name:"ageRange",value:O.ageRange,onChange:P,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-pink-600 focus:outline-none",children:Ws.map(z=>h.jsx("option",{value:z.id,children:z.label},z.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Regio / Distrito *"}),h.jsx("input",{type:"text",name:"region",required:!0,value:O.region,onChange:P,placeholder:"Ex: Lisboa",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-pink-600 focus:outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cidade (Opcional)"}),h.jsx("input",{type:"text",name:"city",value:O.city,onChange:P,placeholder:"Ex: Cascais",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-pink-600 focus:outline-none"})]})]}),h.jsxs("section",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tipo de Relao"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Ev.map(z=>h.jsx("button",{type:"button",onClick:()=>D(C=>({...C,relationshipType:z.id})),className:`px-4 py-2 rounded-lg text-sm transition-colors ${O.relationshipType===z.id?"bg-pink-600 text-white font-semibold":"bg-gray-700 text-gray-300"}`,children:z.label},z.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nvel de Experincia"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:xv.map(z=>h.jsx("button",{type:"button",onClick:()=>D(C=>({...C,experienceLevel:z.id})),className:`px-4 py-2 rounded-lg text-sm transition-colors ${O.experienceLevel===z.id?"bg-pink-600 text-white font-semibold":"bg-gray-700 text-gray-300"}`,children:z.label},z.id))})]})]}),h.jsxs("section",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Interesses & Orientao"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Kl.map(z=>h.jsx("button",{type:"button",onClick:()=>B(z.id),className:`px-4 py-2 rounded-lg text-sm transition-colors ${O.interests.includes(z.id)?"bg-emerald-600 text-white font-semibold":"bg-gray-700 text-gray-300"}`,children:z.label},z.id))})]}),h.jsxs("section",{className:"space-y-4 border-t border-gray-700 pt-6",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-200 uppercase tracking-wide",children:"O que procuram?"}),h.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Estas preferncias sero usadas para sugerir filtros automaticamente na pgina Explorar."}),h.jsxs("div",{children:[h.jsx("span",{className:"block text-xs text-gray-400 mb-2",children:"Tipo de perfis"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"lookingForCouples",label:"Casais"},{key:"lookingForSingleWomen",label:"Singles femininas"},{key:"lookingForSingleMen",label:"Singles masculinos"},{key:"lookingForGroups",label:"Grupos"}].map(z=>h.jsx("button",{type:"button",onClick:()=>$(z.key),className:`px-4 py-2 rounded-lg text-sm transition-colors ${O.searchPreferences[z.key]?"bg-pink-600 text-white font-semibold":"bg-gray-700 text-gray-300"}`,children:z.label},z.key))})]}),h.jsxs("div",{children:[h.jsx("span",{className:"block text-xs text-gray-400 mb-2",children:"Faixa etria desejada"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Ws.map(z=>{const C=O.searchPreferences.preferredAgeRanges?.includes(z.id);return h.jsx("button",{type:"button",onClick:()=>H(z.id),className:`px-3 py-1.5 rounded-lg text-xs transition-colors ${C?"bg-emerald-600 text-white font-semibold":"bg-gray-700 text-gray-300"}`,children:z.label},z.id)})})]})]}),h.jsx($L,{type:"submit",disabled:a,className:"w-full",children:a?"A guardar...":"Guardar e Continuar"})]})]})})}var $u=n=>n.type==="checkbox",io=n=>n instanceof Date,$n=n=>n==null;const r1=n=>typeof n=="object";var sn=n=>!$n(n)&&!Array.isArray(n)&&r1(n)&&!io(n),i1=n=>sn(n)&&n.target?$u(n.target)?n.target.checked:n.target.value:n,XL=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,a1=(n,e)=>n.has(XL(e)),JL=n=>{const e=n.constructor&&n.constructor.prototype;return sn(e)&&e.hasOwnProperty("isPrototypeOf")},wv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function an(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(!(wv&&(n instanceof Blob||r))&&(t||sn(n)))if(e=t?[]:Object.create(Object.getPrototypeOf(n)),!t&&!JL(n))e=n;else for(const a in n)n.hasOwnProperty(a)&&(e[a]=an(n[a]));else return n;return e}var Qf=n=>/^\w*$/.test(n),jt=n=>n===void 0,Tv=n=>Array.isArray(n)?n.filter(Boolean):[],Sv=n=>Tv(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ye=(n,e,t)=>{if(!e||!sn(n))return t;const r=(Qf(e)?[e]:Sv(e)).reduce((a,l)=>$n(a)?a:a[l],n);return jt(r)||r===n?jt(n[e])?t:n[e]:r},os=n=>typeof n=="boolean",_t=(n,e,t)=>{let r=-1;const a=Qf(e)?[e]:Sv(e),l=a.length,u=l-1;for(;++r<l;){const m=a[r];let y=t;if(r!==u){const g=n[m];y=sn(g)||Array.isArray(g)?g:isNaN(+a[r+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;n[m]=y,n=n[m]}};const hf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},si={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},o1=Fe.createContext(null);o1.displayName="HookFormContext";const Av=()=>Fe.useContext(o1);var l1=(n,e,t,r=!0)=>{const a={defaultValues:e._defaultValues};for(const l in n)Object.defineProperty(a,l,{get:()=>{const u=l;return e._proxyFormState[u]!==qs.all&&(e._proxyFormState[u]=!r||qs.all),t&&(t[u]=!0),n[u]}});return a};const Cv=typeof window<"u"?Fe.useLayoutEffect:Fe.useEffect;function ZL(n){const e=Av(),{control:t=e.control,disabled:r,name:a,exact:l}=n||{},[u,m]=Fe.useState(t._formState),y=Fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Cv(()=>t._subscribe({name:a,formState:y.current,exact:l,callback:g=>{!r&&m({...t._formState,...g})}}),[a,r,l]),Fe.useEffect(()=>{y.current.isValid&&t._setValid(!0)},[t]),Fe.useMemo(()=>l1(u,t,y.current,!1),[u,t])}var us=n=>typeof n=="string",Qp=(n,e,t,r,a)=>us(n)?(r&&e.watch.add(n),ye(t,n,a)):Array.isArray(n)?n.map(l=>(r&&e.watch.add(l),ye(t,l))):(r&&(e.watchAll=!0),t),Wp=n=>$n(n)||!r1(n);function Hs(n,e,t=new WeakSet){if(Wp(n)||Wp(e))return Object.is(n,e);if(io(n)&&io(e))return n.getTime()===e.getTime();const r=Object.keys(n),a=Object.keys(e);if(r.length!==a.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const l of r){const u=n[l];if(!a.includes(l))return!1;if(l!=="ref"){const m=e[l];if(io(u)&&io(m)||sn(u)&&sn(m)||Array.isArray(u)&&Array.isArray(m)?!Hs(u,m,t):!Object.is(u,m))return!1}}return!0}function e3(n){const e=Av(),{control:t=e.control,name:r,defaultValue:a,disabled:l,exact:u,compute:m}=n||{},y=Fe.useRef(a),g=Fe.useRef(m),v=Fe.useRef(void 0),x=Fe.useRef(t),w=Fe.useRef(r);g.current=m;const[I,O]=Fe.useState(()=>{const ae=t._getWatch(r,y.current);return g.current?g.current(ae):ae}),D=Fe.useCallback(ae=>{const se=Qp(r,t._names,ae||t._formValues,!1,y.current);return g.current?g.current(se):se},[t._formValues,t._names,r]),P=Fe.useCallback(ae=>{if(!l){const se=Qp(r,t._names,ae||t._formValues,!1,y.current);if(g.current){const z=g.current(se);Hs(z,v.current)||(O(z),v.current=z)}else O(se)}},[t._formValues,t._names,l,r]);Cv(()=>((x.current!==t||!Hs(w.current,r))&&(x.current=t,w.current=r,P()),t._subscribe({name:r,formState:{values:!0},exact:u,callback:ae=>{P(ae.values)}})),[t,u,r,P]),Fe.useEffect(()=>t._removeUnmounted());const B=x.current!==t,H=w.current,$=Fe.useMemo(()=>{if(l)return null;const ae=!B&&!Hs(H,r);return B||ae?D():null},[l,B,r,H,D]);return $!==null?$:I}function t3(n){const e=Av(),{name:t,disabled:r,control:a=e.control,shouldUnregister:l,defaultValue:u}=n,m=a1(a._names.array,t),y=Fe.useMemo(()=>ye(a._formValues,t,ye(a._defaultValues,t,u)),[a,t,u]),g=e3({control:a,name:t,defaultValue:y,exact:!0}),v=ZL({control:a,name:t,exact:!0}),x=Fe.useRef(n),w=Fe.useRef(void 0),I=Fe.useRef(a.register(t,{...n.rules,value:g,...os(n.disabled)?{disabled:n.disabled}:{}}));x.current=n;const O=Fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!ye(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!ye(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!ye(v.validatingFields,t)},error:{enumerable:!0,get:()=>ye(v.errors,t)}}),[v,t]),D=Fe.useCallback($=>I.current.onChange({target:{value:i1($),name:t},type:hf.CHANGE}),[t]),P=Fe.useCallback(()=>I.current.onBlur({target:{value:ye(a._formValues,t),name:t},type:hf.BLUR}),[t,a._formValues]),B=Fe.useCallback($=>{const ae=ye(a._fields,t);ae&&$&&(ae._f.ref={focus:()=>$.focus&&$.focus(),select:()=>$.select&&$.select(),setCustomValidity:se=>$.setCustomValidity(se),reportValidity:()=>$.reportValidity()})},[a._fields,t]),H=Fe.useMemo(()=>({name:t,value:g,...os(r)||v.disabled?{disabled:v.disabled||r}:{},onChange:D,onBlur:P,ref:B}),[t,r,v.disabled,D,P,B,g]);return Fe.useEffect(()=>{const $=a._options.shouldUnregister||l,ae=w.current;ae&&ae!==t&&!m&&a.unregister(ae),a.register(t,{...x.current.rules,...os(x.current.disabled)?{disabled:x.current.disabled}:{}});const se=(z,C)=>{const S=ye(a._fields,z);S&&S._f&&(S._f.mount=C)};if(se(t,!0),$){const z=an(ye(a._options.defaultValues,t,x.current.defaultValue));_t(a._defaultValues,t,z),jt(ye(a._formValues,t))&&_t(a._formValues,t,z)}return!m&&a.register(t),w.current=t,()=>{(m?$&&!a._state.action:$)?a.unregister(t):se(t,!1)}},[t,a,m,l]),Fe.useEffect(()=>{a._setDisabledField({disabled:r,name:t})},[r,t,a]),Fe.useMemo(()=>({field:H,formState:v,fieldState:O}),[H,v,O])}const hl=n=>n.render(t3(n));var n3=(n,e,t,r,a)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:a||!0}}:{},pu=n=>Array.isArray(n)?n:[n],sw=()=>{let n=[];return{get observers(){return n},next:a=>{for(const l of n)l.next&&l.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(l=>l!==a)}}),unsubscribe:()=>{n=[]}}};function c1(n,e){const t={};for(const r in n)if(n.hasOwnProperty(r)){const a=n[r],l=e[r];if(a&&sn(a)&&l){const u=c1(a,l);sn(u)&&(t[r]=u)}else n[r]&&(t[r]=l)}return t}var On=n=>sn(n)&&!Object.keys(n).length,Nv=n=>n.type==="file",Gs=n=>typeof n=="function",ff=n=>{if(!wv)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},u1=n=>n.type==="select-multiple",Rv=n=>n.type==="radio",s3=n=>Rv(n)||$u(n),vp=n=>ff(n)&&n.isConnected;function r3(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=jt(n)?r++:n[e[r++]];return n}function i3(n){for(const e in n)if(n.hasOwnProperty(e)&&!jt(n[e]))return!1;return!0}function Zt(n,e){const t=Array.isArray(e)?e:Qf(e)?[e]:Sv(e),r=t.length===1?n:r3(n,t),a=t.length-1,l=t[a];return r&&delete r[l],a!==0&&(sn(r)&&On(r)||Array.isArray(r)&&i3(r))&&Zt(n,t.slice(0,-1)),n}var a3=n=>{for(const e in n)if(Gs(n[e]))return!0;return!1};function d1(n){return Array.isArray(n)||sn(n)&&!a3(n)}function Xp(n,e={}){for(const t in n){const r=n[t];d1(r)?(e[t]=Array.isArray(r)?[]:{},Xp(r,e[t])):jt(r)||(e[t]=!0)}return e}function xl(n,e,t){t||(t=Xp(e));for(const r in n){const a=n[r];if(d1(a))jt(e)||Wp(t[r])?t[r]=Xp(a,Array.isArray(a)?[]:{}):xl(a,$n(e)?{}:e[r],t[r]);else{const l=e[r];t[r]=!Hs(a,l)}}return t}const rw={value:!1,isValid:!1},iw={value:!0,isValid:!0};var h1=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!jt(n[0].attributes.value)?jt(n[0].value)||n[0].value===""?iw:{value:n[0].value,isValid:!0}:iw:rw}return rw},f1=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>jt(n)?n:e?n===""?NaN:n&&+n:t&&us(n)?new Date(n):r?r(n):n;const aw={isValid:!1,value:null};var m1=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,aw):aw;function ow(n){const e=n.ref;return Nv(e)?e.files:Rv(e)?m1(n.refs).value:u1(e)?[...e.selectedOptions].map(({value:t})=>t):$u(e)?h1(n.refs).value:f1(jt(e.value)?n.ref.value:e.value,n)}var o3=(n,e,t,r)=>{const a={};for(const l of n){const u=ye(e,l);u&&_t(a,l,u._f)}return{criteriaMode:t,names:[...n],fields:a,shouldUseNativeValidation:r}},mf=n=>n instanceof RegExp,Zc=n=>jt(n)?n:mf(n)?n.source:sn(n)?mf(n.value)?n.value.source:n.value:n,lw=n=>({isOnSubmit:!n||n===qs.onSubmit,isOnBlur:n===qs.onBlur,isOnChange:n===qs.onChange,isOnAll:n===qs.all,isOnTouch:n===qs.onTouched});const cw="AsyncFunction";var l3=n=>!!n&&!!n.validate&&!!(Gs(n.validate)&&n.validate.constructor.name===cw||sn(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===cw)),c3=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),uw=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const yu=(n,e,t,r)=>{for(const a of t||Object.keys(n)){const l=ye(n,a);if(l){const{_f:u,...m}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],a)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(yu(m,e))break}else if(sn(m)&&yu(m,e))break}}};function dw(n,e,t){const r=ye(n,t);if(r||Qf(t))return{error:r,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),u=ye(e,l),m=ye(n,l);if(u&&!Array.isArray(u)&&t!==l)return{name:t};if(m&&m.type)return{name:l,error:m};if(m&&m.root&&m.root.type)return{name:`${l}.root`,error:m.root};a.pop()}return{name:t}}var u3=(n,e,t,r)=>{t(n);const{name:a,...l}=n;return On(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!r||qs.all))},d3=(n,e,t)=>!n||!e||n===e||pu(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),h3=(n,e,t,r,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||n):(t?r.isOnBlur:a.isOnBlur)?!n:(t?r.isOnChange:a.isOnChange)?n:!0,f3=(n,e)=>!Tv(ye(n,e)).length&&Zt(n,e),m3=(n,e,t)=>{const r=pu(ye(n,t));return _t(r,"root",e[t]),_t(n,t,r),n};function hw(n,e,t="validate"){if(us(n)||Array.isArray(n)&&n.every(us)||os(n)&&!n)return{type:t,message:us(n)?n:"",ref:e}}var fl=n=>sn(n)&&!mf(n)?n:{value:n,message:""},fw=async(n,e,t,r,a,l)=>{const{ref:u,refs:m,required:y,maxLength:g,minLength:v,min:x,max:w,pattern:I,validate:O,name:D,valueAsNumber:P,mount:B}=n._f,H=ye(t,D);if(!B||e.has(D))return{};const $=m?m[0]:u,ae=M=>{a&&$.reportValidity&&($.setCustomValidity(os(M)?"":M||""),$.reportValidity())},se={},z=Rv(u),C=$u(u),S=z||C,R=(P||Nv(u))&&jt(u.value)&&jt(H)||ff(u)&&u.value===""||H===""||Array.isArray(H)&&!H.length,U=n3.bind(null,D,r,se),j=(M,k,Te,Me=si.maxLength,J=si.minLength)=>{const he=M?k:Te;se[D]={type:M?Me:J,message:he,ref:u,...U(M?Me:J,he)}};if(l?!Array.isArray(H)||!H.length:y&&(!S&&(R||$n(H))||os(H)&&!H||C&&!h1(m).isValid||z&&!m1(m).isValid)){const{value:M,message:k}=us(y)?{value:!!y,message:y}:fl(y);if(M&&(se[D]={type:si.required,message:k,ref:$,...U(si.required,k)},!r))return ae(k),se}if(!R&&(!$n(x)||!$n(w))){let M,k;const Te=fl(w),Me=fl(x);if(!$n(H)&&!isNaN(H)){const J=u.valueAsNumber||H&&+H;$n(Te.value)||(M=J>Te.value),$n(Me.value)||(k=J<Me.value)}else{const J=u.valueAsDate||new Date(H),he=Ge=>new Date(new Date().toDateString()+" "+Ge),_e=u.type=="time",Ue=u.type=="week";us(Te.value)&&H&&(M=_e?he(H)>he(Te.value):Ue?H>Te.value:J>new Date(Te.value)),us(Me.value)&&H&&(k=_e?he(H)<he(Me.value):Ue?H<Me.value:J<new Date(Me.value))}if((M||k)&&(j(!!M,Te.message,Me.message,si.max,si.min),!r))return ae(se[D].message),se}if((g||v)&&!R&&(us(H)||l&&Array.isArray(H))){const M=fl(g),k=fl(v),Te=!$n(M.value)&&H.length>+M.value,Me=!$n(k.value)&&H.length<+k.value;if((Te||Me)&&(j(Te,M.message,k.message),!r))return ae(se[D].message),se}if(I&&!R&&us(H)){const{value:M,message:k}=fl(I);if(mf(M)&&!H.match(M)&&(se[D]={type:si.pattern,message:k,ref:u,...U(si.pattern,k)},!r))return ae(k),se}if(O){if(Gs(O)){const M=await O(H,t),k=hw(M,$);if(k&&(se[D]={...k,...U(si.validate,k.message)},!r))return ae(k.message),se}else if(sn(O)){let M={};for(const k in O){if(!On(M)&&!r)break;const Te=hw(await O[k](H,t),$,k);Te&&(M={...Te,...U(k,Te.message)},ae(Te.message),r&&(se[D]=M))}if(!On(M)&&(se[D]={ref:$,...M},!r))return se}}return ae(!0),se};const g3={mode:qs.onSubmit,reValidateMode:qs.onChange,shouldFocusError:!0};function p3(n={}){let e={...g3,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Gs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},a=sn(e.defaultValues)||sn(e.values)?an(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:an(a),u={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const w={array:sw(),state:sw()},I=e.criteriaMode===qs.all,O=L=>K=>{clearTimeout(g),g=setTimeout(L,K)},D=async L=>{if(!e.disabled&&(v.isValid||x.isValid||L)){const K=e.resolver?On((await C()).errors):await R(r,!0);K!==t.isValid&&w.state.next({isValid:K})}},P=(L,K)=>{!e.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((L||Array.from(m.mount)).forEach(te=>{te&&(K?_t(t.validatingFields,te,K):Zt(t.validatingFields,te))}),w.state.next({validatingFields:t.validatingFields,isValidating:!On(t.validatingFields)}))},B=(L,K=[],te,pe,ue=!0,de=!0)=>{if(pe&&te&&!e.disabled){if(u.action=!0,de&&Array.isArray(ye(r,L))){const we=te(ye(r,L),pe.argA,pe.argB);ue&&_t(r,L,we)}if(de&&Array.isArray(ye(t.errors,L))){const we=te(ye(t.errors,L),pe.argA,pe.argB);ue&&_t(t.errors,L,we),f3(t.errors,L)}if((v.touchedFields||x.touchedFields)&&de&&Array.isArray(ye(t.touchedFields,L))){const we=te(ye(t.touchedFields,L),pe.argA,pe.argB);ue&&_t(t.touchedFields,L,we)}(v.dirtyFields||x.dirtyFields)&&(t.dirtyFields=xl(a,l)),w.state.next({name:L,isDirty:j(L,K),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else _t(l,L,K)},H=(L,K)=>{_t(t.errors,L,K),w.state.next({errors:t.errors})},$=L=>{t.errors=L,w.state.next({errors:t.errors,isValid:!1})},ae=(L,K,te,pe)=>{const ue=ye(r,L);if(ue){const de=ye(l,L,jt(te)?ye(a,L):te);jt(de)||pe&&pe.defaultChecked||K?_t(l,L,K?de:ow(ue._f)):Te(L,de),u.mount&&!u.action&&D()}},se=(L,K,te,pe,ue)=>{let de=!1,we=!1;const Xe={name:L};if(!e.disabled){if(!te||pe){(v.isDirty||x.isDirty)&&(we=t.isDirty,t.isDirty=Xe.isDirty=j(),de=we!==Xe.isDirty);const Je=Hs(ye(a,L),K);we=!!ye(t.dirtyFields,L),Je?Zt(t.dirtyFields,L):_t(t.dirtyFields,L,!0),Xe.dirtyFields=t.dirtyFields,de=de||(v.dirtyFields||x.dirtyFields)&&we!==!Je}if(te){const Je=ye(t.touchedFields,L);Je||(_t(t.touchedFields,L,te),Xe.touchedFields=t.touchedFields,de=de||(v.touchedFields||x.touchedFields)&&Je!==te)}de&&ue&&w.state.next(Xe)}return de?Xe:{}},z=(L,K,te,pe)=>{const ue=ye(t.errors,L),de=(v.isValid||x.isValid)&&os(K)&&t.isValid!==K;if(e.delayError&&te?(y=O(()=>H(L,te)),y(e.delayError)):(clearTimeout(g),y=null,te?_t(t.errors,L,te):Zt(t.errors,L)),(te?!Hs(ue,te):ue)||!On(pe)||de){const we={...pe,...de&&os(K)?{isValid:K}:{},errors:t.errors,name:L};t={...t,...we},w.state.next(we)}},C=async L=>{P(L,!0);const K=await e.resolver(l,e.context,o3(L||m.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return P(L),K},S=async L=>{const{errors:K}=await C(L);if(L)for(const te of L){const pe=ye(K,te);pe?_t(t.errors,te,pe):Zt(t.errors,te)}else t.errors=K;return K},R=async(L,K,te={valid:!0})=>{for(const pe in L){const ue=L[pe];if(ue){const{_f:de,...we}=ue;if(de){const Xe=m.array.has(de.name),Je=ue._f&&l3(ue._f);Je&&v.validatingFields&&P([de.name],!0);const En=await fw(ue,m.disabled,l,I,e.shouldUseNativeValidation&&!K,Xe);if(Je&&v.validatingFields&&P([de.name]),En[de.name]&&(te.valid=!1,K))break;!K&&(ye(En,de.name)?Xe?m3(t.errors,En,de.name):_t(t.errors,de.name,En[de.name]):Zt(t.errors,de.name))}!On(we)&&await R(we,K,te)}}return te.valid},U=()=>{for(const L of m.unMount){const K=ye(r,L);K&&(K._f.refs?K._f.refs.every(te=>!vp(te)):!vp(K._f.ref))&&Be(L)}m.unMount=new Set},j=(L,K)=>!e.disabled&&(L&&K&&_t(l,L,K),!Hs(Ge(),a)),M=(L,K,te)=>Qp(L,m,{...u.mount?l:jt(K)?a:us(L)?{[L]:K}:K},te,K),k=L=>Tv(ye(u.mount?l:a,L,e.shouldUnregister?ye(a,L,[]):[])),Te=(L,K,te={})=>{const pe=ye(r,L);let ue=K;if(pe){const de=pe._f;de&&(!de.disabled&&_t(l,L,f1(K,de)),ue=ff(de.ref)&&$n(K)?"":K,u1(de.ref)?[...de.ref.options].forEach(we=>we.selected=ue.includes(we.value)):de.refs?$u(de.ref)?de.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(ue)?we.checked=!!ue.find(Xe=>Xe===we.value):we.checked=ue===we.value||!!ue)}):de.refs.forEach(we=>we.checked=we.value===ue):Nv(de.ref)?de.ref.value="":(de.ref.value=ue,de.ref.type||w.state.next({name:L,values:an(l)})))}(te.shouldDirty||te.shouldTouch)&&se(L,ue,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&Ue(L)},Me=(L,K,te)=>{for(const pe in K){if(!K.hasOwnProperty(pe))return;const ue=K[pe],de=L+"."+pe,we=ye(r,de);(m.array.has(L)||sn(ue)||we&&!we._f)&&!io(ue)?Me(de,ue,te):Te(de,ue,te)}},J=(L,K,te={})=>{const pe=ye(r,L),ue=m.array.has(L),de=an(K);_t(l,L,de),ue?(w.array.next({name:L,values:an(l)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&te.shouldDirty&&w.state.next({name:L,dirtyFields:xl(a,l),isDirty:j(L,de)})):pe&&!pe._f&&!$n(de)?Me(L,de,te):Te(L,de,te),uw(L,m)&&w.state.next({...t,name:L}),w.state.next({name:u.mount?L:void 0,values:an(l)})},he=async L=>{u.mount=!0;const K=L.target;let te=K.name,pe=!0;const ue=ye(r,te),de=Je=>{pe=Number.isNaN(Je)||io(Je)&&isNaN(Je.getTime())||Hs(Je,ye(l,te,Je))},we=lw(e.mode),Xe=lw(e.reValidateMode);if(ue){let Je,En;const Mr=K.type?ow(ue._f):i1(L),Xn=L.type===hf.BLUR||L.type===hf.FOCUS_OUT,To=!c3(ue._f)&&!e.resolver&&!ye(t.errors,te)&&!ue._f.deps||h3(Xn,ye(t.touchedFields,te),t.isSubmitted,Xe,we),Rn=uw(te,m,Xn);_t(l,te,Mr),Xn?(!K||!K.readOnly)&&(ue._f.onBlur&&ue._f.onBlur(L),y&&y(0)):ue._f.onChange&&ue._f.onChange(L);const zt=se(te,Mr,Xn),Ln=!On(zt)||Rn;if(!Xn&&w.state.next({name:te,type:L.type,values:an(l)}),To)return(v.isValid||x.isValid)&&(e.mode==="onBlur"?Xn&&D():Xn||D()),Ln&&w.state.next({name:te,...Rn?{}:zt});if(!Xn&&Rn&&w.state.next({...t}),e.resolver){const{errors:Tt}=await C([te]);if(de(Mr),pe){const So=dw(t.errors,r,te),Lr=dw(Tt,r,So.name||te);Je=Lr.error,te=Lr.name,En=On(Tt)}}else P([te],!0),Je=(await fw(ue,m.disabled,l,I,e.shouldUseNativeValidation))[te],P([te]),de(Mr),pe&&(Je?En=!1:(v.isValid||x.isValid)&&(En=await R(r,!0)));pe&&(ue._f.deps&&(!Array.isArray(ue._f.deps)||ue._f.deps.length>0)&&Ue(ue._f.deps),z(te,En,Je,zt))}},_e=(L,K)=>{if(ye(t.errors,K)&&L.focus)return L.focus(),1},Ue=async(L,K={})=>{let te,pe;const ue=pu(L);if(e.resolver){const de=await S(jt(L)?L:ue);te=On(de),pe=L?!ue.some(we=>ye(de,we)):te}else L?(pe=(await Promise.all(ue.map(async de=>{const we=ye(r,de);return await R(we&&we._f?{[de]:we}:we)}))).every(Boolean),!(!pe&&!t.isValid)&&D()):pe=te=await R(r);return w.state.next({...!us(L)||(v.isValid||x.isValid)&&te!==t.isValid?{}:{name:L},...e.resolver||!L?{isValid:te}:{},errors:t.errors}),K.shouldFocus&&!pe&&yu(r,_e,L?ue:m.mount),pe},Ge=(L,K)=>{let te={...u.mount?l:a};return K&&(te=c1(K.dirtyFields?t.dirtyFields:t.touchedFields,te)),jt(L)?te:us(L)?ye(te,L):L.map(pe=>ye(te,pe))},q=(L,K)=>({invalid:!!ye((K||t).errors,L),isDirty:!!ye((K||t).dirtyFields,L),error:ye((K||t).errors,L),isValidating:!!ye(t.validatingFields,L),isTouched:!!ye((K||t).touchedFields,L)}),oe=L=>{L&&pu(L).forEach(K=>Zt(t.errors,K)),w.state.next({errors:L?t.errors:{}})},me=(L,K,te)=>{const pe=(ye(r,L,{_f:{}})._f||{}).ref,ue=ye(t.errors,L)||{},{ref:de,message:we,type:Xe,...Je}=ue;_t(t.errors,L,{...Je,...K,ref:pe}),w.state.next({name:L,errors:t.errors,isValid:!1}),te&&te.shouldFocus&&pe&&pe.focus&&pe.focus()},ve=(L,K)=>Gs(L)?w.state.subscribe({next:te=>"values"in te&&L(M(void 0,K),te)}):M(L,K,!0),Re=L=>w.state.subscribe({next:K=>{d3(L.name,K.name,L.exact)&&u3(K,L.formState||v,Aa,L.reRenderRoot)&&L.callback({values:{...l},...t,...K,defaultValues:a})}}).unsubscribe,je=L=>(u.mount=!0,x={...x,...L.formState},Re({...L,formState:x})),Be=(L,K={})=>{for(const te of L?pu(L):m.mount)m.mount.delete(te),m.array.delete(te),K.keepValue||(Zt(r,te),Zt(l,te)),!K.keepError&&Zt(t.errors,te),!K.keepDirty&&Zt(t.dirtyFields,te),!K.keepTouched&&Zt(t.touchedFields,te),!K.keepIsValidating&&Zt(t.validatingFields,te),!e.shouldUnregister&&!K.keepDefaultValue&&Zt(a,te);w.state.next({values:an(l)}),w.state.next({...t,...K.keepDirty?{isDirty:j()}:{}}),!K.keepIsValid&&D()},Dt=({disabled:L,name:K})=>{(os(L)&&u.mount||L||m.disabled.has(K))&&(L?m.disabled.add(K):m.disabled.delete(K))},ft=(L,K={})=>{let te=ye(r,L);const pe=os(K.disabled)||os(e.disabled);return _t(r,L,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:L}},name:L,mount:!0,...K}}),m.mount.add(L),te?Dt({disabled:os(K.disabled)?K.disabled:e.disabled,name:L}):ae(L,!0,K.value),{...pe?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:Zc(K.min),max:Zc(K.max),minLength:Zc(K.minLength),maxLength:Zc(K.maxLength),pattern:Zc(K.pattern)}:{},name:L,onChange:he,onBlur:he,ref:ue=>{if(ue){ft(L,K),te=ye(r,L);const de=jt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,we=s3(de),Xe=te._f.refs||[];if(we?Xe.find(Je=>Je===de):de===te._f.ref)return;_t(r,L,{_f:{...te._f,...we?{refs:[...Xe.filter(vp),de,...Array.isArray(ye(a,L))?[{}]:[]],ref:{type:de.type,name:L}}:{ref:de}}}),ae(L,!1,void 0,de)}else te=ye(r,L,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(a1(m.array,L)&&u.action)&&m.unMount.add(L)}}},Is=()=>e.shouldFocusError&&yu(r,_e,m.mount),_i=L=>{os(L)&&(w.state.next({disabled:L}),yu(r,(K,te)=>{const pe=ye(r,te);pe&&(K.disabled=pe._f.disabled||L,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(ue=>{ue.disabled=pe._f.disabled||L}))},0,!1))},Pr=(L,K)=>async te=>{let pe;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let ue=an(l);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:de,values:we}=await C();t.errors=de,ue=an(we)}else await R(r);if(m.disabled.size)for(const de of m.disabled)Zt(ue,de);if(Zt(t.errors,"root"),On(t.errors)){w.state.next({errors:{}});try{await L(ue,te)}catch(de){pe=de}}else K&&await K({...t.errors},te),Is(),setTimeout(Is);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(t.errors)&&!pe,submitCount:t.submitCount+1,errors:t.errors}),pe)throw pe},xi=(L,K={})=>{ye(r,L)&&(jt(K.defaultValue)?J(L,an(ye(a,L))):(J(L,K.defaultValue),_t(a,L,an(K.defaultValue))),K.keepTouched||Zt(t.touchedFields,L),K.keepDirty||(Zt(t.dirtyFields,L),t.isDirty=K.defaultValue?j(L,an(ye(a,L))):j()),K.keepError||(Zt(t.errors,L),v.isValid&&D()),w.state.next({...t}))},Wn=(L,K={})=>{const te=L?an(L):a,pe=an(te),ue=On(L),de=ue?a:pe;if(K.keepDefaultValues||(a=te),!K.keepValues){if(K.keepDirtyValues){const we=new Set([...m.mount,...Object.keys(xl(a,l))]);for(const Xe of Array.from(we))ye(t.dirtyFields,Xe)?_t(de,Xe,ye(l,Xe)):J(Xe,ye(de,Xe))}else{if(wv&&jt(L))for(const we of m.mount){const Xe=ye(r,we);if(Xe&&Xe._f){const Je=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(ff(Je)){const En=Je.closest("form");if(En){En.reset();break}}}}if(K.keepFieldsRef)for(const we of m.mount)J(we,ye(de,we));else r={}}l=e.shouldUnregister?K.keepDefaultValues?an(a):{}:an(de),w.array.next({values:{...de}}),w.state.next({values:{...de}})}m={mount:K.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!K.keepIsValid||!!K.keepDirtyValues||!e.shouldUnregister&&!On(de),u.watch=!!e.shouldUnregister,w.state.next({submitCount:K.keepSubmitCount?t.submitCount:0,isDirty:ue?!1:K.keepDirty?t.isDirty:!!(K.keepDefaultValues&&!Hs(L,a)),isSubmitted:K.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ue?{}:K.keepDirtyValues?K.keepDefaultValues&&l?xl(a,l):t.dirtyFields:K.keepDefaultValues&&L?xl(a,L):K.keepDirty?t.dirtyFields:{},touchedFields:K.keepTouched?t.touchedFields:{},errors:K.keepErrors?t.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Ei=(L,K)=>Wn(Gs(L)?L(l):L,K),jr=(L,K={})=>{const te=ye(r,L),pe=te&&te._f;if(pe){const ue=pe.refs?pe.refs[0]:pe.ref;ue.focus&&(ue.focus(),K.shouldSelect&&Gs(ue.select)&&ue.select())}},Aa=L=>{t={...t,...L}},Nt={control:{register:ft,unregister:Be,getFieldState:q,handleSubmit:Pr,setError:me,_subscribe:Re,_runSchema:C,_focusError:Is,_getWatch:M,_getDirty:j,_setValid:D,_setFieldArray:B,_setDisabledField:Dt,_setErrors:$,_getFieldArray:k,_reset:Wn,_resetDefaultValues:()=>Gs(e.defaultValues)&&e.defaultValues().then(L=>{Ei(L,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:_i,_subjects:w,_proxyFormState:v,get _fields(){return r},get _formValues(){return l},get _state(){return u},set _state(L){u=L},get _defaultValues(){return a},get _names(){return m},set _names(L){m=L},get _formState(){return t},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:je,trigger:Ue,register:ft,handleSubmit:Pr,watch:ve,setValue:J,getValues:Ge,reset:Ei,resetField:xi,clearErrors:oe,unregister:Be,setError:me,setFocus:jr,getFieldState:q};return{...Nt,formControl:Nt}}function y3(n={}){const e=Fe.useRef(void 0),t=Fe.useRef(void 0),[r,a]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:Gs(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Gs(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!Gs(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:u,...m}=p3(n);e.current={...m,formState:r}}const l=e.current.control;return l._options=n,Cv(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(m=>({...m,isReady:!0})),l._formState.isReady=!0,u},[l]),Fe.useEffect(()=>l._disableForm(n.disabled),[l,n.disabled]),Fe.useEffect(()=>{n.mode&&(l._options.mode=n.mode),n.reValidateMode&&(l._options.reValidateMode=n.reValidateMode)},[l,n.mode,n.reValidateMode]),Fe.useEffect(()=>{n.errors&&(l._setErrors(n.errors),l._focusError())},[l,n.errors]),Fe.useEffect(()=>{n.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,n.shouldUnregister]),Fe.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==r.isDirty&&l._subjects.state.next({isDirty:u})}},[l,r.isDirty]),Fe.useEffect(()=>{var u;n.values&&!Hs(n.values,t.current)?(l._reset(n.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((u=l._options.resetOptions)===null||u===void 0)&&u.keepIsValid||l._setValid(),t.current=n.values,a(m=>({...m}))):l._resetDefaultValues()},[l,n.values]),Fe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=l1(r,l),e.current}const ml=[{id:"1",name:"Informaes Bsicas"},{id:"2",name:"Interesses"},{id:"3",name:"Foto de Perfil"},{id:"4",name:"Biografia"}],v3=()=>{const{control:n,handleSubmit:e,formState:{errors:t}}=y3({defaultValues:{displayName:"",birthDate:"",gender:"",bio:"",interests:[]}}),[r,a]=N.useState(0),[l,u]=N.useState(!1),[m,y]=N.useState(null),g=It(),[v,x]=Js(Lt),w=async D=>{if(u(!0),y(null),!v){y("Ocorreu um problema com a sesso. Faz login novamente."),u(!1);return}try{let P=null;const B=D.profilePicture?.[0];if(B){const $=PA(n1,`profile-images/${v.uid}/main.jpg`);await DA($,B),P=await OA($)}const H={userId:v.uid,accountType:"USER",displayName:D.displayName,birthDate:D.birthDate,gender:D.gender,bio:D.bio,mainPhotoUrl:P,interests:D.interests,createdAt:Yn(),updatedAt:Yn()};await gi(et(De,"profiles",v.uid),H,{merge:!0}),g("/singles")}catch(P){console.error("[ERROR ONBOARDING]",P);let B="Ocorreu um erro inesperado ao gravar o perfil. Tente novamente.";P instanceof Error&&(P.message.includes("storage/unauthorized")?B="Falha no upload da foto. Verifique as permisses ou tente outra foto.":B=P.message),y(B)}finally{u(!1)}},I=()=>{r<ml.length-1&&a(r+1)},O=()=>{r>0&&a(r-1)};return x?h.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:"A verificar sesso..."}):h.jsx("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-slate-50 py-12",children:h.jsxs("div",{className:"w-full max-w-lg px-6",children:[h.jsx("h1",{className:"text-4xl font-bold text-center mb-4 text-white",children:"Crie o seu Perfil"}),h.jsxs("p",{className:"text-center text-slate-400 mb-8",children:["Passo ",r+1," de ",ml.length,": ",ml[r].name]}),h.jsx("div",{className:"mb-8",children:h.jsx("div",{className:"bg-slate-700 rounded-full h-2",children:h.jsx("div",{className:"bg-rose-500 rounded-full h-2",style:{width:`${(r+1)/ml.length*100}%`}})})}),h.jsxs("form",{onSubmit:e(w),className:"space-y-6 bg-slate-900/80 p-8 rounded-lg border border-slate-700",children:[r===0&&h.jsxs("section",{children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Informaes Bsicas"}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium mb-1",children:"Nome de Exibio"}),h.jsx(hl,{name:"displayName",control:n,rules:{required:"O nome  obrigatrio"},render:({field:D})=>h.jsx("input",{id:"displayName",...D,className:"w-full bg-slate-800 border border-slate-600 rounded-md px-3 py-2"})}),t.displayName&&h.jsx("p",{className:"text-red-400 text-xs mt-1",children:t.displayName.message})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium mb-1",children:"Data de Nascimento"}),h.jsx(hl,{name:"birthDate",control:n,rules:{required:"A data de nascimento  obrigatria"},render:({field:D})=>h.jsx("input",{id:"birthDate",type:"date",...D,className:"w-full bg-slate-800 border border-slate-600 rounded-md px-3 py-2"})}),t.birthDate&&h.jsx("p",{className:"text-red-400 text-xs mt-1",children:t.birthDate.message})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium mb-1",children:"Gnero"}),h.jsx(hl,{name:"gender",control:n,rules:{required:"O gnero  obrigatrio"},render:({field:D})=>h.jsxs("select",{id:"gender",...D,className:"w-full bg-slate-800 border border-slate-600 rounded-md px-3 py-2",children:[h.jsx("option",{value:"",children:"Selecione..."}),h.jsx("option",{value:"woman",children:"Mulher"}),h.jsx("option",{value:"man",children:"Homem"}),h.jsx("option",{value:"other",children:"Outro"})]})}),t.gender&&h.jsx("p",{className:"text-red-400 text-xs mt-1",children:t.gender.message})]})]})]}),r===1&&h.jsxs("section",{children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Seus Interesses"}),h.jsx(hl,{name:"interests",control:n,render:({field:D})=>h.jsx("div",{className:"flex flex-wrap gap-2",children:FL.map(P=>h.jsx("button",{type:"button",onClick:()=>{const B=D.value.includes(P.id)?D.value.filter(H=>H!==P.id):[...D.value,P.id];D.onChange(B)},className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${D.value.includes(P.id)?"bg-rose-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:P.label},P.id))})})]}),r===2&&h.jsxs("section",{children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Foto de Perfil"}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"profilePicture",className:"block text-sm font-medium mb-1",children:"Foto de Perfil (Opcional)"}),h.jsx(hl,{name:"profilePicture",control:n,render:({field:{onChange:D,onBlur:P,name:B,ref:H}})=>h.jsx("input",{id:"profilePicture",type:"file",accept:"image/jpeg,image/png,image/webp",onChange:$=>D($.target.files),onBlur:P,name:B,ref:H,className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-rose-500/80 hover:file:bg-rose-600"})})]})]}),r===3&&h.jsxs("section",{children:[h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Biografia"}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium mb-1",children:"Sobre Mim (Bio)"}),h.jsx(hl,{name:"bio",control:n,rules:{maxLength:{value:500,message:"Mximo de 500 caracteres"}},render:({field:D})=>h.jsx("textarea",{id:"bio",...D,rows:4,className:"w-full bg-slate-800 border border-slate-600 rounded-md px-3 py-2"})}),t.bio&&h.jsx("p",{className:"text-red-400 text-xs mt-1",children:t.bio.message})]})]}),m&&h.jsx("p",{className:"mb-3 text-sm text-red-400 bg-red-900/30 border border-red-500/40 rounded-lg px-3 py-2 text-center",children:m}),h.jsxs("div",{className:"flex justify-between mt-8",children:[r>0&&h.jsx("button",{type:"button",onClick:O,className:"px-6 py-2 rounded-full font-semibold bg-slate-600 hover:bg-slate-500",children:"Anterior"}),r<ml.length-1&&h.jsx("button",{type:"button",onClick:I,className:"px-6 py-2 rounded-full font-semibold bg-rose-500 hover:bg-rose-600",children:"Prximo"}),r===ml.length-1&&h.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 rounded-full font-semibold text-lg transition-all transform disabled:opacity-50 disabled:cursor-not-allowed bg-rose-500 hover:bg-rose-600 active:bg-rose-700 shadow-[0_0_20px_rgba(244,63,94,0.6)]",children:l?"A gravar perfil...":"Guardar Perfil"})]})]})]})})};function Or(){const[n,e]=Js(Lt),[t,r]=N.useState(null),[a,l]=N.useState(!0),[u,m]=N.useState(null);return N.useEffect(()=>{if(e)return;if(!n){const g=setTimeout(()=>{r(null),l(!1)},0);return()=>clearTimeout(g)}const y=cv(et(De,"profiles",n.uid),g=>{g.exists()?r(g.data()):r(null),l(!1)},g=>{console.error("Error fetching current profile:",g),m(g),l(!1)});return()=>y()},[n,e]),{profile:t,loading:e||a,error:u}}const b3={"login.title":"Entrar","login.subtitle":"Aceda  sua conta","login.emailLabel":"Email","login.passwordLabel":"Palavra-passe","login.rememberMe":"Lembrar-me","login.forgotPassword":"Esqueceu-se da palavra-passe?","login.submitButton":"Entrar","login.loadingButton":"A entrar...","login.noAccount":"Ainda no tem conta?","login.registerLink":"Registar","header.explore":"Explorar","header.events":"Eventos","header.clubs":"Clubes","header.settings":"Definies","header.logout":"Sair","events.title":"Eventos","events.subtitle":"Descobre festas privadas, jantares soft e eventos exclusivos.","events.featuredTitle":"Eventos em Destaque","events.allEvents":"Todos os Eventos","events.searchPlaceholder":"Procurar por cidade ou ttulo...","events.filterRegion":"Regio","events.filterWhen":"Quando","events.filterWhenAll":"Todos","events.filterWhenThisMonth":"Este ms","events.filterWhenNextMonth":"Prximo ms","events.emptyState":"No foram encontrados eventos com os filtros selecionados.","events.loading":"A carregar eventos...","events.error":"Erro ao carregar eventos.","events.details":"Ver Detalhes","events.back":"Voltar aos eventos","events.notFound":"Evento no encontrado.","events.organizedBy":"Organizado por","events.participate":"Quero participar","events.save":"Guardar evento","profile.aboutTitle":"Sobre","profile.interestsTitle":"Interesses","profile.noInterests":"Ainda no adicionou interesses.","profile.actions.requestAccess":"Pedir acesso","profile.actions.sendMessage":"Enviar mensagem","profile.notFoundTitle":"Perfil no encontrado","profile.notFoundBackButton":"Voltar a Explorar","profile.loading":"A carregar perfil...","profile.location":"Localizao desconhecida","clubs.emptyState":"Ainda no foram adicionados clubes.","onboarding.single.title":"O seu Perfil","onboarding.single.subtitle":"Conte-nos um pouco sobre si.","onboarding.single.form.displayName":"Nome de Exibio","onboarding.single.form.displayName.placeholder":"ex: Alex","onboarding.single.form.realName":"Nome Completo","onboarding.single.form.realName.placeholder":"ex: Alex Silva","onboarding.single.form.about":"Sobre Si","onboarding.single.form.about.placeholder":"Descreva-se brevemente...","onboarding.single.form.location":"Localizao","onboarding.single.form.location.placeholder":"Cidade, Pas","onboarding.single.form.birthdate":"Data de Nascimento","onboarding.single.form.gender":"Gnero","onboarding.single.form.gender.male":"Masculino","onboarding.single.form.gender.female":"Feminino","onboarding.single.form.gender.other":"Outro","onboarding.single.form.interests":"Interesses","onboarding.single.form.interests.placeholder":"Selecione at 5 interesses","onboarding.single.form.profilePicture":"Foto de Perfil","onboarding.single.form.profilePicture.cta":"Carregar uma imagem","onboarding.single.form.photo.error.size":"A imagem deve ter no mximo 5MB.","onboarding.single.form.photo.required":"* Foto obrigatria","onboarding.single.form.submit":"Guardar e Continuar","onboarding.single.form.submitting":"A guardar...","onboarding.single.form.ageRange":"Faixa Etria","onboarding.single.form.city":"Cidade","onboarding.single.form.city.placeholder":"Ex: Lisboa","onboarding.single.form.region":"Regio","onboarding.single.form.region.placeholder":"Ex: Centro","onboarding.single.form.privacy.title":"Privacidade & Casais","onboarding.single.form.privacy.visibleToCouples.label":"Visvel para Casais","onboarding.single.form.privacy.visibleToCouples.description":"Permitir que casais vejam o teu perfil na rea de explorao.","onboarding.single.form.privacy.allowMessagesFromCouples.label":"Receber mensagens de Casais","onboarding.single.form.privacy.allowMessagesFromCouples.description":"Permitir que casais iniciem conversa contigo.","singles.home.title":"Singles","singles.home.subtitle":"Faz swipe, match e conversa com outros membros verificados.","singles.home.emptyDeck":"Ningum para mostrar agora ","singles.home.emptyDeckSubtitle":"Tenta atualizar as tuas preferncias, mudar filtros ou voltar mais tarde.","singles.home.ctaExplore":"Abrir Explorar","singles.home.ctaPreferences":"Editar Preferncias","singles.home.loading":"A carregar o teu deck...","singles.home.error":"No conseguimos carregar o teu deck. Por favor, tenta novamente.","singles.home.noMoreInDeck":"J viste toda a gente por agora.","singles.home.undoLast":"Desfazer ltimo swipe","singles.home.actions.like":"Gostar","singles.home.actions.pass":"Passar","singles.matches.title":"Matches","singles.matches.empty":"Ainda sem matches.","singles.matches.loading":"A carregar matches...","singles.matches.goSwipe":"Comear a fazer Swipe","singles.matches.listTitle":"Matches e Conversas","singles.matchOverlay.title":" um Match!","singles.matchOverlay.subtitle":"Tu e {name} gostaram um do outro.","singles.matchOverlay.chatButton":"Enviar Mensagem","singles.matchOverlay.keepPlaying":"Continuar a fazer Swipe","singles.chat.title":"Chat","singles.chat.backToMatches":"Voltar aos Matches","singles.chat.input.placeholder":"Escreve uma mensagem...","singles.chat.emptyState":"Ainda sem mensagens. Diz ol ","singles.chat.error.load":"Erro ao carregar o chat.","singles.chat.noAccess":"No tens permisso para ver este chat.","safety.block.button":"Bloquear Utilizador","safety.block.unblockButton":"Desbloquear Utilizador","safety.block.confirmTitle":"Bloquear Utilizador?","safety.block.confirmDescription":"Aps bloquear, deixars de ver esta pessoa nos matches ou chat.","safety.block.success":"Utilizador bloqueado.","safety.unblock.confirmTitle":"Desbloquear Utilizador?","safety.unblock.success":"Utilizador desbloqueado.","safety.report.profile.title":"Denunciar Perfil","safety.report.message.title":"Denunciar Mensagem","safety.report.reason.fakeProfile":"Perfil Falso","safety.report.reason.spam":"Spam ou Promoo Indesejada","safety.report.reason.harassment":"Assdio ou Comportamento Abusivo","safety.report.reason.inappropriate":"Contedo Inapropriado","safety.report.reason.illegal":"Contedo Ilegal","safety.report.reason.other":"Outro","safety.report.detailsLabel":"Explica (opcional)","safety.report.submit":"Enviar Denncia","safety.report.cancel":"Cancelar","safety.report.profile.success":"Obrigado. A tua denncia foi enviada.","safety.report.message.success":"Obrigado. A denncia da mensagem foi enviada.","safety.chat.blockedBanner":"Bloqueaste este utilizador. No podes enviar mensagens.","safety.chat.noAccess":"No tens permisso para ver este chat.","singles.preferences.title":"Preferncias","singles.preferences.subtitle":"Escolhe quem queres ver com mais frequncia.","singles.preferences.ageRanges.label":"Faixas Etrias","singles.preferences.genders.label":"Gnero(s) Preferido(s)","singles.preferences.region.label":"Regio Preferida","singles.preferences.region.placeholder":"ex: Lisboa, Norte","singles.preferences.preferSameRegion":"Preferir perfis da minha regio","singles.preferences.interests.label":"Interesses Preferidos","singles.preferences.onlyVerified":"Apenas perfis verificados","singles.preferences.onlyWithPhoto":"Apenas perfis com foto","singles.preferences.autoApply.explore":"Aplicar estes filtros na pgina Explorar","singles.preferences.autoApply.swipe":"Aplicar estes filtros no deck de Swipe","singles.preferences.saveButton":"Guardar Preferncias","singles.preferences.saving":"A guardar...","singles.preferences.saveSuccess":"Preferncias guardadas.","singles.preferences.saveError":"Erro ao guardar preferncias.","singles.explore.title":"Explorar Singles","singles.explore.subtitle":"Filtra e descobre novas pessoas.","singles.explore.filters.clear":"Limpar filtros","singles.explore.filters.apply":"Aplicar","singles.explore.empty":"No foram encontrados perfis com estes filtros.","singles.explore.loading":"A carregar perfis...","singles.explore.error":"Erro ao carregar perfis.","gender.female":"Feminino","gender.male":"Masculino","gender.nonBinary":"No-binrio","ageRange.UNDER_30":"18 - 29","ageRange.AGE_30_39":"30 - 39","ageRange.AGE_40_49":"40 - 49","ageRange.AGE_50_59":"50 - 59","ageRange.AGE_60_PLUS":"60+","settings.title":"Definies","settings.tab.account":"Conta","settings.tab.privacy":"Privacidade e Visibilidade","settings.tab.security":"Segurana e Bloqueio","settings.account.title":"Definies da Conta","settings.account.language.label":"Idioma da App","settings.account.location.title":"Localizao","settings.account.country":"Pas","settings.account.region":"Regio","settings.account.city":"Cidade","settings.account.save":"Guardar Alteraes","settings.account.saving":"A guardar...","settings.account.saveSuccess":"Definies da conta guardadas.","settings.account.saveError":"Erro ao guardar definies da conta.","settings.account.logout":"Sair","settings.privacy.title":"Privacidade e Visibilidade","settings.privacy.whereAppear.title":"Onde posso aparecer?","settings.privacy.visibleInExplore":"Aparecer na pesquisa e Explorar (Casais)","settings.privacy.visibleInSingles":"Aparecer na rea de Singles (Swipe e Explorar)","settings.privacy.location.title":"Exibio da Localizao","settings.privacy.showCountry":"Mostrar pas","settings.privacy.showRegion":"Mostrar regio","settings.privacy.showCity":"Mostrar cidade","settings.privacy.hideExactLocation":"Ocultar detalhes exatos da localizao","settings.privacy.messages.title":"Quem me pode enviar mensagens?","settings.privacy.allowMessagesFromMatchesOnly":"Permitir novos chats apenas de matches","settings.privacy.allowMessagesFromSingles":"Permitir mensagens de Singles","settings.privacy.allowMessagesFromCouples":"Permitir mensagens de Casais","settings.privacy.photos.title":"Fotos e Discrio","settings.privacy.blurPhotosForStrangers":"Desfocar fotos para utilizadores sem match","settings.privacy.save":"Guardar Privacidade","settings.privacy.saving":"A guardar...","settings.privacy.saveSuccess":"Definies de privacidade guardadas.","settings.privacy.saveError":"Erro ao guardar definies de privacidade.","settings.security.title":"Segurana e Bloqueio","settings.security.tips.title":"Dicas de Segurana","settings.security.tips.adultOnly":"Esta app  estritamente para maiores de 18 anos.","settings.security.tips.consent":"Qualquer encontro deve ser livremente consentido por todas as partes.","settings.security.tips.discretion":"Proteja a sua identidade: evite partilhar dados pessoais sensveis inicialmente.","settings.security.tips.photos":"No partilhe contedo ilegal, no consensual ou envolvendo menores.","settings.security.tips.showOnLogin":"Mostrar estas dicas ao entrar","settings.security.blocked.title":"Perfis Bloqueados","settings.security.blocked.empty":"Ainda no bloqueou ningum.","settings.security.blocked.unblock":"Desbloquear","settings.security.blocked.info":"Pode bloquear ou denunciar utilizadores a partir do perfil ou chat.","settings.security.saveError":"Erro ao atualizar definies de segurana.","settings.messaging.restricted.matchesOnly":"Este utilizador aceita apenas mensagens de matches.","settings.messaging.restricted.typeNotAllowed":"Este utilizador no aceita novas mensagens deste tipo de perfil.","mock.clubs.club_1.description":"Um espao acolhedor e discreto no corao de Lisboa para casais e singles selecionados. Ambiente premium e eventos temticos semanais.","mock.clubs.club_2.description":"O seu refgio de vero no Algarve, com festas ao ar livre, piscina e uma vista deslumbrante ao pr do sol. S para casais.","mock.clubs.club_3.description":"A melhor casa de encontros no Porto, com trs andares, salas temticas e um bar vibrante. Aberto a todos os tipos de perfis.","mock.clubs.club_4.description":"Discreto e sofisticado no corao do Alentejo. Um local para explorar e relaxar, com eventos culturais e workshops.","mock.clubs.club_5.description":"Um local para se perder na magia da noite, com msica ao vivo e performances. Ambiente divertido e descontrado.","mock.clubs.club_6.description":"Escondido no centro histrico de Braga, um clube com noites temticas e um pblico fiel. Aberto a novos membros.","mock.clubs.club_7.description":"Explore novas aventuras no paraso dos Aores. Um clube para quem gosta de natureza e de noites diferentes.","mock.clubs.club_8.description":"Um toque extico na ilha da Madeira, com cocktails tropicais e um ambiente vibrante. Eventos especiais todo o ano.","mock.clubs.club_9.description":"A beleza de Aveiro espelhada num clube para encontros romnticos e noites especiais. Perto dos canais.","mock.clubs.club_10.description":"O luxo e a sofisticao definem este clube no centro de Lisboa. Servio exclusivo e ambiente de elite.","mock.events.evt1.title":"Festa Privada na Piscina","mock.events.evt1.description":"Uma noite exclusiva com msica, cocktails e boa companhia  beira da piscina.","mock.events.evt2.title":"Noite de Mscaras","mock.events.evt2.description":"Descubra o mistrio e a seduo numa noite de mscaras elegante e cheia de surpresas.","mock.events.evt3.title":"Jantar e Convvio Soft","mock.events.evt3.description":"Um encontro descontrado para conhecer novos casais e partilhar experincias num ambiente relaxado.","mock.events.evt4.title":"Workshop de Sensualidade","mock.events.evt4.description":"Explore a sua sensualidade e a do seu parceiro(a) num workshop divertido e educativo.","mock.profiles.1.description":"Somos um casal divertido e cmplice  procura de novas amizades e experincias. Gostamos de conversar, rir e aproveitar a vida.","mock.profiles.2.description":"Casal jovem e dinmico do Porto. Adoramos sair  noite e conhecer pessoas com boa energia.","mock.profiles.3.description":"Casal experiente e discreto. Valorizamos a educao, a elegncia e momentos de qualidade.","mock.profiles.4.description":"Espritos livres no sul do pas. Procuramos conexes autnticas e descomplicadas.","mock.profiles.5.description":"Casal geek  procura de sair da rotina e explorar novos horizontes.","mock.profiles.6.description":"Casal maduro com esprito jovem. Gostamos de convvos animados.","mock.profiles.7.description":"Adoramos a beleza e a arte em todas as suas formas.  procura de casais com sensibilidade artstica.","mock.profiles.8.description":"A viver a vida ao mximo na nossa ilha. Gostamos de receber bem e de boas conversas.","mock.profiles.9.description":"Casal fit que adora treinar e relaxar depois. Procuramos casais com estilo de vida saudvel.","mock.profiles.10.description":"A calma do Alentejo corre-nos nas veias, mas gostamos de agitao de vez em quando.","mock.profiles.11.description":"Independente e ousada. Gosto de homens cavalheiros e casais respeitadores.","mock.profiles.12.description":"Esprito livre  procura de boas energias e conexes profundas.","mock.profiles.13.description":"Madura, segura e divertida. Adoro a noite algarvia.","mock.profiles.14.description":"Empresrio focado, mas que sabe aproveitar os tempos livres com qualidade.","mock.profiles.15.description":"Simptico e respeitador. Gosto de conhecer pessoas novas sem presses.","settings.account.feedback.notImplemented":"{featureName}  funcionalidade a ser implementada.","errors.generic":"Ocorreu um erro inesperado. Por favor, tente novamente.","errors.auth.invalid_credential":"Email ou palavra-passe invlidos.","errors.auth.too_many_requests":"Acesso bloqueado temporariamente devido a demasiadas tentativas. Tente mais tarde.","errors.auth.network_request_failed":"No foi possvel ligar aos nossos servidores. Verifique a sua ligao  internet.","errors.auth.email_in_use":"Este email j est registado. Por favor, tente fazer login.","errors.auth.weak_password":"A palavra-passe  demasiado fraca. Use pelo menos 8 caracteres.","errors.auth.invalid_email":"O formato do email  invlido.","errors.storage.unauthorized":"No tem permisso para carregar esta imagem. Verifique se est autenticado.","errors.storage.cors_or_bucket_error":"No foi possvel carregar a imagem. O servio de armazenamento pode estar mal configurado ou indisponvel (CORS/Billing).","errors.storage.generic":"Ocorreu um erro ao carregar a imagem.","errors.firestore.permission_denied":"No tem permisso para guardar estes dados.","onboarding.photo.upload_error":"A foto no pde ser carregada, mas pode continuar. Pode tentar adicionar uma mais tarde no seu perfil."},_3={"login.title":"Login","login.subtitle":"Access your account","login.emailLabel":"Email","login.passwordLabel":"Password","login.rememberMe":"Remember me","login.forgotPassword":"Forgot your password?","login.submitButton":"Login","login.loadingButton":"Logging in...","login.noAccount":"Don't have an account yet?","login.registerLink":"Register","header.explore":"Explore","header.events":"Events","header.clubs":"Clubs","header.settings":"Settings","header.logout":"Logout","events.title":"Events","events.subtitle":"Discover private parties, soft dinners, and exclusive events.","events.featuredTitle":"Featured Events","events.allEvents":"All Events","events.searchPlaceholder":"Search by city or title...","events.filterRegion":"Region","events.filterWhen":"When","events.filterWhenAll":"All","events.filterWhenThisMonth":"This month","events.filterWhenNextMonth":"Next month","events.emptyState":"No events found matching your filters.","events.loading":"Loading events...","events.error":"Error loading events.","events.details":"View Details","events.back":"Back to events","events.notFound":"Event not found.","events.organizedBy":"Organized by","events.participate":"I want to go","events.save":"Save event","profile.aboutTitle":"About","profile.interestsTitle":"Interests","profile.noInterests":"No interests added yet.","profile.actions.requestAccess":"Request Access","profile.actions.sendMessage":"Send Message","profile.notFoundTitle":"Profile not found","profile.notFoundBackButton":"Back to Explore","profile.loading":"Loading profile...","profile.location":"Location unknown","clubs.emptyState":"No clubs have been added yet.","onboarding.single.title":"Your Profile","onboarding.single.subtitle":"Tell us a bit about yourself.","onboarding.single.form.displayName":"Display Name","onboarding.single.form.displayName.placeholder":"e.g., Alex","onboarding.single.form.realName":"Full Name","onboarding.single.form.realName.placeholder":"e.g., Alex Smith","onboarding.single.form.about":"About You","onboarding.single.form.about.placeholder":"Describe yourself briefly...","onboarding.single.form.location":"Location","onboarding.single.form.location.placeholder":"City, Country","onboarding.single.form.birthdate":"Birthdate","onboarding.single.form.gender":"Gender","onboarding.single.form.gender.male":"Male","onboarding.single.form.gender.female":"Female","onboarding.single.form.gender.other":"Other","onboarding.single.form.interests":"Interests","onboarding.single.form.interests.placeholder":"Select up to 5 interests","onboarding.single.form.profilePicture":"Profile Picture","onboarding.single.form.profilePicture.cta":"Upload an image","onboarding.single.form.photo.error.size":"Image must be at most 5MB.","onboarding.single.form.photo.required":"* Photo required","onboarding.single.form.submit":"Save and Continue","onboarding.single.form.submitting":"Saving...","onboarding.single.form.ageRange":"Age Range","onboarding.single.form.city":"City","onboarding.single.form.city.placeholder":"e.g., Lisbon","onboarding.single.form.region":"Region","onboarding.single.form.region.placeholder":"e.g., Center","onboarding.single.form.privacy.title":"Privacy & Couples","onboarding.single.form.privacy.visibleToCouples.label":"Visible to Couples","onboarding.single.form.privacy.visibleToCouples.description":"Allow couples to see your profile in the explore area.","onboarding.single.form.privacy.allowMessagesFromCouples.label":"Receive messages from Couples","onboarding.single.form.privacy.allowMessagesFromCouples.description":"Allow couples to start a conversation with you.","singles.home.title":"Singles","singles.home.subtitle":"Swipe, match and chat with other verified members.","singles.home.emptyDeck":"No one to show right now ","singles.home.emptyDeckSubtitle":"Try updating your preferences, changing filters or checking again later.","singles.home.ctaExplore":"Open explore","singles.home.ctaPreferences":"Edit preferences","singles.home.loading":"Loading your deck...","singles.home.error":"We couldn't load your deck. Please try again.","singles.home.noMoreInDeck":"Youve seen everyone for now.","singles.home.undoLast":"Undo last swipe","singles.home.actions.like":"Like","singles.home.actions.pass":"Pass","singles.matches.title":"Matches","singles.matches.empty":"No matches yet.","singles.matches.loading":"Loading matches...","singles.matches.goSwipe":"Start Swiping","singles.matches.listTitle":"Matches & Conversations","singles.matchOverlay.title":"It's a Match!","singles.matchOverlay.subtitle":"You and {name} liked each other.","singles.matchOverlay.chatButton":"Send a Message","singles.matchOverlay.keepPlaying":"Keep Swiping","singles.chat.title":"Chat","singles.chat.backToMatches":"Back to Matches","singles.chat.input.placeholder":"Type a message...","singles.chat.emptyState":"No messages yet. Say hello ","singles.chat.error.load":"Error loading chat.","singles.chat.noAccess":"You do not have permission to view this chat.","safety.block.button":"Block User","safety.block.unblockButton":"Unblock User","safety.block.confirmTitle":"Block User?","safety.block.confirmDescription":"After blocking, you will no longer see this person in matches or chat.","safety.block.success":"User blocked.","safety.unblock.confirmTitle":"Unblock User?","safety.unblock.success":"User unblocked.","safety.report.profile.title":"Report Profile","safety.report.message.title":"Report Message","safety.report.reason.fakeProfile":"Fake Profile","safety.report.reason.spam":"Spam or Unwanted Promotion","safety.report.reason.harassment":"Harassment or Abusive Behavior","safety.report.reason.inappropriate":"Inappropriate Content","safety.report.reason.illegal":"Illegal Content","safety.report.reason.other":"Other","safety.report.detailsLabel":"Explain (optional)","safety.report.submit":"Submit Report","safety.report.cancel":"Cancel","safety.report.profile.success":"Thank you. Your report has been submitted.","safety.report.message.success":"Thank you. The message report has been submitted.","safety.chat.blockedBanner":"You have blocked this user. You cannot send messages.","safety.chat.noAccess":"You do not have permission to view this chat.","singles.preferences.title":"Preferences","singles.preferences.subtitle":"Choose who you want to see more often.","singles.preferences.ageRanges.label":"Age Ranges","singles.preferences.genders.label":"Preferred Gender(s)","singles.preferences.region.label":"Preferred Region","singles.preferences.region.placeholder":"e.g., Lisbon, North","singles.preferences.preferSameRegion":"Prefer profiles from my region","singles.preferences.interests.label":"Preferred Interests","singles.preferences.onlyVerified":"Verified profiles only","singles.preferences.onlyWithPhoto":"Profiles with photo only","singles.preferences.autoApply.explore":"Apply these filters to Explore page","singles.preferences.autoApply.swipe":"Apply these filters to Swipe deck","singles.preferences.saveButton":"Save Preferences","singles.preferences.saving":"Saving...","singles.preferences.saveSuccess":"Preferences saved.","singles.preferences.saveError":"Error saving preferences.","singles.explore.title":"Explore Singles","singles.explore.subtitle":"Filter and discover new people.","singles.explore.filters.clear":"Clear filters","singles.explore.filters.apply":"Apply","singles.explore.empty":"No profiles found with these filters.","singles.explore.loading":"Loading profiles...","singles.explore.error":"Error loading profiles.","gender.female":"Female","gender.male":"Male","gender.nonBinary":"Non-binary","ageRange.UNDER_30":"18 - 29","ageRange.AGE_30_39":"30 - 39","ageRange.AGE_40_49":"40 - 49","ageRange.AGE_50_59":"50 - 59","ageRange.AGE_60_PLUS":"60+","settings.title":"Settings","settings.tab.account":"Account","settings.tab.privacy":"Privacy & Visibility","settings.tab.security":"Security & Blocking","settings.account.title":"Account Settings","settings.account.language.label":"App Language","settings.account.location.title":"Location","settings.account.country":"Country","settings.account.region":"Region","settings.account.city":"City","settings.account.save":"Save Changes","settings.account.saving":"Saving...","settings.account.saveSuccess":"Account settings saved.","settings.account.saveError":"Error saving account settings.","settings.account.logout":"Logout","settings.privacy.title":"Privacy & Visibility","settings.privacy.whereAppear.title":"Where can I appear?","settings.privacy.visibleInExplore":"Appear in search & Explore (Couples)","settings.privacy.visibleInSingles":"Appear in Singles area (Swipe & Explore)","settings.privacy.location.title":"Location Display","settings.privacy.showCountry":"Show country","settings.privacy.showRegion":"Show region","settings.privacy.showCity":"Show city","settings.privacy.hideExactLocation":"Hide exact location details","settings.privacy.messages.title":"Who can message me?","settings.privacy.allowMessagesFromMatchesOnly":"Only allow new chats from matches","settings.privacy.allowMessagesFromSingles":"Allow messages from Singles","settings.privacy.allowMessagesFromCouples":"Allow messages from Couples","settings.privacy.photos.title":"Photos & Discretion","settings.privacy.blurPhotosForStrangers":"Blur photos for users without match","settings.privacy.save":"Save Privacy","settings.privacy.saving":"Saving...","settings.privacy.saveSuccess":"Privacy settings saved.","settings.privacy.saveError":"Error saving privacy settings.","settings.security.title":"Security & Blocking","settings.security.tips.title":"Safety Tips","settings.security.tips.adultOnly":"This app is strictly for users over 18.","settings.security.tips.consent":"Any encounter must be freely consented to by all parties.","settings.security.tips.discretion":"Protect your identity: avoid sharing sensitive personal data initially.","settings.security.tips.photos":"Do not share illegal content, non-consensual content, or content involving minors.","settings.security.tips.showOnLogin":"Show these tips on login","settings.security.blocked.title":"Blocked Profiles","settings.security.blocked.empty":"You haven't blocked anyone yet.","settings.security.blocked.unblock":"Unblock","settings.security.blocked.info":"You can block or report users from their profile or chat.","settings.security.saveError":"Error updating security settings.","settings.messaging.restricted.matchesOnly":"This user only accepts messages from matches.","settings.messaging.restricted.typeNotAllowed":"This user is not accepting new messages from this profile type.","mock.clubs.club_1.description":"A cozy and discreet space in the heart of Lisbon for selected couples and singles. Premium atmosphere and weekly themed events.","mock.clubs.club_2.description":"Your summer retreat in the Algarve, with outdoor parties, a pool, and a breathtaking sunset view. Couples only.","mock.clubs.club_3.description":"The best meeting house in Porto, with three floors, themed rooms, and a vibrant bar. Open to all profile types.","mock.clubs.club_4.description":"Discreet and sophisticated in the heart of Alentejo. A place to explore and relax, with cultural events and workshops.","mock.clubs.club_5.description":"A place to get lost in the magic of the night, with live music and performances. Fun and relaxed atmosphere.","mock.clubs.club_6.description":"Hidden in the historic center of Braga, a club with themed nights and a loyal crowd. Open to new members.","mock.clubs.club_7.description":"Explore new adventures in the paradise of the Azores. A club for those who love nature and different nights.","mock.clubs.club_8.description":"An exotic touch on the island of Madeira, with tropical cocktails and a vibrant atmosphere. Special events all year round.","mock.clubs.club_9.description":"The beauty of Aveiro reflected in a club for romantic encounters and special nights. Close to the canals.","mock.clubs.club_10.description":"Luxury and sophistication define this club in central Lisbon. Exclusive service and elite atmosphere.","mock.events.evt1.title":"Private Pool Party","mock.events.evt1.description":"An exclusive night with music, cocktails, and good company by the pool.","mock.events.evt2.title":"Masquerade Night","mock.events.evt2.description":"Discover mystery and seduction in an elegant masquerade night full of surprises.","mock.events.evt3.title":"Soft Dinner & Social","mock.events.evt3.description":"A relaxed gathering to meet new couples and share experiences in a laid-back environment.","mock.events.evt4.title":"Sensuality Workshop","mock.events.evt4.description":"Explore your sensuality and that of your partner in a fun and educational workshop.","mock.profiles.1.description":"We are a fun and complicit couple looking for new friendships and experiences. We like to talk, laugh, and enjoy life.","mock.profiles.2.description":"Young and dynamic couple from Porto. We love going out at night and meeting people with good energy.","mock.profiles.3.description":"Experienced and discreet couple. We value education, elegance, and quality moments.","mock.profiles.4.description":"Free spirits in the south of the country. We look for authentic and uncomplicated connections.","mock.profiles.5.description":"Geek couple looking to break the routine and explore new horizons.","mock.profiles.6.description":"Mature couple with a young spirit. We like lively gatherings.","mock.profiles.7.description":"We love beauty and art in all its forms. Looking for couples with artistic sensibility.","mock.profiles.8.description":"Living life to the fullest on our island. We like to host well and have good conversations.","mock.profiles.9.description":"Fit couple who loves to train and relax afterwards. Looking for couples with a healthy lifestyle.","mock.profiles.10.description":"The calm of Alentejo runs in our veins, but we like excitement every now and then.","mock.profiles.11.description":"Independent and bold. I like gentlemanly men and respectful couples.","mock.profiles.12.description":"Free spirit looking for good vibes and deep connections.","mock.profiles.13.description":"Mature, secure, and fun. I love the Algarve nightlife.","mock.profiles.14.description":"Focused businessman, but who knows how to enjoy free time with quality.","mock.profiles.15.description":"Friendly and respectful. I like meeting new people without pressure.","settings.account.feedback.notImplemented":"{featureName}  feature to be implemented.","errors.generic":"An unexpected error occurred. Please try again.","errors.auth.invalid_credential":"Invalid email or password.","errors.auth.too_many_requests":"Access has been temporarily blocked due to too many attempts. Please try again later.","errors.auth.network_request_failed":"Could not connect to our servers. Please check your internet connection.","errors.auth.email_in_use":"This email is already registered. Please try to log in.","errors.auth.weak_password":"The password is too weak. Please use at least 8 characters.","errors.auth.invalid_email":"The email format is invalid.","errors.storage.unauthorized":"You do not have permission to upload this image. Please ensure you are logged in.","errors.storage.cors_or_bucket_error":"Could not upload the image. The storage service may be misconfigured or unavailable (CORS/Billing).","errors.storage.generic":"An error occurred while uploading the image.","errors.firestore.permission_denied":"You do not have permission to save this data.","onboarding.photo.upload_error":"The photo could not be uploaded, but you can proceed. You can try adding one later in your profile."},x3={"login.title":"Iniciar Sesin","login.subtitle":"Accede a tu cuenta","login.emailLabel":"Correo Electrnico","login.passwordLabel":"Contrasea","login.rememberMe":"Recurdame","login.forgotPassword":"Olvidaste tu contrasea?","login.submitButton":"Iniciar Sesin","login.loadingButton":"Iniciando sesin...","login.noAccount":"An no tienes cuenta?","login.registerLink":"Regstrate","login.error.invalidCredentials":"Correo electrnico o contrasea no vlidos. Por favor, intntalo de nuevo.","login.error.tooManyRequests":"El acceso a esta cuenta ha sido deshabilitado temporalmente debido a demasiados intentos fallidos de inicio de sesin. Puedes restaurarlo restableciendo tu contrasea o puedes intentarlo de nuevo ms tarde.","login.error.generic":"Ocurri un error desconocido. Por favor, intntalo de nuevo.","header.explore":"Explorar","header.events":"Eventos","header.clubs":"Clubes","header.settings":"Ajustes","header.logout":"Cerrar Sesin","events.title":"Eventos","events.subtitle":"Descubre fiestas privadas, cenas suaves y eventos exclusivos.","events.featuredTitle":"Eventos Destacados","events.allEvents":"Todos los Eventos","events.searchPlaceholder":"Buscar por ciudad o ttulo...","events.filterRegion":"Regin","events.filterWhen":"Cundo","events.filterWhenAll":"Todos","events.filterWhenThisMonth":"Este mes","events.filterWhenNextMonth":"Prximo mes","events.emptyState":"No se encontraron eventos que coincidan con tus filtros.","events.loading":"Cargando eventos...","events.error":"Error al cargar eventos.","events.details":"Ver Detalles","events.back":"Volver a eventos","events.notFound":"Evento no encontrado.","events.organizedBy":"Organizado por","events.participate":"Quiero ir","events.save":"Guardar evento","profile.aboutTitle":"Sobre","profile.interestsTitle":"Intereses","profile.noInterests":"An no se han aadido intereses.","profile.actions.requestAccess":"Solicitar Acceso","profile.actions.sendMessage":"Enviar Mensaje","profile.notFoundTitle":"Perfil no encontrado","profile.notFoundBackButton":"Volver a Explorar","profile.loading":"Cargando perfil...","profile.location":"Ubicacin desconocida","clubs.emptyState":"An no se han aadido clubes.","onboarding.single.title":"Tu Perfil","onboarding.single.subtitle":"Cuntanos un poco sobre ti.","onboarding.single.form.displayName":"Nombre de Usuario","onboarding.single.form.displayName.placeholder":"p.ej., Alex","onboarding.single.form.realName":"Nombre Completo","onboarding.single.form.realName.placeholder":"p.ej., Alex Smith","onboarding.single.form.about":"Sobre Ti","onboarding.single.form.about.placeholder":"Descrbete brevemente...","onboarding.single.form.location":"Ubicacin","onboarding.single.form.location.placeholder":"Ciudad, Pas","onboarding.single.form.birthdate":"Fecha de Nacimiento","onboarding.single.form.gender":"Gnero","onboarding.single.form.gender.male":"Masculino","onboarding.single.form.gender.female":"Femenino","onboarding.single.form.gender.other":"Otro","onboarding.single.form.interests":"Intereses","onboarding.single.form.interests.placeholder":"Selecciona hasta 5 intereses","onboarding.single.form.profilePicture":"Foto de Perfil","onboarding.single.form.profilePicture.cta":"Subir una imagen","onboarding.single.form.photo.error.size":"La imagen debe tener un tamao mximo de 5MB.","onboarding.single.form.photo.required":"* Foto requerida","onboarding.single.form.error.noAuth":"Usuario no autenticado.","onboarding.single.form.error.requiredFields":"Por favor, rellena todos los campos obligatorios y aade una foto.","onboarding.single.form.error.generic":"Ocurri un error al crear el perfil. Por favor, intntalo de nuevo.","onboarding.single.form.submit":"Guardar y Continuar","onboarding.single.form.submitting":"Guardando...","onboarding.single.form.ageRange":"Rango de Edad","onboarding.single.form.city":"Ciudad","onboarding.single.form.city.placeholder":"p.ej., Madrid","onboarding.single.form.region":"Regin","onboarding.single.form.region.placeholder":"p.ej., Centro","onboarding.single.form.privacy.title":"Privacidad & Parejas","onboarding.single.form.privacy.visibleToCouples.label":"Visible para Parejas","onboarding.single.form.privacy.visibleToCouples.description":"Permitir que las parejas vean tu perfil en el rea de exploracin.","onboarding.single.form.privacy.allowMessagesFromCouples.label":"Recibir mensajes de Parejas","onboarding.single.form.privacy.allowMessagesFromCouples.description":"Permitir que las parejas inicien una conversacin contigo.","singles.home.title":"Singles","singles.home.subtitle":"Desliza, haz match y chatea con otros miembros verificados.","singles.home.emptyDeck":"Nadie para mostrar ahora ","singles.home.emptyDeckSubtitle":"Intenta actualizar tus preferencias, cambiar filtros o volver ms tarde.","singles.home.ctaExplore":"Abrir Explorar","singles.home.ctaPreferences":"Editar Preferencias","singles.home.loading":"Cargando tu deck...","singles.home.error":"No pudimos cargar tu deck. Por favor, intntalo de nuevo.","singles.home.noMoreInDeck":"Has visto a todos por ahora.","singles.home.undoLast":"Deshacer ltimo swipe","singles.home.actions.like":"Me Gusta","singles.home.actions.pass":"Pasar","singles.matches.title":"Matches","singles.matches.empty":"An no hay matches.","singles.matches.loading":"Cargando matches...","singles.matches.goSwipe":"Empezar a Deslizar","singles.matches.listTitle":"Matches y Conversaciones","singles.matchOverlay.title":"Es un Match!","singles.matchOverlay.subtitle":"T y {name} os habis gustado.","singles.matchOverlay.chatButton":"Enviar Mensaje","singles.matchOverlay.keepPlaying":"Seguir Deslizando","singles.chat.title":"Chat","singles.chat.backToMatches":"Volver a Matches","singles.chat.input.placeholder":"Escribe un mensaje...","singles.chat.emptyState":"An no hay mensajes. Di hola ","singles.chat.error.load":"Error al cargar el chat.","singles.chat.noAccess":"No tienes permiso para ver este chat.","safety.block.button":"Bloquear Usuario","safety.block.unblockButton":"Desbloquear Usuario","safety.block.confirmTitle":"Bloquear Usuario?","safety.block.confirmDescription":"Despus de bloquear, ya no vers a esta persona en matches o chat.","safety.block.success":"Usuario bloqueado.","safety.unblock.confirmTitle":"Desbloquear Usuario?","safety.unblock.success":"Usuario desbloqueado.","safety.report.profile.title":"Reportar Perfil","safety.report.message.title":"Reportar Mensaje","safety.report.reason.fakeProfile":"Perfil Falso","safety.report.reason.spam":"Spam o Promocin No Deseada","safety.report.reason.harassment":"Acoso o Comportamiento Abusivo","safety.report.reason.inappropriate":"Contenido Inapropiado","safety.report.reason.illegal":"Contenido Ilegal","safety.report.reason.other":"Otro","safety.report.detailsLabel":"Explica (opcional)","safety.report.submit":"Enviar Reporte","safety.report.cancel":"Cancelar","safety.report.profile.success":"Gracias. Tu reporte ha sido enviado.","safety.report.message.success":"Gracias. El reporte del mensaje ha sido enviado.","safety.chat.blockedBanner":"Has bloqueado a este usuario. No puedes enviar mensajes.","safety.chat.noAccess":"No tienes permiso para ver este chat.","singles.preferences.title":"Preferencias","singles.preferences.subtitle":"Elige a quin quieres ver ms a menudo.","singles.preferences.ageRanges.label":"Rangos de Edad","singles.preferences.genders.label":"Gnero(s) Preferido(s)","singles.preferences.region.label":"Regin Preferida","singles.preferences.region.placeholder":"p.ej., Lisboa, Norte","singles.preferences.preferSameRegion":"Preferir perfiles de mi regin","singles.preferences.interests.label":"Intereses Preferidos","singles.preferences.onlyVerified":"Solo perfiles verificados","singles.preferences.onlyWithPhoto":"Solo perfiles con foto","singles.preferences.autoApply.explore":"Aplicar estos filtros en la pgina Explorar","singles.preferences.autoApply.swipe":"Aplicar estos filtros en el deck de Swipe","singles.preferences.saveButton":"Guardar Preferencias","singles.preferences.saving":"Guardando...","singles.preferences.saveSuccess":"Preferencias guardadas.","singles.preferences.saveError":"Error al guardar preferencias.","singles.explore.title":"Explorar Singles","singles.explore.subtitle":"Filtra y descubre nuevas personas.","singles.explore.filters.clear":"Limpiar filtros","singles.explore.filters.apply":"Aplicar","singles.explore.empty":"No se encontraron perfiles con estos filtros.","singles.explore.loading":"Cargando perfiles...","singles.explore.error":"Error al cargar perfiles.","gender.female":"Femenino","gender.male":"Masculino","gender.nonBinary":"No binario","ageRange.UNDER_30":"18 - 29","ageRange.AGE_30_39":"30 - 39","ageRange.AGE_40_49":"40 - 49","ageRange.AGE_50_59":"50 - 59","ageRange.AGE_60_PLUS":"60+","settings.title":"Ajustes","settings.tab.account":"Cuenta","settings.tab.privacy":"Privacidad y Visibilidad","settings.tab.security":"Seguridad y Bloqueo","settings.account.title":"Ajustes de la Cuenta","settings.account.language.label":"Idioma de la App","settings.account.location.title":"Ubicacin","settings.account.country":"Pas","settings.account.region":"Regin","settings.account.city":"Ciudad","settings.account.save":"Guardar Cambios","settings.account.saving":"Guardando...","settings.account.saveSuccess":"Ajustes de la cuenta guardados.","settings.account.saveError":"Error al guardar ajustes de la cuenta.","settings.account.logout":"Cerrar Sesin","settings.privacy.title":"Privacidad y Visibilidad","settings.privacy.whereAppear.title":"Dnde puedo aparecer?","settings.privacy.visibleInExplore":"Aparecer en bsqueda y Explorar (Parejas)","settings.privacy.visibleInSingles":"Aparecer en rea de Singles (Swipe y Explorar)","settings.privacy.location.title":"Visualizacin de Ubicacin","settings.privacy.showCountry":"Mostrar pas","settings.privacy.showRegion":"Mostrar regin","settings.privacy.showCity":"Mostrar ciudad","settings.privacy.hideExactLocation":"Ocultar detalles exactos de ubicacin","settings.privacy.messages.title":"Quin puede enviarme mensajes?","settings.privacy.allowMessagesFromMatchesOnly":"Solo permitir nuevos chats de matches","settings.privacy.allowMessagesFromSingles":"Permitir mensajes de Singles","settings.privacy.allowMessagesFromCouples":"Permitir mensajes de Parejas","settings.privacy.photos.title":"Fotos y Discrecin","settings.privacy.blurPhotosForStrangers":"Desenfocar fotos para usuarios sin match","settings.privacy.save":"Guardar Privacidad","settings.privacy.saving":"Guardando...","settings.privacy.saveSuccess":"Ajustes de privacidad guardados.","settings.privacy.saveError":"Error al guardar ajustes de privacidad.","settings.security.title":"Seguridad y Bloqueo","settings.security.tips.title":"Consejos de Seguridad","settings.security.tips.adultOnly":"Esta app es estrictamente para mayores de 18 aos.","settings.security.tips.consent":"Cualquier encuentro debe ser libremente consentido por todas las partes.","settings.security.tips.discretion":"Protege tu identidad: evita compartir datos personales sensibles inicialmente.","settings.security.tips.photos":"No compartas contenido ilegal, no consentido o que involucre a menores.","settings.security.tips.showOnLogin":"Mostrar estos consejos al entrar","settings.security.blocked.title":"Perfiles Bloqueados","settings.security.blocked.empty":"An no has bloqueado a nadie.","settings.security.blocked.unblock":"Desbloquear","settings.security.blocked.info":"Puedes bloquear o reportar usuarios desde su perfil o chat.","settings.security.saveError":"Error al actualizar ajustes de seguridad.","settings.messaging.restricted.matchesOnly":"Este usuario solo acepta mensajes de matches.","settings.messaging.restricted.typeNotAllowed":"Este usuario no acepta nuevos mensajes de este tipo de perfil.","mock.clubs.club_1.description":"Un espacio acogedor y discreto en el corazn de Lisboa para parejas y solteros seleccionados. Ambiente premium y eventos temticos semanales.","mock.clubs.club_2.description":"Tu refugio de verano en el Algarve, con fiestas al aire libre, piscina y una impresionante vista al atardecer. Solo para parejas.","mock.clubs.club_3.description":"La mejor casa de encuentros en Oporto, con tres plantas, salas temticas y un bar vibrante. Abierto a todo tipo de perfiles.","mock.clubs.club_4.description":"Discreto y sofisticado en el corazn del Alentejo. Un lugar para explorar y relajarse, con eventos culturales y talleres.","mock.clubs.club_5.description":"Un lugar para perderse en la magia de la noche, con msica en vivo y actuaciones. Ambiente divertido y relajado.","mock.clubs.club_6.description":"Escondido en el centro histrico de Braga, un club con noches temticas y una clientela fiel. Abierto a nuevos miembros.","mock.clubs.club_7.description":"Explora nuevas aventuras en el paraso de las Azores. Un club para los amantes de la naturaleza y las noches diferentes.","mock.clubs.club_8.description":"Un toque extico en la isla de Madeira, con ccteles tropicales y un ambiente vibrante. Eventos especiales durante todo el ao.","mock.clubs.club_9.description":"La belleza de Aveiro reflejada en un club para encuentros romnticos y noches especiales. Cerca de los canales.","mock.clubs.club_10.description":"Lujo y sofisticacin definen este club en el centro de Lisboa. Servicio exclusivo y ambiente de lite.","mock.events.evt1.title":"Fiesta Privada en la Piscina","mock.events.evt1.description":"Una noche exclusiva con msica, ccteles y buena compaa junto a la piscina.","mock.events.evt2.title":"Noche de Mscaras","mock.events.evt2.description":"Descubre el misterio y la seduccin en una elegante noche de mscaras llena de sorpresas.","mock.events.evt3.title":"Cena Suave y Social","mock.events.evt3.description":"Un encuentro relajado para conocer nuevas parejas y compartir experiencias en un ambiente distendido.","mock.events.evt4.title":"Taller de Sensualidad","mock.events.evt4.description":"Explora tu sensualidad y la de tu pareja en un taller divertido y educativo.","mock.profiles.1.description":"Somos una pareja divertida y cmplice que busca nuevas amistades y experiencias. Nos gusta hablar, rer y disfrutar de la vida.","mock.profiles.2.description":"Pareja joven y dinmica de Oporto. Nos encanta salir de noche y conocer gente con buena energa.","mock.profiles.3.description":"Pareja experimentada y discreta. Valoramos la educacin, la elegancia y los momentos de calidad.","mock.profiles.4.description":"Espritus libres en el sur del pas. Buscamos conexiones autnticas y sin complicaciones.","mock.profiles.5.description":"Pareja geek que busca salir de la rutina y explorar nuevos horizontes.","mock.profiles.6.description":"Pareja madura con espritu joven. Nos gustan las reuniones animadas.","mock.profiles.7.description":"Amamos la belleza y el arte en todas sus formas. Buscamos parejas con sensibilidad artstica.","mock.profiles.8.description":"Viviendo la vida al mximo en nuestra isla. Nos gusta recibir bien y tener buenas conversaciones.","mock.profiles.9.description":"Pareja en forma a la que le encanta entrenar y relajarse despus. Buscamos parejas con un estilo de vida saludable.","mock.profiles.10.description":"La calma del Alentejo corre por nuestras venas, pero nos gusta la emocin de vez en cuando.","mock.profiles.11.description":"Independiente y atrevida. Me gustan los hombres caballerosos y las parejas respetuosas.","mock.profiles.12.description":"Espritu libre que busca buenas vibraciones y conexiones profundas.","mock.profiles.13.description":"Madura, segura y divertida. Me encanta la vida nocturna del Algarve.","mock.profiles.14.description":"Empresario centrado, pero que sabe disfrutar del tiempo libre con calidad.","mock.profiles.15.description":"Amable y respetuoso. Me gusta conocer gente nueva sin presiones.","settings.account.feedback.notImplemented":"{featureName}  funcin a implementar."},E3={"login.title":"Connexion","login.subtitle":"Accdez  votre compte","login.emailLabel":"E-mail","login.passwordLabel":"Mot de passe","login.rememberMe":"Se souvenir de moi","login.forgotPassword":"Mot de passe oubli ?","login.submitButton":"Connexion","login.loadingButton":"Connexion en cours...","login.noAccount":"Vous n'avez pas encore de compte ?","login.registerLink":"S'inscrire","login.error.invalidCredentials":"E-mail ou mot de passe invalide. Veuillez ressayer.","login.error.tooManyRequests":"L'accs  ce compte a t temporairement dsactiv en raison de nombreuses tentatives de connexion infructueuses. Vous pouvez le restaurer en rinitialisant votre mot de passe ou ressayer plus tard.","login.error.generic":"Une erreur inconnue est survenue. Veuillez ressayer.","header.explore":"Explorer","header.events":"vnements","header.clubs":"Clubs","header.settings":"Paramtres","header.logout":"Dconnexion","events.title":"vnements","events.subtitle":"Dcouvrez des soires prives, des dners dcontracts et des vnements exclusifs.","events.featuredTitle":"vnements  la une","events.allEvents":"Tous les vnements","events.searchPlaceholder":"Rechercher par ville ou titre...","events.filterRegion":"Rgion","events.filterWhen":"Quand","events.filterWhenAll":"Tous","events.filterWhenThisMonth":"Ce mois-ci","events.filterWhenNextMonth":"Le mois prochain","events.emptyState":"Aucun vnement ne correspond  vos filtres.","events.loading":"Chargement des vnements...","events.error":"Erreur lors du chargement des vnements.","events.details":"Voir les dtails","events.back":"Retour aux vnements","events.notFound":"vnement non trouv.","events.organizedBy":"Organis par","events.participate":"Je veux y aller","events.save":"Sauvegarder l'vnement","profile.aboutTitle":" propos","profile.interestsTitle":"Intrts","profile.noInterests":"Aucun intrt ajout pour le moment.","profile.actions.requestAccess":"Demander l'accs","profile.actions.sendMessage":"Envoyer un message","profile.notFoundTitle":"Profil non trouv","profile.notFoundBackButton":"Retour  l'exploration","profile.loading":"Chargement du profil...","profile.location":"Lieu inconnu","clubs.emptyState":"Aucun club n'a encore t ajout.","onboarding.single.title":"Votre profil","onboarding.single.subtitle":"Parlez-nous un peu de vous.","onboarding.single.form.displayName":"Nom d'affichage","onboarding.single.form.displayName.placeholder":"par ex., Alex","onboarding.single.form.realName":"Nom complet","onboarding.single.form.realName.placeholder":"par ex., Alex Smith","onboarding.single.form.about":" propos de vous","onboarding.single.form.about.placeholder":"Dcrivez-vous brivement...","onboarding.single.form.location":"Lieu","onboarding.single.form.location.placeholder":"Ville, Pays","onboarding.single.form.birthdate":"Date de naissance","onboarding.single.form.gender":"Genre","onboarding.single.form.gender.male":"Homme","onboarding.single.form.gender.female":"Femme","onboarding.single.form.gender.other":"Autre","onboarding.single.form.interests":"Intrts","onboarding.single.form.interests.placeholder":"Slectionnez jusqu' 5 intrts","onboarding.single.form.profilePicture":"Photo de profil","onboarding.single.form.profilePicture.cta":"Tlcharger une image","onboarding.single.form.photo.error.size":"L'image doit faire au maximum 5 Mo.","onboarding.single.form.photo.required":"* Photo requise","onboarding.single.form.error.noAuth":"Utilisateur non authentifi.","onboarding.single.form.error.requiredFields":"Veuillez remplir tous les champs obligatoires et ajouter une photo.","onboarding.single.form.error.generic":"Une erreur est survenue lors de la cration du profil. Veuillez ressayer.","onboarding.single.form.submit":"Enregistrer et continuer","onboarding.single.form.submitting":"Enregistrement...","onboarding.single.form.ageRange":"Tranche d'ge","onboarding.single.form.city":"Ville","onboarding.single.form.city.placeholder":"par ex., Paris","onboarding.single.form.region":"Rgion","onboarding.single.form.region.placeholder":"par ex., le-de-France","onboarding.single.form.privacy.title":"Confidentialit et couples","onboarding.single.form.privacy.visibleToCouples.label":"Visible pour les couples","onboarding.single.form.privacy.visibleToCouples.description":"Autoriser les couples  voir votre profil dans la zone d'exploration.","onboarding.single.form.privacy.allowMessagesFromCouples.label":"Recevoir des messages des couples","onboarding.single.form.privacy.allowMessagesFromCouples.description":"Autoriser les couples  entamer une conversation avec vous.","singles.home.title":"Singles","singles.home.subtitle":"Swipe, matche et discute avec d'autres membres vrifis.","singles.home.emptyDeck":"Personne  montrer pour le moment ","singles.home.emptyDeckSubtitle":"Essayez de mettre  jour vos prfrences, de changer les filtres ou de revenir plus tard.","singles.home.ctaExplore":"Ouvrir explorer","singles.home.ctaPreferences":"Modifier les prfrences","singles.home.loading":"Chargement de votre deck...","singles.home.error":"Nous n'avons pas pu charger votre deck. Veuillez ressayer.","singles.home.noMoreInDeck":"Vous avez vu tout le monde pour le moment.","singles.home.undoLast":"Annuler le dernier swipe","singles.home.actions.like":"J'aime","singles.home.actions.pass":"Passer","singles.matches.title":"Matches","singles.matches.empty":"Pas encore de matches.","singles.matches.loading":"Chargement des matches...","singles.matches.goSwipe":"Commencer  Swiper","singles.matches.listTitle":"Matches et Conversations","singles.matchOverlay.title":"C'est un Match !","singles.matchOverlay.subtitle":"Vous et {name} vous tes plu.","singles.matchOverlay.chatButton":"Envoyer un message","singles.matchOverlay.keepPlaying":"Continuer  Swiper","singles.chat.title":"Chat","singles.chat.backToMatches":"Retour aux Matches","singles.chat.input.placeholder":"Tapez un message...","singles.chat.emptyState":"Pas encore de messages. Dites bonjour ","singles.chat.error.load":"Erreur lors du chargement du chat.","singles.chat.noAccess":"Vous n'avez pas la permission de voir ce chat.","safety.block.button":"Bloquer l'utilisateur","safety.block.unblockButton":"Dbloquer l'utilisateur","safety.block.confirmTitle":"Bloquer l'utilisateur ?","safety.block.confirmDescription":"Aprs avoir bloqu, vous ne verrez plus cette personne dans les matches ou le chat.","safety.block.success":"Utilisateur bloqu.","safety.unblock.confirmTitle":"Dbloquer l'utilisateur ?","safety.unblock.success":"Utilisateur dbloqu.","safety.report.profile.title":"Signaler le profil","safety.report.message.title":"Signaler le message","safety.report.reason.fakeProfile":"Faux profil","safety.report.reason.spam":"Spam ou promotion indsirable","safety.report.reason.harassment":"Harclement ou comportement abusif","safety.report.reason.inappropriate":"Contenu inappropri","safety.report.reason.illegal":"Contenu illgal","safety.report.reason.other":"Autre","safety.report.detailsLabel":"Expliquer (facultatif)","safety.report.submit":"Soumettre le signalement","safety.report.cancel":"Annuler","safety.report.profile.success":"Merci. Votre signalement a t soumis.","safety.report.message.success":"Merci. Le signalement du message a t soumis.","safety.chat.blockedBanner":"Vous avez bloqu cet utilisateur. Vous ne pouvez pas envoyer de messages.","safety.chat.noAccess":"Vous n'avez pas la permission de voir ce chat.","singles.preferences.title":"Prfrences","singles.preferences.subtitle":"Choisissez qui vous voulez voir plus souvent.","singles.preferences.ageRanges.label":"Tranches d'ge","singles.preferences.genders.label":"Genre(s) prfr(s)","singles.preferences.region.label":"Rgion prfre","singles.preferences.region.placeholder":"par ex., Lisbonne, Nord","singles.preferences.preferSameRegion":"Prfrer les profils de ma rgion","singles.preferences.interests.label":"Intrts prfrs","singles.preferences.onlyVerified":"Profils vrifis uniquement","singles.preferences.onlyWithPhoto":"Profils avec photo uniquement","singles.preferences.autoApply.explore":"Appliquer ces filtres  la page Explorer","singles.preferences.autoApply.swipe":"Appliquer ces filtres au deck de Swipe","singles.preferences.saveButton":"Enregistrer les prfrences","singles.preferences.saving":"Enregistrement...","singles.preferences.saveSuccess":"Prfrences enregistres.","singles.preferences.saveError":"Erreur lors de l'enregistrement des prfrences.","singles.explore.title":"Explorer les Singles","singles.explore.subtitle":"Filtrez et dcouvrez de nouvelles personnes.","singles.explore.filters.clear":"Effacer les filtres","singles.explore.filters.apply":"Appliquer","singles.explore.empty":"Aucun profil trouv avec ces filtres.","singles.explore.loading":"Chargement des profils...","singles.explore.error":"Erreur lors du chargement des profils.","gender.female":"Femme","gender.male":"Homme","gender.nonBinary":"Non-binaire","ageRange.UNDER_30":"18 - 29","ageRange.AGE_30_39":"30 - 39","ageRange.AGE_40_49":"40 - 49","ageRange.AGE_50_59":"50 - 59","ageRange.AGE_60_PLUS":"60+","settings.title":"Paramtres","settings.tab.account":"Compte","settings.tab.privacy":"Confidentialit et Visibilit","settings.tab.security":"Scurit et Blocage","settings.account.title":"Paramtres du compte","settings.account.language.label":"Langue de l'application","settings.account.location.title":"Lieu","settings.account.country":"Pays","settings.account.region":"Rgion","settings.account.city":"Ville","settings.account.save":"Enregistrer les modifications","settings.account.saving":"Enregistrement...","settings.account.saveSuccess":"Paramtres du compte enregistrs.","settings.account.saveError":"Erreur lors de l'enregistrement des paramtres du compte.","settings.account.logout":"Dconnexion","settings.privacy.title":"Confidentialit et Visibilit","settings.privacy.whereAppear.title":"O puis-je apparatre ?","settings.privacy.visibleInExplore":"Apparatre dans la recherche et Explorer (Couples)","settings.privacy.visibleInSingles":"Apparatre dans la zone Singles (Swipe et Explorer)","settings.privacy.location.title":"Affichage de la localisation","settings.privacy.showCountry":"Afficher le pays","settings.privacy.showRegion":"Afficher la rgion","settings.privacy.showCity":"Afficher la ville","settings.privacy.hideExactLocation":"Masquer les dtails exacts de la localisation","settings.privacy.messages.title":"Qui peut m'envoyer des messages ?","settings.privacy.allowMessagesFromMatchesOnly":"N'autoriser les nouveaux chats que des matches","settings.privacy.allowMessagesFromSingles":"Autoriser les messages des Singles","settings.privacy.allowMessagesFromCouples":"Autoriser les messages des Couples","settings.privacy.photos.title":"Photos et Discrtion","settings.privacy.blurPhotosForStrangers":"Flouter les photos pour les utilisateurs sans match","settings.privacy.save":"Enregistrer la confidentialit","settings.privacy.saving":"Enregistrement...","settings.privacy.saveSuccess":"Paramtres de confidentialit enregistrs.","settings.privacy.saveError":"Erreur lors de l'enregistrement des paramtres de confidentialit.","settings.security.title":"Scurit et Blocage","settings.security.tips.title":"Conseils de scurit","settings.security.tips.adultOnly":"Cette application est strictement rserve aux utilisateurs de plus de 18 ans.","settings.security.tips.consent":"Toute rencontre doit tre librement consentie par toutes les parties.","settings.security.tips.discretion":"Protgez votre identit : vitez de partager des donnes personnelles sensibles au dbut.","settings.security.tips.photos":"Ne partagez pas de contenu illgal, non consenti ou impliquant des mineurs.","settings.security.tips.showOnLogin":"Afficher ces conseils  la connexion","settings.security.blocked.title":"Profils bloqus","settings.security.blocked.empty":"Vous n'avez encore bloqu personne.","settings.security.blocked.unblock":"Dbloquer","settings.security.blocked.info":"Vous pouvez bloquer ou signaler des utilisateurs depuis leur profil ou le chat.","settings.security.saveError":"Erreur lors de la mise  jour des paramtres de scurit.","settings.messaging.restricted.matchesOnly":"Cet utilisateur n'accepte que les messages des matches.","settings.messaging.restricted.typeNotAllowed":"Cet utilisateur n'accepte pas de nouveaux messages de ce type de profil.","mock.clubs.club_1.description":"Un espace confortable et discret au cur de Lisbonne pour les couples et les clibataires slectionns. Ambiance premium et vnements thmatiques hebdomadaires.","mock.clubs.club_2.description":"Votre refuge d't en Algarve, avec des ftes en plein air, une piscine et une vue imprenable sur le coucher de soleil. Uniquement pour les couples.","mock.clubs.club_3.description":"La meilleure maison de rencontre de Porto, avec trois tages, des salles  thme et un bar anim. Ouvert  tous les types de profils.","mock.clubs.club_4.description":"Discret et sophistiqu au cur de l'Alentejo. Un lieu pour explorer et se dtendre, avec des vnements culturels et des ateliers.","mock.clubs.club_5.description":"Un lieu pour se perdre dans la magie de la nuit, avec de la musique live et des spectacles. Ambiance amusante et dtendue.","mock.clubs.club_6.description":"Cach dans le centre historique de Braga, un club avec des soires  thme et une clientle fidle. Ouvert aux nouveaux membres.","mock.clubs.club_7.description":"Explorez de nouvelles aventures dans le paradis des Aores. Un club pour ceux qui aiment la nature et les nuits diffrentes.","mock.clubs.club_8.description":"Une touche exotique sur l'le de Madre, avec des cocktails tropicaux et une ambiance vibrante. vnements spciaux toute l'anne.","mock.clubs.club_9.description":"La beaut d'Aveiro reflte dans un club pour des rencontres romantiques et des nuits spciales. Prs des canaux.","mock.clubs.club_10.description":"Luxe et sophistication dfinissent ce club du centre de Lisbonne. Service exclusif et ambiance d'lite.","mock.events.evt1.title":"Soire piscine prive","mock.events.evt1.description":"Une nuit exclusive avec musique, cocktails et bonne compagnie au bord de la piscine.","mock.events.evt2.title":"Nuit masque","mock.events.evt2.description":"Dcouvrez le mystre et la sduction dans une lgante nuit masque pleine de surprises.","mock.events.evt3.title":"Dner et rencontre dcontracts","mock.events.evt3.description":"Une rencontre dtendue pour rencontrer de nouveaux couples et partager des expriences dans un environnement relaxant.","mock.events.evt4.title":"Atelier de sensualit","mock.events.evt4.description":"Explorez votre sensualit et celle de votre partenaire dans un atelier amusant et ducatif.","mock.profiles.1.description":"Nous sommes un couple amusant et complice  la recherche de nouvelles amitis et expriences. Nous aimons parler, rire et profiter de la vie.","mock.profiles.2.description":"Jeune couple dynamique de Porto. Nous aimons sortir le soir et rencontrer des gens avec une bonne nergie.","mock.profiles.3.description":"Couple expriment et discret. Nous apprcions l'ducation, l'lgance et les moments de qualit.","mock.profiles.4.description":"Esprits libres dans le sud du pays. Nous recherchons des liens authentiques et simples.","mock.profiles.5.description":"Couple de geeks cherchant  briser la routine et  explorer de nouveaux horizons.","mock.profiles.6.description":"Couple mr avec un esprit jeune. Nous aimons les rassemblements anims.","mock.profiles.7.description":"Nous aimons la beaut et l'art sous toutes ses formes.  la recherche de couples avec une sensibilit artistique.","mock.profiles.8.description":"Vivre pleinement la vie sur notre le. Nous aimons bien recevoir et avoir de bonnes conversations.","mock.profiles.9.description":"Couple en forme qui aime s'entraner et se dtendre ensuite.  la recherche de couples avec un mode de vie sain.","mock.profiles.10.description":"Le calme de l'Alentejo coule dans nos veines, mais nous aimons l'excitation de temps en temps.","mock.profiles.11.description":"Indpendante et audacieuse. J'aime les hommes galants et les couples respectueux.","mock.profiles.12.description":"Esprit libre  la recherche de bonnes vibrations et de liens profonds.","mock.profiles.13.description":"Mre, sre d'elle et amusante. J'adore la vie nocturne de l'Algarve.","mock.profiles.14.description":"Homme d'affaires concentr, mais qui sait profiter du temps libre avec qualit.","mock.profiles.15.description":"Amical et respectueux. J'aime rencontrer de nouvelles personnes sans pression.","settings.account.feedback.notImplemented":"{featureName}  fonctionnalit  mettre en uvre."},w3={"login.title":"Anmelden","login.subtitle":"Greifen Sie auf Ihr Konto zu","login.emailLabel":"E-Mail","login.passwordLabel":"Passwort","login.rememberMe":"Angemeldet bleiben","login.forgotPassword":"Passwort vergessen?","login.submitButton":"Anmelden","login.loadingButton":"Anmeldung wird durchgefhrt...","login.noAccount":"Haben Sie noch kein Konto?","login.registerLink":"Registrieren","login.error.invalidCredentials":"Ungltige E-Mail oder ungltiges Passwort. Bitte versuchen Sie es erneut.","login.error.tooManyRequests":"Der Zugriff auf dieses Konto wurde aufgrund zu vieler fehlgeschlagener Anmeldeversuche vorbergehend deaktiviert. Sie knnen es wiederherstellen, indem Sie Ihr Passwort zurcksetzen, oder es spter erneut versuchen.","login.error.generic":"Ein unbekannter Fehler ist aufgetreten. Bitte versuchen Sie es erneut.","header.explore":"Erkunden","header.events":"Veranstaltungen","header.clubs":"Clubs","header.settings":"Einstellungen","header.logout":"Abmelden","events.title":"Veranstaltungen","events.subtitle":"Entdecken Sie private Partys, entspannte Abendessen und exklusive Veranstaltungen.","events.featuredTitle":"Ausgewhlte Veranstaltungen","events.allEvents":"Alle Veranstaltungen","events.searchPlaceholder":"Nach Stadt oder Titel suchen...","events.filterRegion":"Region","events.filterWhen":"Wann","events.filterWhenAll":"Alle","events.filterWhenThisMonth":"Diesen Monat","events.filterWhenNextMonth":"Nchster Monat","events.emptyState":"Keine Veranstaltungen gefunden, die Ihren Filtern entsprechen.","events.loading":"Veranstaltungen werden geladen...","events.error":"Fehler beim Laden der Veranstaltungen.","events.details":"Details anzeigen","events.back":"Zurck zu den Veranstaltungen","events.notFound":"Veranstaltung nicht gefunden.","events.organizedBy":"Organisiert von","events.participate":"Ich mchte teilnehmen","events.save":"Veranstaltung speichern","profile.aboutTitle":"ber","profile.interestsTitle":"Interessen","profile.noInterests":"Noch keine Interessen hinzugefgt.","profile.actions.requestAccess":"Zugriff anfordern","profile.actions.sendMessage":"Nachricht senden","profile.notFoundTitle":"Profil nicht gefunden","profile.notFoundBackButton":"Zurck zum Erkunden","profile.loading":"Profil wird geladen...","profile.location":"Standort unbekannt","clubs.emptyState":"Noch keine Clubs hinzugefgt.","onboarding.single.title":"Ihr Profil","onboarding.single.subtitle":"Erzhlen Sie uns ein wenig ber sich.","onboarding.single.form.displayName":"Anzeigename","onboarding.single.form.displayName.placeholder":"z.B. Alex","onboarding.single.form.realName":"Vollstndiger Name","onboarding.single.form.realName.placeholder":"z.B. Alex Schmidt","onboarding.single.form.about":"ber Sie","onboarding.single.form.about.placeholder":"Beschreiben Sie sich kurz...","onboarding.single.form.location":"Standort","onboarding.single.form.location.placeholder":"Stadt, Land","onboarding.single.form.birthdate":"Geburtsdatum","onboarding.single.form.gender":"Geschlecht","onboarding.single.form.gender.male":"Mnnlich","onboarding.single.form.gender.female":"Weiblich","onboarding.single.form.gender.other":"Andere","onboarding.single.form.interests":"Interessen","onboarding.single.form.interests.placeholder":"Whlen Sie bis zu 5 Interessen aus","onboarding.single.form.profilePicture":"Profilbild","onboarding.single.form.profilePicture.cta":"Bild hochladen","onboarding.single.form.photo.error.size":"Das Bild darf maximal 5 MB gro sein.","onboarding.single.form.photo.required":"* Foto erforderlich","onboarding.single.form.error.noAuth":"Benutzer nicht authentifiziert.","onboarding.single.form.error.requiredFields":"Bitte fllen Sie alle erforderlichen Felder aus und fgen Sie ein Foto hinzu.","onboarding.single.form.error.generic":"Beim Erstellen des Profils ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut.","onboarding.single.form.submit":"Speichern und fortfahren","onboarding.single.form.submitting":"Speichern...","onboarding.single.form.ageRange":"Altersspanne","onboarding.single.form.city":"Stadt","onboarding.single.form.city.placeholder":"z.B. Berlin","onboarding.single.form.region":"Region","onboarding.single.form.region.placeholder":"z.B. Mitte","onboarding.single.form.privacy.title":"Datenschutz & Paare","onboarding.single.form.privacy.visibleToCouples.label":"Fr Paare sichtbar","onboarding.single.form.privacy.visibleToCouples.description":"Erlauben Sie Paaren, Ihr Profil im Erkundungsbereich zu sehen.","onboarding.single.form.privacy.allowMessagesFromCouples.label":"Nachrichten von Paaren erhalten","onboarding.single.form.privacy.allowMessagesFromCouples.description":"Erlauben Sie Paaren, ein Gesprch mit Ihnen zu beginnen.","singles.home.title":"Singles","singles.home.subtitle":"Swipe, matche und chatte mit anderen verifizierten Mitgliedern.","singles.home.emptyDeck":"Niemand, den wir gerade zeigen knnen ","singles.home.emptyDeckSubtitle":"Versuche deine Prferenzen zu aktualisieren, Filter zu ndern oder spter wiederzukommen.","singles.home.ctaExplore":"Entdecken ffnen","singles.home.ctaPreferences":"Prferenzen bearbeiten","singles.home.loading":"Lade deinen Stapel...","singles.home.error":"Wir konnten deinen Stapel nicht laden. Bitte versuche es erneut.","singles.home.noMoreInDeck":"Du hast fr den Moment alle gesehen.","singles.home.undoLast":"Letzten Swipe rckgngig machen","singles.home.actions.like":"Gefllt mir","singles.home.actions.pass":"Weiter","singles.matches.title":"Matches","singles.matches.empty":"Noch keine Matches.","singles.matches.loading":"Lade Matches...","singles.matches.goSwipe":"Swipe starten","singles.matches.listTitle":"Matches & Unterhaltungen","singles.matchOverlay.title":"Es ist ein Match!","singles.matchOverlay.subtitle":"Du und {name} mgt euch.","singles.matchOverlay.chatButton":"Nachricht senden","singles.matchOverlay.keepPlaying":"Weiter swipen","singles.chat.title":"Chat","singles.chat.backToMatches":"Zurck zu Matches","singles.chat.input.placeholder":"Schreibe eine Nachricht...","singles.chat.emptyState":"Noch keine Nachrichten. Sag Hallo ","singles.chat.error.load":"Fehler beim Laden des Chats.","singles.chat.noAccess":"Du hast keine Berechtigung, diesen Chat zu sehen.","safety.block.button":"Benutzer blockieren","safety.block.unblockButton":"Benutzer entblocken","safety.block.confirmTitle":"Benutzer blockieren?","safety.block.confirmDescription":"Nach dem Blockieren siehst du diese Person nicht mehr in Matches oder im Chat.","safety.block.success":"Benutzer blockiert.","safety.unblock.confirmTitle":"Benutzer entblocken?","safety.unblock.success":"Benutzer entblockt.","safety.report.profile.title":"Profil melden","safety.report.message.title":"Nachricht melden","safety.report.reason.fakeProfile":"Geflschtes Profil","safety.report.reason.spam":"Spam oder unerwnschte Werbung","safety.report.reason.harassment":"Belstigung oder missbruchliches Verhalten","safety.report.reason.inappropriate":"Unangemessener Inhalt","safety.report.reason.illegal":"Illegaler Inhalt","safety.report.reason.other":"Sonstiges","safety.report.detailsLabel":"Erklren (optional)","safety.report.submit":"Meldung senden","safety.report.cancel":"Abbrechen","safety.report.profile.success":"Danke. Deine Meldung wurde gesendet.","safety.report.message.success":"Danke. Die Meldung der Nachricht wurde gesendet.","safety.chat.blockedBanner":"Du hast diesen Benutzer blockiert. Du kannst keine Nachrichten senden.","safety.chat.noAccess":"Du hast keine Berechtigung, diesen Chat zu sehen.","singles.preferences.title":"Prferenzen","singles.preferences.subtitle":"Whle, wen du fter sehen mchtest.","singles.preferences.ageRanges.label":"Altersgruppen","singles.preferences.genders.label":"Bevorzugte(s) Geschlecht(er)","singles.preferences.region.label":"Bevorzugte Region","singles.preferences.region.placeholder":"z.B., Lissabon, Nord","singles.preferences.preferSameRegion":"Profile aus meiner Region bevorzugen","singles.preferences.interests.label":"Bevorzugte Interessen","singles.preferences.onlyVerified":"Nur verifizierte Profile","singles.preferences.onlyWithPhoto":"Nur Profile mit Foto","singles.preferences.autoApply.explore":"Diese Filter auf die Entdecken-Seite anwenden","singles.preferences.autoApply.swipe":"Diese Filter auf den Swipe-Stapel anwenden","singles.preferences.saveButton":"Prferenzen speichern","singles.preferences.saving":"Speichern...","singles.preferences.saveSuccess":"Prferenzen gespeichert.","singles.preferences.saveError":"Fehler beim Speichern der Prferenzen.","singles.explore.title":"Singles entdecken","singles.explore.subtitle":"Filtere und entdecke neue Leute.","singles.explore.filters.clear":"Filter lschen","singles.explore.filters.apply":"Anwenden","singles.explore.empty":"Keine Profile mit diesen Filtern gefunden.","singles.explore.loading":"Lade Profile...","singles.explore.error":"Fehler beim Laden der Profile.","gender.female":"Weiblich","gender.male":"Mnnlich","gender.nonBinary":"Nicht-binr","ageRange.UNDER_30":"18 - 29","ageRange.AGE_30_39":"30 - 39","ageRange.AGE_40_49":"40 - 49","ageRange.AGE_50_59":"50 - 59","ageRange.AGE_60_PLUS":"60+","settings.title":"Einstellungen","settings.tab.account":"Konto","settings.tab.privacy":"Privatsphre & Sichtbarkeit","settings.tab.security":"Sicherheit & Blockieren","settings.account.title":"Kontoeinstellungen","settings.account.language.label":"App-Sprache","settings.account.location.title":"Standort","settings.account.country":"Land","settings.account.region":"Region","settings.account.city":"Stadt","settings.account.save":"nderungen speichern","settings.account.saving":"Speichern...","settings.account.saveSuccess":"Kontoeinstellungen gespeichert.","settings.account.saveError":"Fehler beim Speichern der Kontoeinstellungen.","settings.account.logout":"Abmelden","settings.privacy.title":"Privatsphre & Sichtbarkeit","settings.privacy.whereAppear.title":"Wo kann ich erscheinen?","settings.privacy.visibleInExplore":"In der Suche & Entdecken (Paare) erscheinen","settings.privacy.visibleInSingles":"Im Singles-Bereich (Swipe & Entdecken) erscheinen","settings.privacy.location.title":"Standortanzeige","settings.privacy.showCountry":"Land anzeigen","settings.privacy.showRegion":"Region anzeigen","settings.privacy.showCity":"Stadt anzeigen","settings.privacy.hideExactLocation":"Genaue Standortdetails verbergen","settings.privacy.messages.title":"Wer kann mir Nachrichten senden?","settings.privacy.allowMessagesFromMatchesOnly":"Nur neue Chats von Matches erlauben","settings.privacy.allowMessagesFromSingles":"Nachrichten von Singles erlauben","settings.privacy.allowMessagesFromCouples":"Nachrichten von Paaren erlauben","settings.privacy.photos.title":"Fotos & Diskretion","settings.privacy.blurPhotosForStrangers":"Fotos fr Benutzer ohne Match unkenntlich machen","settings.privacy.save":"Privatsphre speichern","settings.privacy.saving":"Speichern...","settings.privacy.saveSuccess":"Privatsphre-Einstellungen gespeichert.","settings.privacy.saveError":"Fehler beim Speichern der Privatsphre-Einstellungen.","settings.security.title":"Sicherheit & Blockieren","settings.security.tips.title":"Sicherheitstipps","settings.security.tips.adultOnly":"Diese App ist strikt fr Nutzer ber 18.","settings.security.tips.consent":"Jede Begegnung muss von allen Parteien freiwillig zugestimmt werden.","settings.security.tips.discretion":"Schtze deine Identitt: Vermeide es anfangs, sensible persnliche Daten zu teilen.","settings.security.tips.photos":"Teile keine illegalen, nicht einvernehmlichen oder minderjhrigen Inhalte.","settings.security.tips.showOnLogin":"Diese Tipps beim Login anzeigen","settings.security.blocked.title":"Blockierte Profile","settings.security.blocked.empty":"Du hast noch niemanden blockiert.","settings.security.blocked.unblock":"Entblocken","settings.security.blocked.info":"Du kannst Benutzer ber ihr Profil oder den Chat blockieren oder melden.","settings.security.saveError":"Fehler beim Aktualisieren der Sicherheitseinstellungen.","settings.messaging.restricted.matchesOnly":"Dieser Benutzer akzeptiert nur Nachrichten von Matches.","settings.messaging.restricted.typeNotAllowed":"Dieser Benutzer akzeptiert keine neuen Nachrichten von diesem Profiltyp.","mock.clubs.club_1.description":"Ein gemtlicher und diskreter Ort im Herzen von Lissabon fr ausgewhlte Paare und Singles. Premium-Atmosphre und wchentliche Themenveranstaltungen.","mock.clubs.club_2.description":"Ihr Sommerrefugium an der Algarve, mit Partys im Freien, einem Pool und einem atemberaubenden Blick auf den Sonnenuntergang. Nur fr Paare.","mock.clubs.club_3.description":"Das beste Treffpunkthaus in Porto, mit drei Etagen, Themenrumen und einer lebhaften Bar. Offen fr alle Profiltypen.","mock.clubs.club_4.description":"Diskret und anspruchsvoll im Herzen des Alentejo. Ein Ort zum Erkunden und Entspannen, mit kulturellen Veranstaltungen und Workshops.","mock.clubs.club_5.description":"Ein Ort, um sich in der Magie der Nacht zu verlieren, mit Live-Musik und Auffhrungen. Spaige und entspannte Atmosphre.","mock.clubs.club_6.description":"Versteckt im historischen Zentrum von Braga, ein Club mit Themenabenden und einem treuen Publikum. Offen fr neue Mitglieder.","mock.clubs.club_7.description":"Entdecken Sie neue Abenteuer im Paradies der Azoren. Ein Club fr diejenigen, die die Natur und unterschiedliche Nchte lieben.","mock.clubs.club_8.description":"Ein exotischer Touch auf der Insel Madeira, mit tropischen Cocktails und einer lebhaften Atmosphre. Das ganze Jahr ber Sonderveranstaltungen.","mock.clubs.club_9.description":"Die Schnheit von Aveiro spiegelt sich in einem Club fr romantische Begegnungen und besondere Nchte wider. In der Nhe der Kanle.","mock.clubs.club_10.description":"Luxus und Raffinesse prgen diesen Club im Zentrum von Lissabon. Exklusiver Service und elitres Ambiente.","mock.events.evt1.title":"Private Poolparty","mock.events.evt1.description":"Eine exklusive Nacht mit Musik, Cocktails und guter Gesellschaft am Pool.","mock.events.evt2.title":"Maskenball","mock.events.evt2.description":"Entdecken Sie Geheimnis und Verfhrung in einer eleganten Maskennacht voller berraschungen.","mock.events.evt3.title":"Entspanntes Abendessen & Beisammensein","mock.events.evt3.description":"Ein entspanntes Treffen, um neue Paare kennenzulernen und Erfahrungen in einer lockeren Umgebung auszutauschen.","mock.events.evt4.title":"Sensualitts-Workshop","mock.events.evt4.description":"Entdecken Sie Ihre Sinnlichkeit und die Ihres Partners in einem unterhaltsamen und lehrreichen Workshop.","mock.profiles.1.description":"Wir sind ein lustiges und komplizenhaftes Paar, das neue Freundschaften und Erfahrungen sucht. Wir reden, lachen und genieen das Leben gern.","mock.profiles.2.description":"Junges und dynamisches Paar aus Porto. Wir gehen gerne abends aus und lernen Leute mit guter Energie kennen.","mock.profiles.3.description":"Erfahrenes und diskretes Paar. Wir legen Wert auf Bildung, Eleganz und hochwertige Momente.","mock.profiles.4.description":"Freigeister im Sden des Landes. Wir suchen authentische und unkomplizierte Verbindungen.","mock.profiles.5.description":"Geek-Paar, das aus der Routine ausbrechen und neue Horizonte erkunden mchte.","mock.profiles.6.description":"Reifes Paar mit jungem Geist. Wir mgen lebhafte Zusammenknfte.","mock.profiles.7.description":"Wir lieben Schnheit und Kunst in all ihren Formen. Suchen Paare mit knstlerischer Sensibilitt.","mock.profiles.8.description":"Das Leben auf unserer Insel in vollen Zgen genieen. Wir sind gerne gute Gastgeber und fhren gute Gesprche.","mock.profiles.9.description":"Fittes Paar, das gerne trainiert und sich danach entspannt. Suchen Paare mit einem gesunden Lebensstil.","mock.profiles.10.description":"Die Ruhe des Alentejo fliet in unseren Adern, aber wir mgen von Zeit zu Zeit Aufregung.","mock.profiles.11.description":"Unabhngig und khn. Ich mag ritterliche Mnner und respektvolle Paare.","mock.profiles.12.description":"Freier Geist, der nach guter Stimmung und tiefen Verbindungen sucht.","mock.profiles.13.description":"Reif, sicher und lebenslustig. Ich liebe das Nachtleben an der Algarve.","mock.profiles.14.description":"Konzentrierter Geschftsmann, der aber wei, wie man die Freizeit mit Qualitt geniet.","mock.profiles.15.description":"Freundlich und respektvoll. Ich lerne gerne neue Leute ohne Druck kennen.","settings.account.feedback.notImplemented":"{featureName}  Funktion wird implementiert."},T3={pt:b3,en:_3,es:x3,fr:E3,de:w3},g1=N.createContext(void 0);function S3({children:n}){const[e]=Js(Lt),[t,r]=N.useState(()=>{const u=localStorage.getItem("swinger_ui_language");return u&&["pt","en","es","fr","de"].includes(u)?u:"en"});N.useEffect(()=>{(async()=>{if(e)try{const m=et(De,"profiles",e.uid),y=await Mn(m);if(y.exists()){const g=y.data();g.uiLanguage&&["pt","en","es","fr","de"].includes(g.uiLanguage)&&(r(g.uiLanguage),localStorage.setItem("swinger_ui_language",g.uiLanguage))}}catch(m){console.error("Error syncing language from profile:",m)}})()},[e]);const a=async u=>{if(r(u),localStorage.setItem("swinger_ui_language",u),e)try{const m=et(De,"profiles",e.uid);await Eo(m,{uiLanguage:u})}catch(m){console.error("Error updating language preference:",m)}},l=(u,m)=>{let y=T3[t][u]??u;if(m)for(const[g,v]of Object.entries(m))y=y.replace(`{${g}}`,v);return y};return h.jsx(g1.Provider,{value:{language:t,setLanguage:a,t:l},children:n})}function Ut(){const n=N.useContext(g1);if(n===void 0)throw new Error("useTranslation must be used within a LanguageProvider");return n}function p1({className:n="",small:e=!1}){const{language:t,setLanguage:r}=Ut(),a=[{code:"pt",label:"Portugus",flag:""},{code:"en",label:"English",flag:""},{code:"es",label:"Espaol",flag:""},{code:"fr",label:"Franais",flag:""},{code:"de",label:"Deutsch",flag:""}];return h.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:a.map(l=>h.jsxs("button",{onClick:()=>r(l.code),className:`flex items-center justify-center transition-all rounded-lg border ${t===l.code?"bg-pink-600 border-pink-600 text-white shadow-lg transform scale-105":"bg-gray-800 border-gray-700 text-gray-300 hover:bg-gray-700"} ${e?"p-1.5 text-sm":"px-4 py-3 gap-3 text-lg w-full sm:w-auto"}`,title:l.label,children:[h.jsx("span",{className:e?"text-lg":"text-2xl",children:l.flag}),!e&&h.jsx("span",{className:"font-medium",children:l.label})]},l.code))})}function A3(){const{t:n}=Ut(),e=It(),{profile:t,loading:r}=Or(),[a,l]=N.useState(!1),[u,m]=N.useState(""),[y,g]=N.useState(""),[v,x]=N.useState("");N.useEffect(()=>{t&&(m(t.country||t.region||""),g(t.region||""),x(t.city||""))},[t]);const w=async()=>{if(t){l(!0);try{await Eo(et(De,"profiles",t.id),{country:u,region:y,city:v}),alert(n("settings.account.saveSuccess"))}catch(O){console.error(O),alert(n("settings.account.saveError"))}finally{l(!1)}}},I=async()=>{await Lt.signOut(),e("/login")};return r?h.jsx("div",{className:"p-4 text-white",children:"Loading..."}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("section",{className:"bg-gray-800 p-4 rounded-xl flex items-center gap-4",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 overflow-hidden",children:t?.mainPhotoUrl?h.jsx("img",{src:t.mainPhotoUrl,alt:"Avatar",className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:""})}),h.jsxs("div",{children:[h.jsx("h2",{className:"font-bold text-lg",children:t?.nickname}),h.jsx("p",{className:"text-sm text-gray-400",children:t?.accountType}),h.jsx("p",{className:"text-xs text-gray-500",children:Lt.currentUser?.email})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-2",children:n("settings.account.language.label")}),h.jsx(p1,{})]}),h.jsxs("section",{className:"space-y-3",children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase",children:n("settings.account.location.title")}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:n("settings.account.country")}),h.jsx("input",{type:"text",value:u,onChange:O=>m(O.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-pink-500 focus:outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:n("settings.account.region")}),h.jsx("input",{type:"text",value:y,onChange:O=>g(O.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-pink-500 focus:outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:n("settings.account.city")}),h.jsx("input",{type:"text",value:v,onChange:O=>x(O.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-pink-500 focus:outline-none"})]})]}),h.jsxs("div",{className:"space-y-3 pt-4",children:[h.jsx("button",{onClick:w,disabled:a,className:"w-full py-3 bg-pink-600 hover:bg-pink-700 rounded-xl font-bold shadow-lg transition-all disabled:opacity-50",children:n(a?"settings.account.saving":"settings.account.save")}),h.jsx("button",{onClick:I,className:"w-full py-3 border border-gray-700 text-gray-400 hover:text-white hover:border-gray-500 rounded-xl font-medium transition-all",children:n("settings.account.logout")})]})]})}function C3(){const{t:n}=Ut(),{profile:e,loading:t}=Or(),[r,a]=N.useState(!1),[l,u]=N.useState({});N.useEffect(()=>{e&&u(e.privacySettings||{visibleInExplore:!0,visibleInSingles:e.isSingleZone||!1,showCountry:!0,showRegion:!0,showCity:!0,hideExactLocation:!1,allowMessagesFromMatchesOnly:!1,allowMessagesFromSingles:!0,allowMessagesFromCouples:!0,blurPhotosForStrangers:!1})},[e]);const m=async()=>{if(e){a(!0);try{await Eo(et(De,"profiles",e.id),{privacySettings:l}),alert(n("settings.privacy.saveSuccess"))}catch(g){console.error(g),alert(n("settings.privacy.saveError"))}finally{a(!1)}}},y=(g,v)=>{u(x=>({...x,[g]:v}))};return t?h.jsx("div",{className:"p-4 text-white",children:"Loading..."}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-3",children:n("settings.privacy.whereAppear.title")}),h.jsxs("div",{className:"space-y-3 bg-gray-800 p-4 rounded-xl",children:[h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{children:n("settings.privacy.visibleInExplore")}),h.jsx("input",{type:"checkbox",checked:l.visibleInExplore,onChange:g=>y("visibleInExplore",g.target.checked),className:"w-5 h-5 accent-pink-600"})]}),e?.isSingleZone&&h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{children:n("settings.privacy.visibleInSingles")}),h.jsx("input",{type:"checkbox",checked:l.visibleInSingles,onChange:g=>y("visibleInSingles",g.target.checked),className:"w-5 h-5 accent-pink-600"})]})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-3",children:n("settings.privacy.location.title")}),h.jsxs("div",{className:"space-y-3 bg-gray-800 p-4 rounded-xl",children:[h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{children:n("settings.privacy.showCountry")}),h.jsx("input",{type:"checkbox",checked:l.showCountry,onChange:g=>y("showCountry",g.target.checked),className:"w-5 h-5 accent-pink-600"})]}),h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{children:n("settings.privacy.showRegion")}),h.jsx("input",{type:"checkbox",checked:l.showRegion,onChange:g=>y("showRegion",g.target.checked),className:"w-5 h-5 accent-pink-600"})]}),h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{children:n("settings.privacy.showCity")}),h.jsx("input",{type:"checkbox",checked:l.showCity,onChange:g=>y("showCity",g.target.checked),className:"w-5 h-5 accent-pink-600"})]}),h.jsx("div",{className:"border-t border-gray-700 pt-2 mt-2",children:h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{className:"text-yellow-500",children:n("settings.privacy.hideExactLocation")}),h.jsx("input",{type:"checkbox",checked:l.hideExactLocation,onChange:g=>y("hideExactLocation",g.target.checked),className:"w-5 h-5 accent-pink-600"})]})})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-3",children:n("settings.privacy.messages.title")}),h.jsxs("div",{className:"space-y-3 bg-gray-800 p-4 rounded-xl",children:[h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{children:n("settings.privacy.allowMessagesFromMatchesOnly")}),h.jsx("input",{type:"checkbox",checked:l.allowMessagesFromMatchesOnly,onChange:g=>y("allowMessagesFromMatchesOnly",g.target.checked),className:"w-5 h-5 accent-pink-600"})]}),!l.allowMessagesFromMatchesOnly&&h.jsxs(h.Fragment,{children:[h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{children:n("settings.privacy.allowMessagesFromSingles")}),h.jsx("input",{type:"checkbox",checked:l.allowMessagesFromSingles,onChange:g=>y("allowMessagesFromSingles",g.target.checked),className:"w-5 h-5 accent-pink-600"})]}),h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{children:n("settings.privacy.allowMessagesFromCouples")}),h.jsx("input",{type:"checkbox",checked:l.allowMessagesFromCouples,onChange:g=>y("allowMessagesFromCouples",g.target.checked),className:"w-5 h-5 accent-pink-600"})]})]})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-3",children:n("settings.privacy.photos.title")}),h.jsx("div",{className:"space-y-3 bg-gray-800 p-4 rounded-xl",children:h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{children:n("settings.privacy.blurPhotosForStrangers")}),h.jsx("input",{type:"checkbox",checked:l.blurPhotosForStrangers,onChange:g=>y("blurPhotosForStrangers",g.target.checked),className:"w-5 h-5 accent-pink-600"})]})})]}),h.jsx("button",{onClick:m,disabled:r,className:"w-full py-3 bg-pink-600 hover:bg-pink-700 rounded-xl font-bold shadow-lg transition-all disabled:opacity-50",children:n(r?"settings.privacy.saving":"settings.privacy.save")})]})}const N3=async(n,e)=>{const t=et(De,"profiles",n);await Eo(t,{blockedUserIds:ZP(e)})};function R3(){const{t:n}=Ut(),{profile:e,loading:t}=Or(),[r,a]=N.useState({}),[l,u]=N.useState(!1);N.useEffect(()=>{e&&a(e.safetySettings||{showSafetyTipsOnLogin:!0,allowScreenshotWarning:!0})},[e]);const m=async()=>{if(e){u(!0);try{await Eo(et(De,"profiles",e.id),{safetySettings:r})}catch(g){console.error(g),alert(n("settings.security.saveError"))}finally{u(!1)}}},y=async g=>{if(e&&window.confirm(n("safety.unblock.confirmTitle")))try{await N3(e.id,g),alert(n("safety.unblock.success"))}catch(v){console.error(v)}};return t?h.jsx("div",{className:"p-4 text-white",children:"Loading..."}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-3",children:n("settings.security.tips.title")}),h.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 space-y-4 border border-gray-700",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("p",{className:"text-sm text-gray-300",children:n("settings.security.tips.adultOnly")})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("p",{className:"text-sm text-gray-300",children:n("settings.security.tips.consent")})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("p",{className:"text-sm text-gray-300",children:n("settings.security.tips.discretion")})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("p",{className:"text-sm text-gray-300",children:n("settings.security.tips.photos")})]}),h.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-700",children:[h.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[h.jsx("span",{className:"text-sm font-medium",children:n("settings.security.tips.showOnLogin")}),h.jsx("input",{type:"checkbox",checked:r.showSafetyTipsOnLogin,onChange:g=>{a(v=>({...v,showSafetyTipsOnLogin:g.target.checked}))},className:"w-5 h-5 accent-pink-600"})]}),h.jsx("button",{onClick:m,disabled:l,className:"mt-3 text-xs text-pink-500 hover:text-pink-400 font-bold uppercase",children:n(l?"settings.account.saving":"settings.account.save")})]})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-3",children:n("settings.security.blocked.title")}),h.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[!e?.blockedUserIds||e.blockedUserIds.length===0?h.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:n("settings.security.blocked.empty")}):h.jsx("div",{className:"space-y-3",children:e.blockedUserIds.map(g=>h.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-3 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-xs",children:""}),h.jsx("span",{className:"text-sm font-mono text-gray-300 truncate w-32",children:g})]}),h.jsx("button",{onClick:()=>y(g),className:"text-xs bg-gray-700 hover:bg-gray-600 px-3 py-1.5 rounded transition-colors",children:n("settings.security.blocked.unblock")})]},g))}),h.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:n("settings.security.blocked.info")})]})]})]})}function k3(n){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[l,u]=N.useState(null);return N.useEffect(()=>{async function y(){if(!n){a(!0);return}a(!0),u(null);try{const g=Qn(De,"singles_swipes"),v=ba(g,Rr("fromUserId","==",n.id)),x=await mi(v),w=new Set(x.docs.map(j=>j.data().toUserId)),I=Qn(De,"profiles"),O=ba(I,Rr("accountType","==","USER")),D=await mi(O),P=[],B=new Set(n.blockedUserIds||[]),H=n.searchPreferences,$=H?.autoApplyOnSinglesSwipe,ae=n.homeCountryCode||n.country,se=n.preferredCountries||(ae?[ae]:[]),z=!1;D.forEach(j=>{const M=j.data();if(j.id===n.id||w.has(j.id)||B.has(j.id)||M.blockedUserIds?.includes(n.id)||M.privacySettings?.visibleInSingles===!1||$&&(H?.preferredGenders?.length&&M.gender&&!H.preferredGenders.includes(M.gender)||H?.preferredAgeRanges?.length&&M.ageRange&&!H.preferredAgeRanges.includes(M.ageRange)||H?.onlyVerified&&M.verificationStatus!=="OFFICIAL"&&M.verificationStatus!=="BUSINESS"||H?.onlyWithPhoto&&!M.mainPhotoUrl||H?.preferSameRegion&&M.region&&n.region&&M.region!==n.region||H?.preferredRegions?.length&&!H.preferredRegions.some(Me=>M.region?.includes(Me)||M.city?.includes(Me))&&!H.preferSameRegion))return;const k=M.homeCountryCode||M.country;z&&k&&se.includes(k),P.push(M)});const C=[],S=[];P.forEach(j=>{const M=j.homeCountryCode||j.country;ae&&M===ae?C.push(j):S.push(j)});const R=j=>{for(let M=j.length-1;M>0;M--){const k=Math.floor(Math.random()*(M+1));[j[M],j[k]]=[j[k],j[M]]}return j},U=[...R(C),...R(S)];t(U)}catch(g){console.error("Error fetching singles deck:",g),u(g)}finally{a(!1)}}y()},[n]),{deck:e,loading:r,error:l,removeTopCard:()=>{t(y=>y.slice(1))}}}const I3=async(n,e,t)=>{if(t==="PASS")return console.log(`[DEBUG SWIPE] PASS de ${n.id} para ${e.id}`),{isMatch:!1};const r=n.id,a=e.id,l=n.accountType==="USER"?"SINGLES":"COUPLES";console.log(`[DEBUG SWIPE] LIKE de ${r} para ${a} no contexto ${l}`);const u=`${r}_${a}`,m=et(De,"likes",u);await gi(m,{fromProfileId:r,toProfileId:a,context:l,createdAt:Yn()},{merge:!0});const y=`${a}_${r}`;if((await Mn(et(De,"likes",y))).exists()){console.log(`[DEBUG SWIPE] Match detectado entre ${r} e ${a}`);const[v,x]=[r,a].sort(),w=`${v}_${x}`,I=et(De,"matches",w);try{return await XP(De,async O=>{(await O.get(I)).exists()?(console.log(`[DEBUG SWIPE] Match ${w} j existe. A atualizar timestamp.`),O.update(I,{lastActivityAt:Yn()})):(console.log(`[DEBUG SWIPE] A criar novo match: ${w}`),O.set(I,{id:w,profileIds:[v,x],context:l,createdAt:Yn(),lastActivityAt:Yn()}))}),{isMatch:!0,matchId:w}}catch(O){return console.error("[ERROR SWIPE] Falha na transao de criao de match:",O),{isMatch:!1}}}return{isMatch:!1}};function Wf({verificationStatus:n,size:e="md"}){if(n==="NONE"||!n)return null;const r=(()=>{switch(n){case"OFFICIAL":return{text:"Oficial",icon:"",color:"bg-blue-500 text-white"};case"BUSINESS":return{text:"Business",icon:"",color:"bg-yellow-500 text-black"};default:return null}})();if(!r)return null;const a=e==="sm"?"text-[10px]":"text-xs",l=e==="sm"?"px-1.5 py-0":"px-2 py-0.5";return h.jsxs("div",{className:`flex items-center space-x-1 ${l} rounded-full ${a} font-semibold ${r.color}`,children:[h.jsx("span",{children:r.icon}),h.jsx("span",{children:r.text})]})}function y1({profile:n}){const{t:e}=Ut(),t=l=>Ws.find(u=>u.id===l)?.label||"",r=l=>Kl.find(u=>u.id===l)?.label||l,a=n.interests?.slice(0,5)||[];return h.jsxs("div",{className:"relative w-full h-[60vh] rounded-3xl overflow-hidden shadow-2xl bg-gray-800 border-2 border-slate-700 select-none",children:[h.jsx("img",{src:n.mainPhotoUrl||"https://via.placeholder.com/400x500?text=No+Photo",alt:n.nickname,className:"w-full h-full object-cover pointer-events-none",draggable:"false"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/30 to-transparent"}),h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white pb-8",children:[h.jsxs("div",{className:"flex flex-col gap-1 mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h2",{className:"text-3xl font-bold shadow-black drop-shadow-md",children:n.nickname}),h.jsx(Wf,{verificationStatus:n.verificationStatus})]}),h.jsxs("div",{className:"flex items-center gap-2 text-lg font-medium text-gray-200",children:[n.ageRange&&h.jsx("span",{children:t(n.ageRange)}),n.ageRange&&(n.city||n.region)&&h.jsx("span",{children:""}),(n.city||n.region)&&h.jsxs("span",{children:[n.city?`${n.city}, `:"",n.region]})]})]}),n.description&&h.jsx("p",{className:"text-sm text-gray-300 line-clamp-2 mb-4 drop-shadow-sm font-light leading-relaxed",children:e(n.description)||n.description}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.map(l=>h.jsx("span",{className:"px-3 py-1 rounded-full bg-white/10 backdrop-blur-md text-xs font-semibold text-white border border-white/20 shadow-sm",children:r(l)},l)),n.interests&&n.interests.length>5&&h.jsxs("span",{className:"px-3 py-1 rounded-full bg-white/10 backdrop-blur-md text-xs font-semibold text-white border border-white/20 shadow-sm",children:["+",n.interests.length-5]})]})]})]})}function D3({deck:n,loading:e,error:t,onSwipe:r,onOpenProfile:a}){const{t:l}=Ut(),u=It(),[m,y]=N.useState(!1),g=n[0],v=async w=>{if(!(m||!g)){y(!0);try{await r(g,w)}finally{y(!1)}}},x=()=>{a&&g?a(g):g&&u(`/profiles/${g.id}`)};return e?h.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] w-full max-w-sm mx-auto bg-gray-800 rounded-3xl animate-pulse",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 mb-4"}),h.jsx("p",{className:"text-gray-500 font-medium",children:l("singles.home.loading")})]}):t?h.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] w-full max-w-sm mx-auto text-center p-6",children:[h.jsxs("p",{className:"text-red-400 mb-4 font-medium",children:[" ",l("singles.home.error")]}),h.jsx("p",{className:"text-xs text-gray-500",children:t.message})]}):g?h.jsxs("div",{className:"flex flex-col items-center space-y-6 w-full max-w-md mx-auto",children:[h.jsx("div",{className:"w-full relative group cursor-pointer",onClick:x,children:h.jsx(y1,{profile:g})}),h.jsxs("div",{className:"flex items-center justify-center gap-8 pt-2",children:[h.jsx("button",{onClick:w=>{w.stopPropagation(),v("PASS")},disabled:m,"aria-label":l("singles.home.actions.pass"),className:"w-16 h-16 rounded-full bg-gray-900 border-2 border-gray-600 text-red-500 flex items-center justify-center text-3xl hover:bg-red-500/10 hover:border-red-500 hover:scale-110 transition-all shadow-xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),h.jsx("button",{onClick:w=>{w.stopPropagation(),v("LIKE")},disabled:m,"aria-label":l("singles.home.actions.like"),className:"w-16 h-16 rounded-full bg-gray-900 border-2 border-emerald-500 text-emerald-500 flex items-center justify-center text-3xl hover:bg-emerald-500/10 hover:scale-110 transition-all shadow-xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] w-full max-w-sm mx-auto text-center p-8 bg-gray-800 rounded-3xl border border-gray-700 shadow-xl",children:[h.jsx("div",{className:"text-6xl mb-6 animate-bounce",children:""}),h.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:l("singles.home.emptyDeck")}),h.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:l("singles.home.emptyDeckSubtitle")}),h.jsxs("div",{className:"space-y-3 w-full",children:[h.jsx("button",{onClick:()=>u("/singles/explore"),className:"w-full py-3 px-6 bg-pink-600 hover:bg-pink-700 text-white rounded-xl font-semibold transition-colors shadow-lg",children:l("singles.home.ctaExplore")}),h.jsx("button",{onClick:()=>u("/singles/preferences"),className:"w-full py-3 px-6 bg-gray-700 hover:bg-gray-600 text-white rounded-xl font-medium transition-colors",children:l("singles.home.ctaPreferences")})]})]})}function O3({profile:n,onClose:e,onGoToChat:t}){const{t:r}=Ut();return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:h.jsxs("div",{className:"bg-gray-900 border border-pink-500 rounded-2xl max-w-sm w-full p-8 text-center shadow-[0_0_50px_rgba(236,72,153,0.3)] animate-bounce-in",children:[h.jsx("div",{className:"text-5xl mb-4",children:""}),h.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500 mb-2",children:r("singles.matchOverlay.title")}),h.jsx("p",{className:"text-gray-300 mb-6",children:r("singles.matchOverlay.subtitle",{name:n.nickname})}),h.jsx("div",{className:"w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-pink-500 mb-8 shadow-lg",children:h.jsx("img",{src:n.mainPhotoUrl||"https://via.placeholder.com/150",alt:n.nickname,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("button",{onClick:t,className:"w-full py-3 rounded-xl bg-pink-600 font-bold text-white hover:bg-pink-700 transition-colors shadow-lg",children:r("singles.matchOverlay.chatButton")}),h.jsx("button",{onClick:e,className:"w-full py-3 rounded-xl bg-gray-800 font-semibold text-gray-300 hover:bg-gray-700 transition-colors",children:r("singles.matchOverlay.keepPlaying")})]})]})})}const P3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),j3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),mw=n=>{const e=j3(n);return e.charAt(0).toUpperCase()+e.slice(1)},v1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),M3=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var L3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const V3=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...m},y)=>N.createElement("svg",{ref:y,...L3,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:v1("lucide",a),...!l&&!M3(m)&&{"aria-hidden":"true"},...m},[...u.map(([g,v])=>N.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Ql=(n,e)=>{const t=N.forwardRef(({className:r,...a},l)=>N.createElement(V3,{ref:l,iconNode:e,className:v1(`lucide-${P3(mw(n))}`,`lucide-${n}`,r),...a}));return t.displayName=mw(n),t};const U3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],b1=Ql("building-2",U3);const z3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],F3=Ql("circle-check-big",z3);const B3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yu=Ql("map-pin",B3);const q3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_1=Ql("user",q3);const H3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],G3=Ql("users",H3);const $3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y3=Ql("x",$3);function K3({profile:n,compact:e=!1,className:t=""}){const r=y=>Ws.find(g=>g.id===y)?.label||"",a=n.privacySettings?.showCity!==!1,l=n.privacySettings?.showRegion!==!1,u=[];a&&n.city&&u.push(n.city),l&&n.region&&u.push(n.region);const m=u.join(", ");return h.jsxs("div",{className:`flex flex-col ${t}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:`font-bold text-white ${e?"text-lg":"text-2xl"}`,children:n.nickname}),n.ageRange&&h.jsxs("span",{className:`font-normal text-gray-400 ${e?"text-sm":"text-lg"}`,children:[" ",r(n.ageRange)]})]}),m&&h.jsxs("div",{className:"flex items-center text-gray-400 mt-1 text-sm",children:[h.jsx(Yu,{className:"w-3.5 h-3.5 mr-1"}),h.jsx("span",{className:"truncate",children:m})]})]})}function Q3({interests:n,limit:e,className:t=""}){if(!n||n.length===0)return null;const r=e?n.slice(0,e):n,a=n.length-r.length,l=u=>Kl.find(m=>m.id===u)?.label||u;return h.jsxs("div",{className:`flex flex-wrap gap-2 ${t}`,children:[r.map(u=>h.jsx("span",{className:"px-3 py-1 rounded-full bg-white/10 text-xs font-medium text-gray-200 border border-white/10 backdrop-blur-sm",children:l(u)},u)),a>0&&h.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-800 text-xs font-medium text-gray-400 border border-gray-700",children:["+",a]})]})}async function W3(n,e){try{const t=et(De,"profiles",n);await Eo(t,{blockedUserIds:JP(e)})}catch(t){throw console.error("Error blocking user:",t),t}}async function X3(n,e,t="other"){try{await fA(Qn(De,"reports"),{reporterUserId:n,reportedUserId:e,type:"PROFILE",reason:t,createdAt:Yn()})}catch(r){throw console.error("Error reporting user:",r),r}}function x1({profile:n,open:e,onClose:t,mode:r,onLike:a,onPass:l,onOpenChat:u,onViewFullProfile:m,showSafetyActions:y=!1}){const{t:g}=Ut(),v=N.useRef(null),[x]=Js(Lt);if(!e||!n)return null;const w=P=>{v.current&&!v.current.contains(P.target)&&t()};let I=_1;n.accountType==="COUPLE"&&(I=G3),n.accountType==="CLUB"&&(I=b1);const O=async()=>{if(x&&confirm(g("safety.block.confirmTitle")))try{await W3(x.uid,n.id),alert(g("safety.block.success")),t()}catch(P){console.error(P),alert("Erro ao bloquear utilizador.")}},D=async()=>{if(x&&confirm(g("safety.report.profile.title")))try{await X3(x.uid,n.id),alert(g("safety.report.profile.success")),t()}catch(P){console.error(P),alert("Erro ao denunciar utilizador.")}};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 md:p-8 animate-fade-in",onClick:w,children:h.jsxs("div",{ref:v,className:"bg-gray-900 w-full max-w-md h-full max-h-[85vh] md:h-auto rounded-3xl overflow-hidden shadow-2xl flex flex-col border border-gray-800 relative",children:[h.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-20 p-2 bg-black/40 rounded-full text-white hover:bg-black/60 transition-colors",children:h.jsx(Y3,{size:20})}),h.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[h.jsxs("div",{className:"relative w-full aspect-[4/5] bg-gray-800",children:[n.mainPhotoUrl?h.jsx("img",{src:n.mainPhotoUrl,alt:n.nickname,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:h.jsx(I,{size:64})}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent opacity-90"}),h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 pt-12 bg-gradient-to-t from-gray-900 to-transparent",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("h2",{className:"text-3xl font-bold text-white shadow-black drop-shadow-md",children:n.nickname}),h.jsx(Wf,{verificationStatus:n.verificationStatus})]}),h.jsx(K3,{profile:n,className:"mb-3"})]})]}),h.jsxs("div",{className:"p-6 pt-2 space-y-6 bg-gray-900",children:[n.description&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold uppercase text-gray-500 mb-2",children:g("profile.aboutTitle")}),h.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:g(n.description)||n.description})]}),n.interests&&n.interests.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold uppercase text-gray-500 mb-2",children:g("profile.interestsTitle")}),h.jsx(Q3,{interests:n.interests})]}),y&&h.jsxs("div",{className:"pt-4 border-t border-gray-800 flex justify-center gap-6",children:[h.jsx("button",{onClick:O,className:"text-xs text-red-400 hover:text-red-300 uppercase font-bold tracking-wide",children:g("safety.block.button")}),h.jsx("button",{onClick:D,className:"text-xs text-gray-500 hover:text-gray-300 uppercase font-bold tracking-wide",children:g("safety.report.profile.title")})]}),h.jsx("div",{className:"h-20"})]})]}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gray-900/90 backdrop-blur-md border-t border-gray-800 flex items-center justify-center gap-6 z-20",children:r==="SINGLE"?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>l&&l(n),className:"w-14 h-14 rounded-full bg-gray-800 border-2 border-red-500/50 text-red-500 flex items-center justify-center text-2xl hover:bg-red-500/10 hover:scale-105 transition-all shadow-lg",children:""}),u&&h.jsx("button",{onClick:()=>u(n),className:"w-12 h-12 rounded-full bg-gray-800 border border-gray-600 text-blue-400 flex items-center justify-center hover:bg-blue-500/10 transition-all",title:g("profile.actions.sendMessage"),children:""}),h.jsx("button",{onClick:()=>a&&a(n),className:"w-14 h-14 rounded-full bg-gray-800 border-2 border-green-500/50 text-green-500 flex items-center justify-center text-2xl hover:bg-green-500/10 hover:scale-105 transition-all shadow-lg",children:""})]}):h.jsxs(h.Fragment,{children:[m&&h.jsx("button",{onClick:()=>m(n),className:"flex-1 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-xl font-semibold text-sm transition-colors border border-gray-700",children:"Ver Perfil Completo"}),u&&h.jsx("button",{onClick:()=>u(n),className:"flex-1 py-3 bg-pink-600 hover:bg-pink-700 text-white rounded-xl font-semibold text-sm transition-colors shadow-lg",children:g("profile.actions.sendMessage")})]})})]})})}function J3(){const{profile:n}=Or(),{deck:e,loading:t,error:r,removeTopCard:a}=k3(n),[l,u]=N.useState(null),m=It(),{t:y}=Ut(),[g,v]=N.useState(null),[x,w]=N.useState(!1),I=async(B,H)=>{if(n){x&&w(!1);try{(await I3(n,B,H==="DISLIKE"?"PASS":H)).isMatch&&(console.log("[DEBUG UI]  um Match! A mostrar overlay.",B),u(B)),a()}catch($){console.error("Ocorreu um erro ao processar o swipe:",$)}}},O=B=>{v(B),w(!0)},D=()=>{w(!1),v(null)},P=async B=>{if(n)try{const[H,$]=[n.id,B.id].sort(),ae=`${H}_${$}`,se=et(De,"matches",ae);(await Mn(se)).exists()?(D(),m(`/singles/chat/${ae}`)):alert(y("settings.messaging.restricted.matchesOnly")||" necessrio um match para conversar.")}catch(H){console.error("Erro ao verificar o match:",H)}};return h.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4 flex flex-col items-center pt-8",children:[h.jsx(D3,{deck:e,loading:t,error:r,onSwipe:I,onOpenProfile:O}),l&&h.jsx(O3,{profile:l,onClose:()=>u(null),onGoToChat:()=>{u(null),m("/singles/matches")}}),h.jsx(x1,{profile:g,open:x&&!!g,onClose:D,mode:"SINGLE",onLike:B=>I(B,"LIKE"),onPass:B=>I(B,"PASS"),onOpenChat:P,showSafetyActions:!0})]})}function Z3({filters:n,onChange:e,onClear:t}){const{t:r}=Ut(),[a,l]=N.useState(!1),u=(y,g)=>{e({...n,[y]:g})},m=(y,g)=>y.includes(g)?y.filter(v=>v!==g):[...y,g];return h.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 mb-6 border border-gray-700",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h2",{className:"text-lg font-bold text-white",children:"Filtros"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:t,className:"text-xs text-gray-400 hover:text-white underline",children:r("singles.explore.filters.clear")}),h.jsx("button",{onClick:()=>l(!a),className:"text-pink-500",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-6 h-6 transition-transform ${a?"rotate-180":""}`,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"})})})]})]}),a&&h.jsxs("div",{className:"space-y-4 mt-4 border-t border-gray-700 pt-4 animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700",children:[h.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Only profiles from my country"}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n.onlyMyCountry,onChange:y=>u("onlyMyCountry",y.target.checked)}),h.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-pink-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:r("singles.preferences.genders.label")}),h.jsx("div",{className:"flex gap-2",children:["F","M","NB"].map(y=>h.jsx("button",{onClick:()=>u("genders",m(n.genders,y)),className:`px-3 py-1 rounded text-sm border ${n.genders.includes(y)?"bg-pink-600 border-pink-600 text-white":"bg-gray-900 border-gray-600 text-gray-400"}`,children:r(y==="F"?"gender.female":y==="M"?"gender.male":"gender.nonBinary")},y))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:r("singles.preferences.ageRanges.label")}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Ws.map(y=>h.jsx("button",{onClick:()=>u("ageRanges",m(n.ageRanges,y.id)),className:`px-3 py-1 rounded text-xs border ${n.ageRanges.includes(y.id)?"bg-pink-600 border-pink-600 text-white":"bg-gray-900 border-gray-600 text-gray-400"}`,children:y.label},y.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:r("singles.preferences.region.label")}),h.jsx("input",{type:"text",value:n.region,onChange:y=>u("region",y.target.value),placeholder:"Ex: Lisboa",className:"w-full bg-gray-900 border border-gray-600 rounded px-3 py-2 text-sm focus:border-pink-500 focus:outline-none"})]}),h.jsxs("div",{className:"flex gap-4 pt-2",children:[h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:n.onlyVerified,onChange:y=>u("onlyVerified",y.target.checked),className:"accent-pink-600"}),h.jsx("span",{className:"text-sm text-gray-300",children:r("singles.preferences.onlyVerified")})]}),h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:n.onlyWithPhoto,onChange:y=>u("onlyWithPhoto",y.target.checked),className:"accent-pink-600"}),h.jsx("span",{className:"text-sm text-gray-300",children:r("singles.preferences.onlyWithPhoto")})]})]})]})]})}function eV({profiles:n,onProfileClick:e}){const t=It(),r=l=>Ws.find(u=>u.id===l)?.label||"",a=l=>{e?e(l):t(`/profiles/${l.id}`)};return h.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 pb-20",children:n.map(l=>h.jsx("div",{onClick:()=>a(l),className:"bg-gray-800 rounded-2xl overflow-hidden shadow-lg relative group cursor-pointer",children:h.jsxs("div",{className:"aspect-[3/4] w-full relative",children:[h.jsx("img",{src:l.mainPhotoUrl||"https://via.placeholder.com/300x400",alt:l.nickname,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-80"}),h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 text-white",children:[h.jsxs("h3",{className:"text-base font-bold flex items-center flex-wrap gap-1",children:[l.nickname,l.ageRange&&h.jsxs("span",{className:"text-xs font-normal text-gray-300",children:[" ",r(l.ageRange)]})]}),h.jsx("p",{className:"text-xs text-gray-400 mt-0.5 truncate",children:l.city||l.region}),h.jsx("div",{className:"flex gap-1 mt-2 overflow-hidden h-5",children:l.interests?.slice(0,2).map(u=>h.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-white/10 rounded border border-white/10 truncate max-w-[80px]",children:u},u))}),l.verificationStatus==="OFFICIAL"&&h.jsx("div",{className:"absolute top-2 right-2 bg-blue-500/90 p-1 rounded-full shadow-sm backdrop-blur-sm",children:h.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})]})},l.id))})}function tV(){const{t:n}=Ut(),{profile:e}=Or(),t=It(),[r,a]=N.useState([]),[l,u]=N.useState([]),[m,y]=N.useState(!0),[g,v]=N.useState(null),[x,w]=N.useState(!1),[I,O]=N.useState({genders:[],ageRanges:[],region:"",onlyVerified:!1,onlyWithPhoto:!1,onlyMyCountry:!1}),[D,P]=N.useState(!1);N.useEffect(()=>{if(e&&e.searchPreferences&&!D){const se=e.searchPreferences;se.autoApplyOnSinglesExplore&&O({genders:se.preferredGenders||[],ageRanges:se.preferredAgeRanges||[],region:(se.preferSameRegion?e.region:se.preferredRegions?.[0])||"",onlyVerified:se.onlyVerified||!1,onlyWithPhoto:se.onlyWithPhoto||!1,onlyMyCountry:!1}),P(!0)}},[e,D]),N.useEffect(()=>{async function se(){if(e){y(!0);try{const z=ba(Qn(De,"profiles"),Rr("accountType","==","USER")),C=await mi(z),S=[],R=new Set(e.blockedUserIds||[]);C.forEach(U=>{const j=U.data();U.id!==e.id&&(R.has(U.id)||j.blockedUserIds?.includes(e.id)||j.privacySettings?.visibleInSingles!==!1&&S.push(j))}),a(S)}catch(z){console.error("Error loading explore profiles:",z)}finally{y(!1)}}}e&&se()},[e]),N.useEffect(()=>{if(!e)return;let se=r;const z=e.homeCountryCode||e.country,C=e.preferredCountries||(z?[z]:[]);if(I.onlyMyCountry?se=se.filter(S=>{const R=S.homeCountryCode||S.country;return R&&C.includes(R)}):se=[...se].sort((S,R)=>{const U=S.homeCountryCode||S.country,j=R.homeCountryCode||R.country,M=U&&C.includes(U)?1:0;return(j&&C.includes(j)?1:0)-M}),I.genders.length>0&&(se=se.filter(S=>S.gender&&I.genders.includes(S.gender))),I.ageRanges.length>0&&(se=se.filter(S=>S.ageRange&&I.ageRanges.includes(S.ageRange))),I.region.trim()){const S=I.region.toLowerCase();se=se.filter(R=>R.region?.toLowerCase().includes(S)||R.city?.toLowerCase().includes(S))}I.onlyVerified&&(se=se.filter(S=>S.verificationStatus==="OFFICIAL"||S.verificationStatus==="BUSINESS")),I.onlyWithPhoto&&(se=se.filter(S=>!!S.mainPhotoUrl)),u(se)},[r,I,e]);const B=()=>{O({genders:[],ageRanges:[],region:"",onlyVerified:!1,onlyWithPhoto:!1,onlyMyCountry:!1})},H=se=>{v(se),w(!0)},$=()=>{w(!1),v(null)},ae=async se=>{if(e)try{const[z,C]=[e.id,se.id].sort(),S=`${z}_${C}`,R=et(De,"singles_matches",S);(await Mn(R)).exists()?($(),t(`/singles/chat/${S}`)):alert(n("settings.messaging.restricted.matchesOnly")||"S podes enviar mensagem a quem tens match.")}catch(z){console.error("Error checking match:",z)}};return m?h.jsx("div",{className:"p-8 text-center text-white",children:n("singles.explore.loading")}):h.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4 pb-20",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:n("singles.explore.title")}),h.jsx("p",{className:"text-gray-400 text-sm",children:n("singles.explore.subtitle")})]}),h.jsx(Z3,{filters:I,onChange:O,onClear:B}),l.length===0?h.jsx("div",{className:"text-center py-20 text-gray-500",children:n("singles.explore.empty")}):h.jsx(eV,{profiles:l,onProfileClick:H}),h.jsx(x1,{profile:g,open:x&&!!g,onClose:$,mode:"SINGLE",onOpenChat:ae,showSafetyActions:!0})]})}function nV(){const{t:n}=Ut(),e=It(),{profile:t,loading:r}=Or(),[a,l]=N.useState(!1),[u,m]=N.useState({});N.useEffect(()=>{t&&t.searchPreferences&&m(t.searchPreferences)},[t]);const y=async()=>{if(t){l(!0);try{await Eo(et(De,"profiles",t.id),{searchPreferences:u}),e("/singles")}catch(w){console.error("Error saving preferences:",w),alert(n("singles.preferences.saveError"))}finally{l(!1)}}},g=w=>{m(I=>{const O=I.preferredGenders||[],D=O.includes(w)?O.filter(P=>P!==w):[...O,w];return{...I,preferredGenders:D}})},v=w=>{m(I=>{const O=I.preferredAgeRanges||[],D=O.includes(w)?O.filter(P=>P!==w):[...O,w];return{...I,preferredAgeRanges:D}})},x=w=>{m(I=>{const O=I.preferredInterests||[],D=O.includes(w)?O.filter(P=>P!==w):[...O,w];return{...I,preferredInterests:D}})};return r?h.jsx("div",{className:"p-8 text-white",children:"Loading..."}):h.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 pb-20",children:h.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[h.jsxs("header",{children:[h.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500",children:n("singles.preferences.title")}),h.jsx("p",{className:"text-gray-400",children:n("singles.preferences.subtitle")})]}),h.jsxs("section",{className:"bg-gray-800 p-4 rounded-xl space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium",children:n("singles.preferences.autoApply.explore")}),h.jsx("input",{type:"checkbox",checked:u.autoApplyOnSinglesExplore||!1,onChange:w=>m({...u,autoApplyOnSinglesExplore:w.target.checked}),className:"w-5 h-5 accent-pink-600 rounded"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium",children:n("singles.preferences.autoApply.swipe")}),h.jsx("input",{type:"checkbox",checked:u.autoApplyOnSinglesSwipe||!1,onChange:w=>m({...u,autoApplyOnSinglesSwipe:w.target.checked}),className:"w-5 h-5 accent-pink-600 rounded"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase mb-3",children:n("singles.preferences.genders.label")}),h.jsx("div",{className:"flex gap-3",children:["F","M","NB"].map(w=>h.jsx("button",{onClick:()=>g(w),className:`px-4 py-2 rounded-lg border transition-colors ${u.preferredGenders?.includes(w)?"bg-pink-600 border-pink-600 text-white":"bg-gray-800 border-gray-700 text-gray-400"}`,children:n(w==="F"?"gender.female":w==="M"?"gender.male":"gender.nonBinary")},w))})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase mb-3",children:n("singles.preferences.ageRanges.label")}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Ws.map(w=>h.jsx("button",{onClick:()=>v(w.id),className:`px-3 py-1.5 rounded-lg border text-sm transition-colors ${u.preferredAgeRanges?.includes(w.id)?"bg-pink-600 border-pink-600 text-white":"bg-gray-800 border-gray-700 text-gray-400"}`,children:n(`ageRange.${w.id}`)},w.id))})]}),h.jsxs("section",{className:"space-y-3",children:[h.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase",children:n("singles.preferences.region.label")}),h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("input",{type:"checkbox",checked:u.preferSameRegion||!1,onChange:w=>m({...u,preferSameRegion:w.target.checked}),className:"w-4 h-4 accent-pink-600"}),h.jsx("span",{className:"text-sm",children:n("singles.preferences.preferSameRegion")})]}),h.jsx("input",{type:"text",placeholder:n("singles.preferences.region.placeholder"),value:u.preferredRegions?.[0]||"",onChange:w=>m({...u,preferredRegions:[w.target.value]}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-pink-500"})]}),h.jsxs("section",{className:"space-y-3 bg-gray-800 p-4 rounded-xl",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm",children:n("singles.preferences.onlyVerified")}),h.jsx("input",{type:"checkbox",checked:u.onlyVerified||!1,onChange:w=>m({...u,onlyVerified:w.target.checked}),className:"w-5 h-5 accent-pink-600 rounded"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm",children:n("singles.preferences.onlyWithPhoto")}),h.jsx("input",{type:"checkbox",checked:u.onlyWithPhoto||!1,onChange:w=>m({...u,onlyWithPhoto:w.target.checked}),className:"w-5 h-5 accent-pink-600 rounded"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase mb-3",children:n("singles.preferences.interests.label")}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Kl.map(w=>h.jsx("button",{onClick:()=>x(w.id),className:`px-3 py-1 rounded-full border text-xs transition-colors ${u.preferredInterests?.includes(w.id)?"bg-emerald-600 border-emerald-600 text-white":"bg-gray-800 border-gray-700 text-gray-400"}`,children:w.label},w.id))})]}),h.jsx("button",{onClick:y,disabled:a,className:"w-full py-3 bg-gradient-to-r from-pink-600 to-purple-600 rounded-xl font-bold shadow-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:n(a?"singles.preferences.saving":"singles.preferences.saveButton")})]})})}function sV(){const{t:n}=Ut(),e=It(),{profile:t}=Or(),[r,a]=N.useState([]),[l,u]=N.useState(!0),[m,y]=N.useState(null);return N.useEffect(()=>{async function g(){if(!t?.id){a([]),u(!1);return}u(!0),y(null);try{const v=ba(Qn(De,"singles_matches"),Rr("userIds","array-contains",t.id)),x=await mi(v),w=[];for(const I of x.docs){const P=(I.data().userIds||[]).find(ae=>ae!==t.id);if(!P)continue;const B=await Mn(et(De,"profiles",P));if(!B.exists())continue;const $={...B.data(),id:P};w.push({id:I.id,otherUser:$})}a(w)}catch(v){console.error("[SinglesMatchesPage] Error loading matches",v),y(v.message||"Unknown error")}finally{u(!1)}}g()},[t?.id]),l?h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:h.jsx("p",{className:"text-gray-400 text-sm",children:n("singles.matches.loading")})}):m?h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center px-4",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("p",{className:"text-red-400 font-semibold mb-2",children:[" ",n("singles.home.error")]}),h.jsx("p",{className:"text-xs text-gray-500 break-all",children:m})]})}):r.length===0?h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center px-4",children:h.jsxs("div",{className:"max-w-sm w-full text-center",children:[h.jsx("div",{className:"text-5xl mb-4",children:""}),h.jsx("h1",{className:"text-2xl font-bold mb-2",children:n("singles.matches.title")}),h.jsx("p",{className:"text-gray-400 mb-6",children:n("singles.matches.empty")}),h.jsx("button",{onClick:()=>e("/singles"),className:"w-full py-3 px-6 bg-pink-600 hover:bg-pink-700 text-white rounded-xl font-semibold transition-colors",children:n("singles.matches.goSwipe")})]})}):h.jsx("div",{className:"min-h-screen bg-gray-900 text-white px-4 pt-4 pb-24",children:h.jsxs("div",{className:"max-w-xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:n("singles.matches.title")}),h.jsx("p",{className:"text-gray-400 text-sm",children:n("singles.matches.listTitle")})]}),h.jsx("div",{className:"space-y-4",children:r.map(({id:g,otherUser:v})=>h.jsxs("button",{onClick:()=>e(`/singles/chat/${g}`),className:"w-full flex items-center gap-4 bg-gray-800 hover:bg-gray-750 border border-gray-700 rounded-2xl p-3 text-left transition-colors",children:[h.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:h.jsx("img",{src:v.mainPhotoUrl||"https://via.placeholder.com/80x80?text=No+Photo",alt:v.nickname||"Match",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"font-semibold truncate",children:v.nickname||"User"}),h.jsx(Wf,{verificationStatus:v.verificationStatus})]}),h.jsx("div",{className:"text-xs text-gray-400 mb-1 truncate",children:(v.city||v.region)&&h.jsxs("span",{children:[v.city?`${v.city}${v.region?", ":""}`:"",v.region]})}),v.description&&h.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:v.description})]}),h.jsx("div",{className:"flex items-center",children:h.jsx("span",{className:"text-pink-400 text-xs font-semibold",children:n("singles.matchOverlay.chatButton")})})]},g))})]})})}function rV(n){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[l,u]=N.useState(null),[m,y]=N.useState(n);return n!==m&&(y(n),a(!0),t([])),N.useEffect(()=>{if(!n)return;const g=Qn(De,"conversations",n,"messages"),v=ba(g,HP("createdAt","asc")),x=cv(v,w=>{const I=w.docs.map(O=>({id:O.id,...O.data()}));t(I),a(!1)},w=>{console.error("Error listening to messages:",w),u(w),a(!1)});return()=>x()},[n]),{messages:e,loading:r,error:l}}function iV(){const{conversationId:n}=yf(),e=It(),{t}=Ut(),[r]=Js(Lt),[a,l]=N.useState(null),[u,m]=N.useState(""),[y,g]=N.useState(!1),{messages:v,loading:x}=rV(n),w=N.useRef(null);N.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[v]),N.useEffect(()=>{if(!r||!n)return;async function O(){try{const D=et(De,"conversations",n),P=await Mn(D);if(!P.exists()){console.error("Conversation not found"),e("/singles/matches");return}const B=P.data();if(!B.userIds.includes(r.uid)){alert(t("singles.chat.noAccess")),e("/singles");return}const H=B.userIds.find($=>$!==r.uid);if(H){const $=et(De,"profiles",H),ae=await Mn($);ae.exists()&&l(ae.data())}}catch(D){console.error("Error checking chat access:",D)}}O()},[n,r,e,t]);const I=async O=>{if(O.preventDefault(),!(!u.trim()||!r||!n)){g(!0);try{const D=u.trim();await fA(Qn(De,"conversations",n,"messages"),{senderId:r.uid,text:D,createdAt:Yn()}),await gi(et(De,"conversations",n),{lastMessage:{text:D,senderId:r.uid,createdAt:Yn()},lastActivityAt:Yn()},{merge:!0}),m("")}catch(D){console.error("Failed to send message:",D)}finally{g(!1)}}};return x||!a?h.jsx("div",{className:"h-screen bg-gray-900 text-white flex items-center justify-center",children:"Loading chat..."}):h.jsxs("div",{className:"flex flex-col h-screen bg-gray-900 text-white",children:[h.jsxs("header",{className:"flex items-center px-4 py-3 border-b border-gray-800 bg-gray-900/95 backdrop-blur sticky top-0 z-10",children:[h.jsx("button",{onClick:()=>e("/singles/matches"),className:"mr-4 p-2 text-gray-400 hover:text-white",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:a.mainPhotoUrl||"https://via.placeholder.com/40",alt:a.nickname,className:"w-10 h-10 rounded-full object-cover border border-gray-700"}),h.jsxs("div",{children:[h.jsx("h2",{className:"font-bold text-sm",children:a.nickname}),h.jsx("p",{className:"text-xs text-gray-400",children:a.city||a.region})]})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-3",children:[v.length===0&&h.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:h.jsx("p",{children:t("singles.chat.emptyState")})}),v.map(O=>{const D=O.senderId===r?.uid;return h.jsx("div",{className:`flex ${D?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-[75%] px-4 py-2 rounded-2xl text-sm ${D?"bg-pink-600 text-white rounded-br-none":"bg-gray-800 text-gray-200 rounded-bl-none"}`,children:O.text})},O.id)}),h.jsx("div",{ref:w})]}),h.jsx("div",{className:"border-t border-gray-800 px-3 py-3 bg-gray-900",children:h.jsxs("form",{onSubmit:I,className:"flex gap-2",children:[h.jsx("input",{type:"text",value:u,onChange:O=>m(O.target.value),placeholder:t("singles.chat.input.placeholder"),className:"flex-1 bg-gray-800 border-none text-white rounded-full px-4 py-2 focus:ring-2 focus:ring-pink-600 focus:outline-none placeholder-gray-500"}),h.jsx("button",{type:"submit",disabled:y||!u.trim(),className:"bg-pink-600 text-white p-2 rounded-full hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:h.jsx("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"})})})]})})]})}function aV({profile:n}){const e=It(),{t}=Ut(),r=n.accountType||(n.type==="SINGLE_F"||n.type==="SINGLE_M"?"USER":n.type)||"USER",a=n.verificationStatus||"NONE",l=n.relationshipType||"COUPLE",u=n.experienceLevel||"NEW",m=n.interests||[],y=Ev.find(O=>O.id===l)?.label,g=xv.find(O=>O.id===u)?.label,x=(()=>{switch(r){case"COUPLE":return{label:"Casal",color:"bg-purple-500"};case"USER":return n.type==="SINGLE_F"?{label:"Mulher",color:"bg-pink-500"}:n.type==="SINGLE_M"?{label:"Homem",color:"bg-blue-500"}:{label:"Pessoa",color:"bg-gray-500"};case"CLUB":return{label:"Clube",color:"bg-orange-500"};case"ORGANIZER":return{label:"Organizador",color:"bg-teal-500"};default:return{label:"Perfil",color:"bg-gray-500"}}})(),w=n.mainPhotoUrl?.includes("unsplash.com")?`${n.mainPhotoUrl}&w=400&h=500&fit=crop`:n.mainPhotoUrl,I=()=>{e(`/profiles/${n.id}`)};return h.jsxs("div",{onClick:I,role:"button",tabIndex:0,onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&I()},className:"bg-gray-900 rounded-3xl overflow-hidden shadow-lg relative flex flex-col h-full border border-gray-800 transition-transform hover:scale-[1.02] cursor-pointer group",children:[h.jsxs("div",{className:"w-full aspect-[4/5] relative",children:[w?h.jsx("img",{src:w,alt:n.nickname,className:"w-full h-full object-cover transition-opacity group-hover:opacity-90",loading:"lazy"}):h.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center transition-opacity group-hover:opacity-90",children:h.jsx(_1,{className:"w-16 h-16 text-gray-600"})}),h.jsx("div",{className:`absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-bold text-white shadow-md ${x.color}`,children:x.label})]}),h.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-white truncate group-hover:text-pink-500 transition-colors",children:n.nickname}),h.jsx(Wf,{verificationStatus:a})]}),h.jsx("p",{className:"text-gray-400 text-xs mb-3 flex-grow line-clamp-2",children:n.description?t(n.description):""}),h.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-3",children:[h.jsx(Yu,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),h.jsx("span",{className:"truncate",children:n.city?`${n.city}, ${n.region}`:n.region})]}),h.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[y&&h.jsx("div",{className:"px-2 py-1 bg-gray-800 text-gray-300 text-xs rounded-md font-medium",children:y}),g&&h.jsx("div",{className:"px-2 py-1 bg-gray-800 text-gray-300 text-xs rounded-md font-medium",children:g})]}),h.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[m.slice(0,3).map(O=>{const D=Kl.find(P=>P.id===O);return D?h.jsx("span",{className:"px-2 py-1 bg-emerald-900/50 text-emerald-300 text-xs rounded",children:D.label},D.id):null}),m.length>3&&h.jsxs("span",{className:"px-2 py-1 bg-gray-700 text-gray-400 text-xs rounded",children:["+",m.length-3]})]}),h.jsx("div",{className:"flex-grow"}),h.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-gray-800",children:[h.jsxs("div",{className:"flex items-center space-x-1.5",children:[h.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}),h.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Ativo"})]}),h.jsx("div",{onClick:O=>O.stopPropagation(),children:h.jsx(KL,{className:"text-xs",onClick:I,children:t("profile.actions.requestAccess")})})]})]})]})}function oV(){const[n,e]=N.useState([]),[t,r]=N.useState(!0),[a,l]=N.useState(null);return N.useEffect(()=>{(async()=>{try{r(!0);const m=Qn(De,"profiles"),g=(await mi(m)).docs.map(v=>({id:v.id,...v.data()}));e(g)}catch(m){console.error("Error fetching profiles:",m),l(m)}finally{r(!1)}})()},[]),{profiles:n,loading:t,error:a}}function lV(){const{t:n}=Ut(),e=It(),[t,r]=N.useState(""),[a,l]=N.useState("ALL"),[u,m]=N.useState("ALL"),[y,g]=N.useState("ALL"),[v,x]=N.useState("ALL"),[w,I]=N.useState("ALL"),[O,D]=N.useState(!0),{profiles:P,loading:B,error:H}=oV(),$=P.find(z=>z.id===Lt.currentUser?.uid);N.useEffect(()=>{if(!$)return;const z=$.searchPreferences,C=z?.autoApplyOnExplore??!0;setTimeout(()=>{D(C),!(!C||!z)&&(z.preferredAgeRanges&&z.preferredAgeRanges.length===1?x(z.preferredAgeRanges[0]):x("ALL"))},0)},[$]);const ae=()=>{r(""),l("ALL"),m("ALL"),g("ALL"),x("ALL"),I("ALL"),D(!1)},se=P.filter(z=>{if(z.id===Lt.currentUser?.uid||z.privacySettings?.visibleInExplore===!1||$?.blockedUserIds?.includes(z.id)||z.blockedUserIds?.includes($?.id||""))return!1;const C=t.toLowerCase(),S=z.nickname?.toLowerCase()||"",R=z.region?.toLowerCase()||"",U=z.city?.toLowerCase()||"",j=z.description?n(z.description)?.toLowerCase():"";if(!(S.includes(C)||R.includes(C)||U.includes(C)||j.includes(C)))return!1;if(a!=="ALL"){const k=z.type,Te=z.accountType;if(a==="COUPLE"&&k!=="COUPLE"&&Te!=="COUPLE"||a==="SINGLE_F"&&k!=="SINGLE_F"||a==="SINGLE_M"&&k!=="SINGLE_M")return!1}if(u!=="ALL"&&z.relationshipType!==u||y!=="ALL"&&z.experienceLevel!==y||v!=="ALL"&&(!z.ageRange||z.ageRange!==v))return!1;if(w!=="ALL"){const k=z.interests||[],Te=Me=>Me.some(J=>k.includes(J));switch(w){case"HETERO":if(!Te(["hetero_only"]))return!1;break;case"SHE_BI":if(!Te(["she_bi"]))return!1;break;case"HE_BI":if(!Te(["he_bi"]))return!1;break;case"BOTH_BI":if(!Te(["both_bi"]))return!1;break;case"GAY_LESBIAN":if(!Te(["same_gender"]))return!1;break}}if(O&&$?.searchPreferences){const k=$.searchPreferences,Te=z.accountType==="COUPLE"||z.type==="COUPLE",Me=z.type==="SINGLE_F",J=z.type==="SINGLE_M",he=z.relationshipType==="GROUP";let _e=!1;if((k.lookingForCouples||k.lookingForSingleWomen||k.lookingForSingleMen||k.lookingForGroups)&&(k.lookingForCouples&&Te&&(_e=!0),k.lookingForSingleWomen&&Me&&(_e=!0),k.lookingForSingleMen&&J&&(_e=!0),k.lookingForGroups&&he&&(_e=!0),!_e)||v==="ALL"&&k.preferredAgeRanges&&k.preferredAgeRanges.length>0&&(!z.ageRange||!k.preferredAgeRanges.includes(z.ageRange)))return!1;if(w==="ALL"&&k.preferredOrientationTags&&k.preferredOrientationTags.length>0){const Ge=z.interests||[];if(!k.preferredOrientationTags.some(oe=>Ge.includes(oe)))return!1}}return!0});return h.jsx("div",{className:"min-h-screen bg-black text-white pb-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:n("header.explore")}),h.jsx("p",{className:"text-md text-gray-400 mt-2",children:"Descobre casais e singles compatveis contigo."})]}),h.jsxs("div",{className:"relative mb-6",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-500",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),h.jsx("input",{type:"text",placeholder:"Buscar por nome, regio, cidade...",className:"w-full bg-gray-900 border border-gray-800 text-white rounded-full pl-12 pr-4 py-3 text-base placeholder-gray-500 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-colors",value:t,onChange:z=>r(z.target.value)})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[h.jsx("button",{onClick:()=>l("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all border ${a==="ALL"?"bg-pink-600 text-white border-pink-600":"bg-gray-900 text-gray-400 border-gray-700"}`,children:"Todos"}),h.jsx("button",{onClick:()=>l("COUPLE"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all border ${a==="COUPLE"?"bg-pink-600 text-white border-pink-600":"bg-gray-900 text-gray-400 border-gray-700"}`,children:"Casais"}),h.jsx("button",{onClick:()=>l("SINGLE_F"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all border ${a==="SINGLE_F"?"bg-pink-600 text-white border-pink-600":"bg-gray-900 text-gray-400 border-gray-700"}`,children:"Mulheres"}),h.jsx("button",{onClick:()=>l("SINGLE_M"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all border ${a==="SINGLE_M"?"bg-pink-600 text-white border-pink-600":"bg-gray-900 text-gray-400 border-gray-700"}`,children:"Homens"})]}),h.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-800 mb-8 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-1 ml-1",children:"Relao"}),h.jsxs("select",{value:u,onChange:z=>m(z.target.value),className:"bg-gray-800 border border-gray-700 text-white text-xs rounded-lg focus:ring-emerald-500 focus:border-emerald-500 block w-full p-2",children:[h.jsx("option",{value:"ALL",children:"Todos"}),Ev.map(z=>h.jsx("option",{value:z.id,children:z.label},z.id))]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-1 ml-1",children:"Experincia"}),h.jsxs("select",{value:y,onChange:z=>g(z.target.value),className:"bg-gray-800 border border-gray-700 text-white text-xs rounded-lg focus:ring-emerald-500 focus:border-emerald-500 block w-full p-2",children:[h.jsx("option",{value:"ALL",children:"Todos"}),xv.map(z=>h.jsx("option",{value:z.id,children:z.label},z.id))]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-1 ml-1",children:"Idade"}),h.jsxs("select",{value:v,onChange:z=>x(z.target.value),className:"bg-gray-800 border border-gray-700 text-white text-xs rounded-lg focus:ring-emerald-500 focus:border-emerald-500 block w-full p-2",children:[h.jsx("option",{value:"ALL",children:"Todos"}),Ws.map(z=>h.jsx("option",{value:z.id,children:z.label},z.id))]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-1 ml-1",children:"Orientao"}),h.jsxs("select",{value:w,onChange:z=>I(z.target.value),className:"bg-gray-800 border border-gray-700 text-white text-xs rounded-lg focus:ring-emerald-500 focus:border-emerald-500 block w-full p-2",children:[h.jsx("option",{value:"ALL",children:"Todos"}),h.jsx("option",{value:"HETERO",children:"Hetero apenas"}),h.jsx("option",{value:"SHE_BI",children:"Ela bi"}),h.jsx("option",{value:"HE_BI",children:"Ele bi"}),h.jsx("option",{value:"BOTH_BI",children:"Ambos bi"}),h.jsx("option",{value:"GAY_LESBIAN",children:"Gay / Lsbico"})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-800/50",children:[$&&h.jsxs("div",{className:"flex items-center gap-2",title:"Usa as tuas preferncias de perfil para filtrar resultados",children:[h.jsx("button",{type:"button",onClick:()=>D(z=>!z),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${O?"bg-emerald-600":"bg-gray-700"}`,children:h.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${O?"translate-x-4":"translate-x-1"}`})}),h.jsx("span",{className:`text-xs font-medium ${O?"text-emerald-400":"text-gray-500"}`,children:"Filtro automtico"})]}),h.jsx(QL,{onClick:ae,className:"text-xs text-gray-500 hover:text-white ml-auto",children:"Limpar filtros"})]})]}),B&&h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mt-4",children:[...Array(6)].map((z,C)=>h.jsxs("div",{className:"bg-gray-900 rounded-3xl h-80 animate-pulse border border-gray-800 overflow-hidden",children:[h.jsx("div",{className:"h-56 bg-gray-800"}),h.jsxs("div",{className:"p-4 space-y-3",children:[h.jsx("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),h.jsx("div",{className:"h-3 bg-gray-800 rounded w-1/2"}),h.jsx("div",{className:"h-3 bg-gray-800 rounded w-full"})]})]},C))}),H&&h.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[h.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),h.jsx("p",{className:"text-red-400 font-medium",children:"Erro ao carregar perfis"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:H.message})]}),!B&&!H&&h.jsx(h.Fragment,{children:se.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:se.map(z=>h.jsx("div",{onClick:()=>e(`/profiles/${z.id}`),className:"cursor-pointer",children:h.jsx(aV,{profile:z})},z.id))}):h.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[h.jsx("p",{className:"text-4xl mb-4",children:""}),h.jsx("p",{className:"text-gray-400 font-medium",children:P.length>0?"Nenhum perfil corresponde  tua pesquisa.":"Ainda no existem perfis para mostrar."}),P.length>0&&h.jsx("button",{onClick:ae,className:"mt-6 px-5 py-2 bg-emerald-600 text-white font-semibold rounded-full hover:bg-emerald-700 transition-colors",children:"Limpar Filtros"})]})})]})})}function cV(){const{t:n}=Ut(),[e,t]=N.useState([]),[r,a]=N.useState(!0);return N.useEffect(()=>{async function l(){try{const u=ba(Qn(De,"profiles"),Rr("accountType","==","USER"),Rr("isSingleZone","==",!0),Rr("visibleToCouples","==",!0)),m=await mi(u),y=[];m.forEach(g=>{y.push(g.data())}),t(y)}catch(u){console.error("Error loading singles:",u)}finally{a(!1)}}l()},[]),r?h.jsx("div",{className:"p-8 text-center text-white",children:"Loading..."}):h.jsxs("div",{className:"p-4 min-h-screen bg-gray-900 text-white pb-20",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Explorar Singles"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.length===0?h.jsx("p",{className:"text-gray-400 col-span-full text-center py-10",children:"No foram encontrados singles disponveis de momento."}):e.map(l=>h.jsxs("div",{className:"bg-gray-800 rounded-3xl p-4 shadow-lg flex flex-col space-y-4",children:[h.jsx("div",{className:"h-[400px] w-full relative rounded-2xl overflow-hidden",children:h.jsx(y1,{profile:l})}),h.jsx("button",{disabled:!l.allowMessagesFromCouples,className:`w-full py-3 rounded-xl font-bold transition-colors ${l.allowMessagesFromCouples?"bg-pink-600 text-white hover:bg-pink-700 shadow-lg":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,onClick:()=>{l.allowMessagesFromCouples&&console.log("Open chat WIP")},children:l.allowMessagesFromCouples?n("profile.actions.sendMessage"):"No aceita mensagens"})]},l.id))})]})}const uV=[{id:"evt1",title:"Noite de Vero na Piscina",description:"Uma festa exclusiva  beira da piscina com cocktails refrescantes e msica ambiente.",date:"2024-08-15T21:00:00Z",city:"Lisboa",region:"Lisboa",countryCode:"PT",isFeatured:!0,coverImageUrl:"https://images.unsplash.com/photo-1578940829379-1c595b1ead66?auto=format&fit=crop&q=80&w=800",clubId:"mock_club1",tags:["piscina","festa","exclusivo"]},{id:"evt2",title:"Baile de Mscaras Misterioso",description:"Traga a sua mscara e deixe-se envolver pelo mistrio de uma noite elegante.",date:"2024-08-22T22:00:00Z",city:"Porto",region:"Porto",countryCode:"PT",isFeatured:!0,coverImageUrl:"https://images.unsplash.com/photo-1596700249549-3c35b803a56b?auto=format&fit=crop&q=80&w=800",tags:["mistrio","elegante"]},{id:"evt_es_1",title:"Fiesta de la Luna",description:"Una noche mgica bajo la luna llena en Barcelona.",date:"2024-09-10T23:00:00Z",city:"Barcelona",countryCode:"ES",isFeatured:!0,coverImageUrl:"https://images.unsplash.com/photo-1533174072545-e8d4aa97d89b?auto=format&fit=crop&q=80&w=800",tags:["fiesta","noche"]}];function E1(){const[n,e]=N.useState([]),[t,r]=N.useState(!0),[a,l]=N.useState(null);return N.useEffect(()=>{setTimeout(()=>{try{e(uV),r(!1)}catch(u){l(u instanceof Error?u:new Error("Failed to fetch events")),r(!1)}},500)},[]),{events:n,loading:t,error:a}}const w1=6048e5,dV=864e5,gw=Symbol.for("constructDateFrom");function _a(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&gw in n?n[gw](e):n instanceof Date?new n.constructor(e):new Date(e)}function Zs(n,e){return _a(e||n,n)}let hV={};function Xf(){return hV}function Nu(n,e){const t=Xf(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Zs(n,e?.in),l=a.getDay(),u=(l<r?7:0)+l-r;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function gf(n,e){return Nu(n,{...e,weekStartsOn:1})}function T1(n,e){const t=Zs(n,e?.in),r=t.getFullYear(),a=_a(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=gf(a),u=_a(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const m=gf(u);return t.getTime()>=l.getTime()?r+1:t.getTime()>=m.getTime()?r:r-1}function pw(n){const e=Zs(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function fV(n,...e){const t=_a.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function yw(n,e){const t=Zs(n,e?.in);return t.setHours(0,0,0,0),t}function mV(n,e,t){const[r,a]=fV(t?.in,n,e),l=yw(r),u=yw(a),m=+l-pw(l),y=+u-pw(u);return Math.round((m-y)/dV)}function gV(n,e){const t=T1(n,e),r=_a(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),gf(r)}function pV(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function yV(n){return!(!pV(n)&&typeof n!="number"||isNaN(+Zs(n)))}function vV(n,e){const t=Zs(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const bV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_V=(n,e,t)=>{let r;const a=bV[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function bp(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const xV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TV={date:bp({formats:xV,defaultWidth:"full"}),time:bp({formats:EV,defaultWidth:"full"}),dateTime:bp({formats:wV,defaultWidth:"full"})},SV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AV=(n,e,t,r)=>SV[n];function eu(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,m=t?.width?String(t.width):u;a=n.formattingValues[m]||n.formattingValues[u]}else{const u=n.defaultWidth,m=t?.width?String(t.width):n.defaultWidth;a=n.values[m]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(e):e;return a[l]}}const CV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OV=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},PV={ordinalNumber:OV,era:eu({values:CV,defaultWidth:"wide"}),quarter:eu({values:NV,defaultWidth:"wide",argumentCallback:n=>n-1}),month:eu({values:RV,defaultWidth:"wide"}),day:eu({values:kV,defaultWidth:"wide"}),dayPeriod:eu({values:IV,defaultWidth:"wide",formattingValues:DV,defaultFormattingWidth:"wide"})};function tu(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(a);if(!l)return null;const u=l[0],m=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],y=Array.isArray(m)?MV(m,x=>x.test(u)):jV(m,x=>x.test(u));let g;g=n.valueCallback?n.valueCallback(y):y,g=t.valueCallback?t.valueCallback(g):g;const v=e.slice(u.length);return{value:g,rest:v}}}function jV(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function MV(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function LV(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],l=e.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const m=e.slice(a.length);return{value:u,rest:m}}}const VV=/^(\d+)(th|st|nd|rd)?/i,UV=/\d+/i,zV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FV={any:[/^b/i,/^(a|c)/i]},BV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qV={any:[/1/i,/2/i,/3/i,/4/i]},HV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$V={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WV={ordinalNumber:LV({matchPattern:VV,parsePattern:UV,valueCallback:n=>parseInt(n,10)}),era:tu({matchPatterns:zV,defaultMatchWidth:"wide",parsePatterns:FV,defaultParseWidth:"any"}),quarter:tu({matchPatterns:BV,defaultMatchWidth:"wide",parsePatterns:qV,defaultParseWidth:"any",valueCallback:n=>n+1}),month:tu({matchPatterns:HV,defaultMatchWidth:"wide",parsePatterns:GV,defaultParseWidth:"any"}),day:tu({matchPatterns:$V,defaultMatchWidth:"wide",parsePatterns:YV,defaultParseWidth:"any"}),dayPeriod:tu({matchPatterns:KV,defaultMatchWidth:"any",parsePatterns:QV,defaultParseWidth:"any"})},XV={code:"en-US",formatDistance:_V,formatLong:TV,formatRelative:AV,localize:PV,match:WV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JV(n,e){const t=Zs(n,e?.in);return mV(t,vV(t))+1}function ZV(n,e){const t=Zs(n,e?.in),r=+gf(t)-+gV(t);return Math.round(r/w1)+1}function S1(n,e){const t=Zs(n,e?.in),r=t.getFullYear(),a=Xf(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=_a(e?.in||n,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const m=Nu(u,e),y=_a(e?.in||n,0);y.setFullYear(r,0,l),y.setHours(0,0,0,0);const g=Nu(y,e);return+t>=+m?r+1:+t>=+g?r:r-1}function e5(n,e){const t=Xf(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=S1(n,e),l=_a(e?.in||n,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),Nu(l,e)}function t5(n,e){const t=Zs(n,e?.in),r=+Nu(t,e)-+e5(t,e);return Math.round(r/w1)+1}function dt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ta={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return dt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):dt(t+1,2)},d(n,e){return dt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return dt(n.getHours()%12||12,e.length)},H(n,e){return dt(n.getHours(),e.length)},m(n,e){return dt(n.getMinutes(),e.length)},s(n,e){return dt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return dt(a,e.length)}},gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vw={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return ta.y(n,e)},Y:function(n,e,t,r){const a=S1(n,r),l=a>0?a:1-a;if(e==="YY"){const u=l%100;return dt(u,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):dt(l,e.length)},R:function(n,e){const t=T1(n);return dt(t,e.length)},u:function(n,e){const t=n.getFullYear();return dt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return dt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return dt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ta.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return dt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=t5(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):dt(a,e.length)},I:function(n,e,t){const r=ZV(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):dt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ta.d(n,e)},D:function(n,e,t){const r=JV(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):dt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return dt(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return dt(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return dt(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=gl.noon:r===0?a=gl.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=gl.evening:r>=12?a=gl.afternoon:r>=4?a=gl.morning:a=gl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ta.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ta.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ta.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ta.s(n,e)},S:function(n,e){return ta.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return _w(r);case"XXXX":case"XX":return no(r);case"XXXXX":case"XXX":default:return no(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return _w(r);case"xxxx":case"xx":return no(r);case"xxxxx":case"xxx":default:return no(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bw(r,":");case"OOOO":default:return"GMT"+no(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bw(r,":");case"zzzz":default:return"GMT"+no(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return dt(r,e.length)},T:function(n,e,t){return dt(+n,e.length)}};function bw(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),l=r%60;return l===0?t+String(a):t+String(a)+e+dt(l,2)}function _w(n,e){return n%60===0?(n>0?"-":"+")+dt(Math.abs(n)/60,2):no(n,e)}function no(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=dt(Math.trunc(r/60),2),l=dt(r%60,2);return t+a+e+l}const xw=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},A1=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},n5=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return xw(n,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",xw(r,e)).replace("{{time}}",A1(a,e))},s5={p:A1,P:n5},r5=/^D+$/,i5=/^Y+$/,a5=["D","DD","YY","YYYY"];function o5(n){return r5.test(n)}function l5(n){return i5.test(n)}function c5(n,e,t){const r=u5(n,e,t);if(console.warn(r),a5.includes(n))throw new RangeError(r)}function u5(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const d5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f5=/^'([^]*?)'?$/,m5=/''/g,g5=/[a-zA-Z]/;function p5(n,e,t){const r=Xf(),a=r.locale??XV,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,m=Zs(n,t?.in);if(!yV(m))throw new RangeError("Invalid time value");let y=e.match(h5).map(v=>{const x=v[0];if(x==="p"||x==="P"){const w=s5[x];return w(v,a.formatLong)}return v}).join("").match(d5).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:y5(v)};if(vw[x])return{isToken:!0,value:v};if(x.match(g5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(y=a.localize.preprocessor(m,y));const g={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return y.map(v=>{if(!v.isToken)return v.value;const x=v.value;(l5(x)||o5(x))&&c5(x,e,String(n));const w=vw[x[0]];return w(m,x,a.localize,g)}).join("")}function y5(n){const e=n.match(f5);return e?e[1].replace(m5,"'"):n}const kv=({event:n})=>{const e=n.date?p5(new Date(n.date),"d MMM"):"";return h.jsxs(An,{to:`/events/${n.id}`,className:"block bg-slate-800 rounded-lg overflow-hidden group",children:[h.jsx("div",{className:"h-40 bg-cover bg-center",style:{backgroundImage:`url(${n.coverImageUrl||"https://via.placeholder.com/400x200"})`}}),h.jsxs("div",{className:"p-4",children:[h.jsx("p",{className:"text-sm text-rose-400 font-semibold",children:e}),h.jsx("h3",{className:"font-bold text-white mt-1 truncate group-hover:text-rose-300",children:n.title}),h.jsxs("div",{className:"flex items-center text-slate-400 text-sm mt-2",children:[h.jsx(Yu,{size:14,className:"mr-1"}),h.jsx("span",{children:n.city})]})]})]})};function v5(){const{events:n,loading:e}=E1(),t=n.filter(r=>r.isFeatured);return e||t.length===0?null:h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Eventos em Destaque"}),h.jsx("div",{className:"flex space-x-6 overflow-x-auto pb-4 scrollbar-hide",children:t.map(r=>h.jsx("div",{className:"w-80 flex-shrink-0",children:h.jsx(kv,{event:r})},r.id))})]})}function b5(){const{t:n}=Ut(),{events:e,loading:t,error:r}=E1(),{profile:a}=Or(),[l,u]=N.useState(""),[m,y]=N.useState("ALL"),[g,v]=N.useState("ALL"),[x,w]=N.useState(()=>{const B=localStorage.getItem("xlife.eventsCountryFilter");return B||(a?.homeCountryCode?a.homeCountryCode:"PT")}),I=B=>{w(B),localStorage.setItem("xlife.eventsCountryFilter",B)},O=N.useMemo(()=>Array.from(new Set(e.map(B=>B.region||B.city))).filter(Boolean).sort(),[e]),D=N.useMemo(()=>{const B=a?.homeCountryCode||a?.country,H=e.filter($=>{const ae=$.title.toLowerCase().includes(l.toLowerCase())||$.city.toLowerCase().includes(l.toLowerCase()),se=m==="ALL"||$.region===m||$.city===m;let z=!0;const C=new Date($.date),S=new Date;if(g==="THIS_MONTH")z=C.getMonth()===S.getMonth()&&C.getFullYear()===S.getFullYear();else if(g==="NEXT_MONTH"){const U=new Date(S.getFullYear(),S.getMonth()+1,1);z=C.getMonth()===U.getMonth()&&C.getFullYear()===U.getFullYear()}let R=!0;return x!=="ALL"&&(R=$.countryCode===x),ae&&se&&z&&R});return H.sort(($,ae)=>{const se=$.countryCode===B?1:0,z=ae.countryCode===B?1:0;return se!==z?z-se:new Date($.date).getTime()-new Date(ae.date).getTime()}),H},[e,l,m,g,x,a]),P=[{code:"PT",label:"Portugal"},{code:"ES",label:"Espanha"},{code:"FR",label:"Frana"},{code:"DE",label:"Alemanha"},{code:"ALL",label:"Todos"}];return h.jsx("div",{className:"min-h-screen bg-black text-white pb-20",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-8",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-8 gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:n("events.title")}),h.jsx("p",{className:"text-md text-gray-400 mt-2",children:n("events.subtitle")})]}),h.jsx("div",{className:"flex flex-wrap gap-2 bg-gray-900 p-1.5 rounded-xl border border-gray-800 self-start sm:self-center",children:P.map(B=>h.jsx("button",{onClick:()=>I(B.code),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${x===B.code?"bg-pink-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:B.code==="ALL"?"Todos":B.code},B.code))})]}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-10 bg-gray-900/50 p-4 rounded-xl border border-gray-800",children:[h.jsx("input",{type:"text",placeholder:n("events.searchPlaceholder"),className:"bg-gray-800 border border-gray-700 text-white text-sm rounded-lg focus:ring-pink-500 focus:border-pink-500 block w-full p-2.5",value:l,onChange:B=>u(B.target.value)}),h.jsxs("select",{className:"bg-gray-800 border border-gray-700 text-white text-sm rounded-lg focus:ring-pink-500 focus:border-pink-500 block w-full md:w-48 p-2.5",value:m,onChange:B=>y(B.target.value),children:[h.jsxs("option",{value:"ALL",children:[n("events.filterRegion"),": ",n("events.filterWhenAll")]}),O.map(B=>h.jsx("option",{value:B,children:B},B))]}),h.jsxs("select",{className:"bg-gray-800 border border-gray-700 text-white text-sm rounded-lg focus:ring-pink-500 focus:border-pink-500 block w-full md:w-48 p-2.5",value:g,onChange:B=>v(B.target.value),children:[h.jsxs("option",{value:"ALL",children:[n("events.filterWhen"),": ",n("events.filterWhenAll")]}),h.jsx("option",{value:"THIS_MONTH",children:n("events.filterWhenThisMonth")}),h.jsx("option",{value:"NEXT_MONTH",children:n("events.filterWhenNextMonth")})]})]}),h.jsx(v5,{}),h.jsx("h2",{className:"text-2xl font-bold text-white mb-6 mt-12",children:n("events.allEvents")}),t&&h.jsx("p",{className:"text-gray-400",children:n("events.loading")}),r&&h.jsx("p",{className:"text-red-500",children:n("events.error")}),!t&&!r&&h.jsx(h.Fragment,{children:D.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:D.map(B=>h.jsx(kv,{event:B},B.id))}):h.jsx("div",{className:"text-center py-10",children:h.jsx("p",{className:"text-gray-500",children:n("events.emptyState")})})})]})})}const _5=n=>{const[e,t]=N.useState(null),[r,a]=N.useState(!0),[l,u]=N.useState(null);return N.useEffect(()=>{let m=!0;return(async()=>{if(!n){a(!1);return}console.log(`[DEBUG HOOK] useEvent loading eventId=${n}`),a(!0);try{const g=et(De,"events",n),v=await Mn(g);m&&(v.exists()?(t(v.data()),console.log(`[DEBUG HOOK] useEvent loaded eventId=${n}`)):(console.warn(`[DEBUG HOOK] useEvent: No event found for eventId=${n}`),u("Este evento no foi encontrado.")))}catch(g){console.error(`[ERROR HOOK] useEvent error for eventId=${n}`,g),m&&u("Ocorreu um erro ao carregar o evento.")}finally{m&&a(!1)}})(),()=>{m=!1}},[n]),{event:e,loading:r,error:l}},x5=()=>{const{eventId:n}=yf(),[e]=Js(Lt),{event:t,loading:r,error:a}=_5(n),[l,u]=N.useState(!1),[m,y]=N.useState(!0);N.useEffect(()=>{if(e&&n){const v=et(De,`events/${n}/attendees`,e.uid);Mn(v).then(x=>{u(x.exists()),y(!1)})}},[e,n]);const g=async()=>{if(!e||!n)return;y(!0);const v=et(De,`events/${n}/attendees`,e.uid);l?(await YP(v),u(!1)):(await gi(v,{userId:e.uid,createdAt:Yn()}),u(!0)),y(!1)};return r?h.jsx("div",{className:"p-8 text-white",children:"A carregar evento..."}):a||!t?h.jsx("div",{className:"p-8 text-red-400",children:a||"Evento no encontrado."}):h.jsx("div",{className:"min-h-screen bg-slate-950 text-white pb-20",children:h.jsx("div",{className:"max-w-5xl mx-auto px-4",children:h.jsx("button",{onClick:g,disabled:m,className:`w-full py-3 rounded-lg font-bold transition-colors ${l?"bg-green-700 text-white":"bg-rose-600 hover:bg-rose-500 text-white"}`,children:m?"Aguarde...":l?"Interesse Registado ":"Tenho Interesse"})})})};function E5(){const[n,e]=N.useState([]),[t,r]=N.useState(!0),[a,l]=N.useState(null);return N.useEffect(()=>{(async()=>{try{const y=(await mi(Qn(De,"clubs"))).docs.map(g=>({id:g.id,...g.data()}));e(y)}catch(m){l(m)}finally{r(!1)}})()},[]),{clubs:n,loading:t,error:a}}function Ew({club:n}){const{t:e}=Ut(),t=n.mainPhotoUrl?.includes("unsplash.com")?`${n.mainPhotoUrl}&w=400&h=250&fit=crop`:n.mainPhotoUrl,r=n.tier==="PREMIUM"||n.tier==="PREMIUM_PLUS";return h.jsxs("div",{className:"w-full rounded-2xl bg-gray-900 border border-gray-800 overflow-hidden group transition-all hover:border-pink-500/50 hover:scale-[1.02] flex flex-col h-full",children:[h.jsxs("div",{className:"relative h-40 w-full bg-gray-800",children:[t?h.jsx("img",{src:t,alt:n.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105",loading:"lazy"}):h.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:h.jsx(b1,{className:"w-12 h-12 text-gray-600"})}),h.jsx("div",{className:"absolute top-2 left-2 flex gap-1",children:h.jsx("span",{className:"px-2 py-0.5 rounded-md bg-orange-500 text-white text-[10px] font-bold uppercase tracking-wider shadow-sm",children:"Clube"})}),r&&h.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded-md bg-emerald-500 text-black text-[10px] font-bold uppercase tracking-wider shadow-lg",children:"Premium"})]}),h.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[h.jsx("h3",{className:"font-semibold text-white truncate text-lg mb-1",children:n.name}),h.jsx("p",{className:"text-gray-400 text-xs mb-3 flex-grow",children:n.description?e(n.description):""}),h.jsxs("div",{className:"flex items-center text-gray-400 text-xs mb-4",children:[h.jsx(Yu,{className:"w-3 h-3 mr-1"}),h.jsxs("span",{children:[n.city,"  ",n.region]})]}),h.jsx("div",{className:"mt-auto pt-3 border-t border-gray-800 w-full",children:h.jsx(YL,{className:"w-full text-xs py-2",onClick:()=>console.log("Navigate to club:",n.id),children:"Ver clube"})})]})]})}function w5(){const{t:n}=Ut(),e=It(),{clubs:t,loading:r,error:a}=E5(),{profile:l}=Or(),[u,m]=N.useState(()=>{const D=localStorage.getItem("xlife.clubsCountryFilter");return D||(l?.homeCountryCode?l.homeCountryCode:"PT")}),y=D=>{m(D),localStorage.setItem("xlife.clubsCountryFilter",D)},g=N.useMemo(()=>{const D=l?.homeCountryCode||l?.country,P=(H,$)=>{const ae=H.countryCode===D?1:0,se=$.countryCode===D?1:0;return ae!==se?se-ae:H.name.localeCompare($.name)};let B=[...t];return u!=="ALL"&&(B=B.filter(H=>H.countryCode===u)),B.sort(P)},[t,l,u]),v=N.useMemo(()=>g.filter(D=>D.tier==="PREMIUM_PLUS"||D.tier==="PREMIUM"),[g]),x=N.useMemo(()=>g.filter(D=>D.tier==="FREE"),[g]),w=N.useMemo(()=>{const D={};for(const P of x){const B=P.region||"Outros";D[B]||(D[B]=[]),D[B].push(P)}return D},[x]),I=D=>{e(`/profiles/${D}`)},O=[{code:"PT",label:"Portugal"},{code:"ES",label:"Espanha"},{code:"FR",label:"Frana"},{code:"DE",label:"Alemanha"},{code:"ALL",label:"Todos"}];return h.jsx("div",{className:"min-h-screen bg-black text-white pb-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-8 gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold",children:n("header.clubs")}),h.jsxs("p",{className:"text-md text-gray-400 mt-2",children:["Descobre clubes selecionados ",u==="ALL"?"em todo o mundo":`em ${O.find(D=>D.code===u)?.label}`,"."]})]}),h.jsx("div",{className:"flex flex-wrap gap-2 bg-gray-900 p-1.5 rounded-xl border border-gray-800 self-start sm:self-center",children:O.map(D=>h.jsx("button",{onClick:()=>y(D.code),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${u===D.code?"bg-pink-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:D.code==="ALL"?"Todos":D.code},D.code))})]}),r&&h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:[...Array(6)].map((D,P)=>h.jsx("div",{className:"bg-gray-900 rounded-2xl h-52 animate-pulse border border-gray-800"},P))}),a&&h.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[h.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),h.jsx("p",{className:"text-red-400 font-medium",children:"Erro ao carregar clubes"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:a.message})]}),!r&&!a&&h.jsxs(h.Fragment,{children:[v.length>0&&h.jsxs("section",{className:"mt-6 mb-12",children:[h.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[h.jsx("span",{className:"mr-2",children:""})," Top Clubs"]}),h.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0",children:v.map(D=>h.jsx("div",{className:"w-72 flex-shrink-0 cursor-pointer",onClick:()=>I(D.id),children:h.jsx(Ew,{club:D})},D.id))})]}),h.jsxs("section",{className:"space-y-12",children:[Object.entries(w).length>0?Object.entries(w).map(([D,P])=>h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-4 border-l-4 border-pink-600 pl-3",children:D}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:P.map(B=>h.jsx("div",{onClick:()=>I(B.id),className:"cursor-pointer",children:h.jsx(Ew,{club:B})},B.id))})]},D)):t.length>0&&g.length===0?h.jsx("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:h.jsx("p",{className:"text-gray-400",children:'No h clubes neste filtro. Tenta ver "Todos".'})}):null,t.length===0&&h.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[h.jsx("p",{className:"text-4xl mb-4",children:""}),h.jsx("p",{className:"text-gray-400 font-medium",children:n("clubs.emptyState")})]})]})]})]})})}const T5=n=>{const[e,t]=N.useState(null),[r,a]=N.useState(!0),[l,u]=N.useState(null);return N.useEffect(()=>{let m=!0;return(async()=>{if(!n){a(!1);return}console.log(`[DEBUG HOOK] useClub loading clubId=${n}`),a(!0);try{const g=et(De,"clubs",n),v=await Mn(g);m&&(v.exists()?(t(v.data()),console.log(`[DEBUG HOOK] useClub loaded clubId=${n}`)):(console.warn(`[DEBUG HOOK] useClub: No club found for clubId=${n}`),u("Este clube no foi encontrado.")))}catch(g){console.error(`[ERROR HOOK] useClub error for clubId=${n}`,g),m&&u("Ocorreu um erro ao carregar o clube.")}finally{m&&a(!1)}})(),()=>{m=!1}},[n]),{club:e,loading:r,error:l}},S5=n=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0);return N.useEffect(()=>{(async()=>{if(!n){a(!1);return}a(!0);try{const u=Qn(De,"events"),m=ba(u,Rr("clubId","==",n),Rr("startDate",">=",xt.now())),g=(await mi(m)).docs.map(v=>{const x=v.data();return{id:v.id,...x,date:x.startDate?.toDate().toISOString()||"",coverImageUrl:x.coverPhotoUrl||x.coverImageUrl}});t(g)}catch(u){console.error("[ERROR] useEventsByClub:",u)}finally{a(!1)}})()},[n]),{events:e,loading:r}},A5=()=>h.jsxs("div",{className:"max-w-5xl mx-auto p-4 animate-pulse",children:[h.jsx("div",{className:"h-64 bg-slate-800/80 rounded-2xl mb-6"}),h.jsx("div",{className:"h-24 bg-slate-800/80 rounded w-full mb-6"}),h.jsx("div",{className:"h-48 bg-slate-800/80 rounded w-full"})]}),C5=()=>{const{clubId:n}=yf(),e=It(),{club:t,loading:r,error:a}=T5(n),{events:l,loading:u}=S5(n);return r?h.jsx("div",{className:"min-h-screen bg-slate-950 text-white p-8",children:h.jsx(A5,{})}):a||!t?h.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4",children:[h.jsx("p",{className:"text-xl text-red-400 bg-red-900/30 border border-red-500/40 rounded-lg px-4 py-3 text-center mb-6",children:a||"Clube no encontrado."}),h.jsx("button",{onClick:()=>e(-1),className:"bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 px-4 rounded",children:"Voltar"})]}):h.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[h.jsxs("div",{className:"relative h-56 md:h-80 w-full",children:[h.jsx("img",{src:t.coverPhotoUrl||"https://via.placeholder.com/1500x500",alt:`${t.name} cover`,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 to-transparent"})]}),h.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[h.jsx("div",{className:"relative -mt-16 sm:-mt-24"}),h.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsx("div",{className:"md:col-span-2",children:h.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg border border-slate-800",children:[h.jsx("h2",{className:"text-sm uppercase tracking-wider font-semibold text-slate-500 mb-3",children:"Sobre o Clube"}),h.jsx("p",{className:"text-slate-300 leading-relaxed whitespace-pre-wrap",children:t.description})]})}),h.jsx("div",{className:"space-y-6",children:h.jsx("div",{className:"bg-slate-900 p-6 rounded-lg border border-slate-800",children:h.jsx("h2",{className:"text-sm uppercase tracking-wider font-semibold text-slate-500 mb-3",children:"Informaes"})})})]}),h.jsxs("div",{className:"mt-12",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Prximos Eventos"}),u?h.jsx("p",{children:"A carregar eventos..."}):l.length>0?h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(m=>h.jsx(kv,{event:m},m.id))}):h.jsx("div",{className:"text-center py-12 bg-slate-900/50 border-2 border-dashed border-slate-700 rounded-lg",children:h.jsx("p",{className:"text-slate-400",children:"No h eventos futuros agendados para este clube."})})]})]})]})};function ww(){const[n,e]=N.useState(null),[t,r]=N.useState(!0),[a,l]=N.useState(null),[u,m]=N.useState(""),[y,g]=N.useState(""),[v,x]=N.useState(""),[w,I]=N.useState(""),[O,D]=N.useState(!1),[P,B]=N.useState(null),[H,$]=N.useState(!1);N.useEffect(()=>{const z=Lt.currentUser;if(!z){l("Not authenticated"),r(!1);return}const C=et(De,"profiles",z.uid),S=cv(C,R=>{if(R.exists()){const U=R.data();e(U)}else e(null);r(!1)},R=>{console.error(R),l("Failed to load profile"),r(!1)});return()=>S()},[]),N.useEffect(()=>{n&&(m(n.nickname||""),g(n.city||""),x(n.region||""),I(n.description||""))},[n]);const ae=async()=>{const z=Lt.currentUser;if(!z){B("Not authenticated");return}D(!0),B(null),$(!1);try{const C=et(De,"profiles",z.uid);await gi(C,{nickname:u.trim(),city:y.trim(),region:v.trim(),description:w.trim(),updatedAt:Yn()},{merge:!0}),$(!0),setTimeout(()=>$(!1),3e3)}catch(C){console.error(C),B("Erro ao guardar alteraes")}finally{D(!1)}};if(t)return h.jsx("div",{className:"min-h-screen bg-black text-white px-4 py-6",children:h.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[h.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[h.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-800 animate-pulse"}),h.jsx("div",{className:"h-8 w-48 bg-gray-800 rounded animate-pulse"}),h.jsx("div",{className:"h-4 w-32 bg-gray-800 rounded animate-pulse"})]}),h.jsxs("div",{className:"space-y-4 pt-6",children:[h.jsx("div",{className:"h-12 w-full bg-gray-800 rounded-xl animate-pulse"}),h.jsx("div",{className:"h-12 w-full bg-gray-800 rounded-xl animate-pulse"}),h.jsx("div",{className:"h-24 w-full bg-gray-800 rounded-xl animate-pulse"})]})]})});if(a)return h.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:h.jsx("p",{className:"text-red-400",children:a})});if(!n)return h.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center px-4",children:[h.jsx("p",{className:"text-gray-400 text-center mb-4",children:"Nenhum perfil encontrado."}),h.jsx("a",{href:"/onboarding",className:"px-6 py-2 bg-pink-600 rounded-full font-semibold hover:bg-pink-500 transition-colors",children:"Criar Perfil"})]});const se=z=>{if(z.accountType==="USER")switch(z.gender){case"F":return"Mulher";case"M":return"Homem";case"NB":return"No-binrio";default:return"Single"}else{if(z.accountType==="COUPLE")return"Casal";if(z.accountType==="CLUB")return"Clube";if(z.accountType==="ORGANIZER")return"Organizador"}return"Perfil"};return h.jsx("div",{className:"min-h-screen bg-black text-white pb-20",children:h.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsxs("div",{className:"relative mb-4",children:[n.mainPhotoUrl?h.jsx("img",{src:n.mainPhotoUrl,alt:n.nickname,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-900 shadow-xl"}):h.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-500 flex items-center justify-center border-4 border-gray-900 shadow-xl",children:h.jsx("span",{className:"text-3xl font-bold text-white opacity-70",children:n.nickname.charAt(0).toUpperCase()})}),h.jsx("button",{className:"absolute bottom-0 right-0 p-1.5 bg-gray-800 rounded-full border border-gray-700 hover:bg-gray-700 transition-colors",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 text-gray-300",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})})})]}),h.jsx("h1",{className:"text-2xl font-semibold text-white mb-1",children:n.nickname}),h.jsxs("p",{className:"text-sm text-gray-400",children:[se(n),"  ",n.city||"Sem cidade",", ",n.region]}),n.accountType==="USER"&&h.jsxs(An,{to:"/singles/preferences",className:"mt-4 px-4 py-2 bg-gray-800 rounded-full text-xs font-bold text-gray-300 hover:bg-gray-700 flex items-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"})}),"Preferncias"]})]}),h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Alcunha"}),h.jsx("input",{type:"text",value:u,onChange:z=>m(z.target.value),className:"w-full bg-gray-900 border border-gray-800 text-white rounded-xl px-4 py-3 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-colors",placeholder:n.accountType==="USER"?"O teu nome de utilizador":"A vossa alcunha"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Cidade"}),h.jsx("input",{type:"text",value:y,onChange:z=>g(z.target.value),className:"w-full bg-gray-900 border border-gray-800 text-white rounded-xl px-4 py-3 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-colors",placeholder:"Ex: Lisboa"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Regio"}),h.jsx("input",{type:"text",value:v,onChange:z=>x(z.target.value),className:"w-full bg-gray-900 border border-gray-800 text-white rounded-xl px-4 py-3 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-colors",placeholder:"Ex: Lisboa e Vale do Tejo"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 ml-1",children:n.accountType==="USER"?"Sobre Ti":"Sobre Vocs"}),h.jsx("textarea",{rows:4,value:w,onChange:z=>I(z.target.value),className:"w-full bg-gray-900 border border-gray-800 text-white rounded-2xl px-4 py-3 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-colors resize-none",placeholder:n.accountType==="USER"?"Escreve algo sobre ti e o que procuras...":"Escrevam algo sobre o que procuram..."})]})]}),h.jsxs("div",{className:"mt-8 space-y-4",children:[P&&h.jsx("div",{className:"p-3 bg-red-900/30 border border-red-900/50 rounded-lg text-red-400 text-sm text-center",children:P}),H&&h.jsx("div",{className:"p-3 bg-emerald-900/30 border border-emerald-900/50 rounded-lg text-emerald-400 text-sm text-center animate-fade-in",children:"Alteraes guardadas com sucesso!"}),h.jsx("button",{className:`w-full py-3.5 rounded-full font-bold text-black transition-all shadow-lg ${O?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-emerald-500 hover:bg-emerald-400 hover:shadow-emerald-500/20 active:scale-[0.98]"}`,onClick:ae,disabled:O,children:O?"A guardar...":"Guardar alteraes"})]})]})})}const N5=n=>{const[e,t]=N.useState(null),[r,a]=N.useState(!0),[l,u]=N.useState(null);return N.useEffect(()=>{let m=!0;return(async()=>{if(!n){a(!1);return}console.log(`[DEBUG HOOK] useProfile loading profileId=${n}`),a(!0);try{const g=et(De,"profiles",n),v=await Mn(g);m&&(v.exists()?(t(v.data()),console.log(`[DEBUG HOOK] useProfile loaded profileId=${n}`,v.data())):(console.warn(`[DEBUG HOOK] useProfile: No profile found for profileId=${n}`),u("Este perfil no foi encontrado."),t(null)))}catch(g){console.error(`[ERROR HOOK] useProfile error for profileId=${n}`,g),m&&u("Ocorreu um erro ao carregar o perfil.")}finally{m&&a(!1)}})(),()=>{m=!1}},[n]),{profile:e,loading:r,error:l}},R5=n=>{try{const e=new Date(n),t=Date.now()-e.getTime(),r=new Date(t);return Math.abs(r.getUTCFullYear()-1970)}catch{return null}},k5=()=>h.jsxs("div",{className:"max-w-4xl mx-auto p-4 animate-pulse",children:[h.jsx("div",{className:"w-full h-96 bg-slate-800/80 rounded-xl mb-6"}),h.jsx("div",{className:"h-10 bg-slate-800/80 rounded w-1/2 mb-4"}),h.jsx("div",{className:"h-6 bg-slate-800/80 rounded w-1/4 mb-8"}),h.jsx("div",{className:"h-20 bg-slate-800/80 rounded w-full mb-8"})]}),I5=()=>{const{userId:n}=yf(),e=It(),{profile:t,loading:r,error:a}=N5(n),l=()=>console.log("Ao: Gostar"),u=()=>console.log("Ao: Enviar Mensagem"),m=()=>console.log("Ao: Bloquear"),y=()=>console.log("Ao: Denunciar");if(r)return h.jsx("div",{className:"min-h-screen bg-slate-950 text-white p-8",children:h.jsx(k5,{})});if(a||!t)return h.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4",children:[h.jsx("p",{className:"text-xl text-red-400 bg-red-900/30 border border-red-500/40 rounded-lg px-4 py-3 text-center mb-6",children:a||"Este perfil no foi encontrado."}),h.jsx("button",{onClick:()=>e(-1),className:"bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 px-4 rounded",children:"Voltar"})]});const g=t.birthDate?R5(t.birthDate):null,v=[t.city,t.country?.toUpperCase()].filter(Boolean).join(", ");return h.jsx(h.Fragment,{children:h.jsx("div",{className:"min-h-screen bg-slate-950 text-white py-12 px-4",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("button",{onClick:()=>e(-1),className:"text-slate-400 hover:text-slate-200 mb-6",children:" Voltar"}),h.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl overflow-hidden",children:[h.jsx("div",{className:"relative p-6 md:p-8 bg-slate-800/50",children:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[h.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden border-4 border-slate-700",children:h.jsx("img",{src:t.mainPhotoUrl||"https://via.placeholder.com/150",alt:t.nickname,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"text-center sm:text-left",children:[h.jsx("div",{className:"flex items-center gap-4 justify-center sm:justify-start",children:h.jsx("h1",{className:"text-4xl font-bold text-white",children:t.nickname})}),h.jsx("p",{className:"text-xl text-slate-300 mt-1",children:g?`${g} anos`:""}),v&&h.jsxs("div",{className:"flex items-center text-slate-400 mt-2 justify-center sm:justify-start",children:[h.jsx(Yu,{className:"w-5 h-5 mr-2"}),h.jsx("span",{children:v})]})]}),h.jsx("div",{className:"flex-grow"}),t.verified&&h.jsxs("span",{className:"flex items-center gap-1 text-cyan-400 self-start sm:self-center",children:[h.jsx(F3,{size:18})," Verificado"]})]})}),h.jsxs("div",{className:"p-6 md:p-8",children:[t.bio&&h.jsxs("div",{className:"mt-8",children:[h.jsx("h2",{className:"text-sm uppercase tracking-wider font-semibold text-slate-500 mb-3",children:"Sobre"}),h.jsx("p",{className:"text-slate-300 text-lg leading-relaxed whitespace-pre-wrap",children:t.bio})]}),t.interests&&t.interests.length>0&&h.jsxs("div",{className:"mt-8",children:[h.jsx("h2",{className:"text-sm uppercase tracking-wider font-semibold text-slate-500 mb-3",children:"Interesses"}),h.jsx("div",{className:"flex flex-wrap gap-3",children:t.interests.map(x=>h.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 border border-slate-700 rounded-full text-sm font-medium",children:x},x))})]}),h.jsxs("div",{className:"mt-12 pt-6 border-t border-slate-800 flex flex-wrap gap-4",children:[h.jsx("button",{onClick:l,className:"flex-1 bg-rose-600 hover:bg-rose-500 text-white font-bold py-3 px-6 rounded-lg",children:"Gostar"}),h.jsx("button",{onClick:u,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-6 rounded-lg",children:"Mensagem"}),h.jsx("button",{onClick:m,className:"flex-shrink-0 bg-slate-800 hover:bg-slate-700 text-slate-400 py-3 px-4 rounded-lg",children:"Bloquear"}),h.jsx("button",{onClick:y,className:"flex-shrink-0 bg-slate-800 hover:bg-slate-700 text-slate-400 py-3 px-4 rounded-lg",children:"Denunciar"})]})]})]})]})})})},D5=async n=>{const e=ba(jP(De,"registrations"),Rr("profileId","==",n));return(await mi(e)).docs.map(r=>({id:r.id,...r.data()}))},O5=({registration:n})=>h.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg border border-slate-700",children:[h.jsxs("p",{className:"text-white",children:["ID do Registo: ",n.id]}),h.jsxs("p",{className:"text-slate-300",children:["Estado: ",h.jsx("span",{className:"font-bold",children:n.status})]}),h.jsxs("p",{className:"text-slate-400",children:["Pessoas: ",n.numPeople]})]}),P5=()=>{const{profile:n}=Or(),[e,t]=N.useState([]),[r,a]=N.useState(!0);return N.useEffect(()=>{n&&D5(n.id).then(l=>{t(l),a(!1)}).catch(l=>{console.error("Failed to fetch registrations:",l),a(!1)})},[n]),r?h.jsx("div",{className:"p-8 text-white",children:"A carregar as suas reservas..."}):h.jsxs("div",{className:"max-w-4xl mx-auto p-8 text-white",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6",children:"As Minhas Reservas"}),e.length>0?h.jsx("div",{className:"space-y-4",children:e.map(l=>h.jsx(O5,{registration:l},l.id))}):h.jsx("p",{className:"text-slate-400",children:"Ainda no tem reservas para eventos."})]})};function j5(){const n=It(),[e,t]=Js(Lt),[r,a]=N.useState(!0),l=N.useRef(!1),u=N.useRef(!1);N.useEffect(()=>{const y=setTimeout(()=>{console.log("[ChooseAccountType] Safety timer triggered - showing UI"),a(!1)},1e3);if(t)return;if(!e){u.current||(u.current=!0,n("/login",{replace:!0}));return}return l.current?void 0:(l.current=!0,(async()=>{try{console.log("[ChooseAccountType] checking profile...");const v=et(De,"profiles",e.uid),x=await Mn(v);if(x.exists()){let I=x.data().accountType;if(I==="SINGLE"&&(I="USER"),I==="USER"){u.current||(u.current=!0,n("/singles",{replace:!0}));return}if(I==="COUPLE"){u.current||(u.current=!0,n("/explore",{replace:!0}));return}}}catch(v){console.warn("[ChooseAccountType] Firestore check failed:",v)}finally{u.current||a(!1)}})(),()=>clearTimeout(y))},[e,t,n]);const m=y=>{e&&(y==="SINGLE"?n("/onboarding-single",{replace:!0}):n("/onboarding",{replace:!0}))};return r||t?h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:h.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[h.jsx("div",{className:"h-12 w-12 bg-pink-600 rounded-full mb-4"}),h.jsx("p",{className:"text-gray-400",children:"A verificar a sua conta..."})]})}):h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Como queres usar o XLife?"}),h.jsx("p",{className:"text-gray-400 mb-8",children:"Escolhe se queres entrar como utilizador individual ou como casal. Podes alterar isto mais tarde nas definies."}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("button",{onClick:()=>m("SINGLE"),className:"rounded-3xl border border-pink-500/60 bg-gray-950/80 p-6 hover:border-pink-400 hover:bg-gray-900 transition",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Conta Single"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Perfil individual para quem entra sozinho ou quer explorar primeiro."})]}),h.jsxs("button",{onClick:()=>m("COUPLE"),className:"rounded-3xl border border-emerald-500/60 bg-gray-950/80 p-6 hover:border-emerald-400 hover:bg-gray-900 transition",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Conta Casal"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Perfil partilhado para casais que querem explorar juntos."})]})]})]})})}function M5(){const[n,e]=N.useState(!1),[t,r]=N.useState(""),a=u=>{const m=["Joo","Pedro","Tiago","Rui","Andr","Miguel","Carlos","Nuno","Gonalo","Diogo","Ricardo","Hugo","Vasco","Lus","Bruno","Manuel","Antnio","Jos"],y=["Ana","Maria","Sofia","Ins","Joana","Beatriz","Carolina","Marta","Rita","Cludia","Mariana","Teresa","Francisca","Patrcia","Catarina","Isabel","Helena"],g=["Alex","Dani","Jordan","Casey","Sam","Cris","Robin"],v=["Silva","Santos","Ferreira","Pereira","Oliveira","Costa","Rodrigues","Martins","Jesus","Sousa","Fernandes","Gonalves","Gomes","Lopes","Marques","Almeida","Pinto"];let x="";u==="M"?x=m[Math.floor(Math.random()*m.length)]:u==="F"?x=y[Math.floor(Math.random()*y.length)]:x=g[Math.floor(Math.random()*g.length)];const w=v[Math.floor(Math.random()*v.length)];return`${x} ${w}`},l=async u=>{if(confirm(`Criar ${u} singles de teste?`)){e(!0),r("A criar singles...");try{const m=["Lisboa","Porto","Coimbra","Faro","Braga","Aveiro","Viseu","Setbal","vora","Leiria"],y=["Lisboa","Norte","Centro","Algarve","Norte","Centro","Centro","Lisboa","Alentejo","Centro"],g=["https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1615109398623-88346a601842?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1566492031773-4f4e44671857?w=500&h=600&fit=crop"],v=["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1517841905240-472988babdf9?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=500&h=600&fit=crop"],x=["Viagens","Cinema","Praia","Jantares","Desporto","Msica","Dana","Leitura","Fotografia","Natureza","Jogos","Vinho"];for(let w=0;w<u;w++){const I=Math.random();let O="F";I<.45?O="M":I>.9&&(O="NB");const D=Math.floor(Math.random()*m.length),P=O==="M"?g:v,B=Ws.map(C=>C.id),H=B[Math.floor(Math.random()*B.length)],ae=[...x].sort(()=>.5-Math.random()).slice(0,3+Math.floor(Math.random()*3)),se={accountType:"USER",nickname:a(O),gender:O,ageRange:H,city:m[D],region:y[D],description:`Ol! Sou single (${O}) e procuro conhecer pessoas novas na zona de ${m[D]}. Gosto de ${ae[0].toLowerCase()} e ${ae[1].toLowerCase()}.`,mainPhotoUrl:P[Math.floor(Math.random()*P.length)],interests:ae,verificationStatus:Math.random()>.3?"OFFICIAL":"NONE",privacySettings:{visibleInSingles:!0,visibleInExplore:!0,allowMessagesFromSingles:!0,allowMessagesFromCouples:!0,showCity:!0,showRegion:!0,showCountry:!0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},z=et(Qn(De,"profiles"));await gi(z,{...se,id:z.id})}r(`Sucesso! ${u} singles criados com diversidade.`)}catch(m){console.error(m),r(`Erro: ${m}`)}finally{e(!1)}}};return h.jsxs("div",{className:"p-8 bg-gray-900 min-h-screen text-white",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6 text-red-500",children:"Ferramentas de Debug (DEV ONLY)"}),h.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border border-gray-700 space-y-4 max-w-md",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Gerar Dados de Teste"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Cria perfis falsos na base de dados para testar a aplicao."}),t&&h.jsx("div",{className:`p-3 rounded text-sm ${t.includes("Erro")?"bg-red-900/50 text-red-200":"bg-green-900/50 text-green-200"}`,children:t}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsx("button",{onClick:()=>l(10),disabled:n,className:"w-full bg-pink-600 hover:bg-pink-700 py-3 px-4 rounded-lg font-bold shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?"A criar...":"Criar 10 Singles (Diversos)"}),h.jsx("button",{onClick:()=>l(50),disabled:n,className:"w-full bg-purple-600 hover:bg-purple-700 py-3 px-4 rounded-lg font-bold shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?"A criar...":"Criar 50 Singles (Diversos)"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-4 border-t border-gray-700 pt-4",children:"Gera perfis com diferentes idades (18-60+), gneros e regies para testar todos os filtros."})]})]})}function L5(){return h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:h.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[h.jsx("div",{className:"h-12 w-12 rounded-full bg-pink-600 mb-4"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"A verificar sesso..."})]})})}function ri({children:n,allowedAccountTypes:e}){const[t,r]=Js(Lt),a=pi(),[l,u]=N.useState(!!e),[m,y]=N.useState(null);if(N.useEffect(()=>{if(r||!t||!e)return;let g=!0;return(async()=>{try{const x=et(De,"profiles",t.uid),w=await Mn(x);if(!g)return;if(w.exists()){const O=w.data().accountType||null;y(O)}}catch(x){console.error("[RequireAuth] Error checking profile:",x)}finally{g&&u(!1)}})(),()=>{g=!1}},[t,r,e]),r||l)return h.jsx(L5,{});if(!t)return h.jsx(Sl,{to:"/login",state:{from:a},replace:!0});if(e&&e.length>0){const g=m==="SINGLE"?"USER":m;if(!g||!e.includes(g)){if(!m)return h.jsx(Sl,{to:"/choose-account-type",replace:!0});const v=g==="USER"?"/singles":"/explore";return h.jsx(Sl,{to:v,replace:!0})}}return n?h.jsx(h.Fragment,{children:n}):h.jsx(vf,{})}function V5(){const{t:n}=Ut(),e=It(),t=()=>{Lt.signOut(),e("/login")},r=()=>{e(-1)};return h.jsx("header",{className:"bg-gray-900/80 backdrop-blur-sm text-white p-4 shadow-md sticky top-0 z-40 border-b border-gray-800",children:h.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-white transition-colors","aria-label":"Voltar",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})}),h.jsx(An,{to:"/explore",className:"text-2xl font-bold text-pink-500",children:"XLife"})]}),h.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[h.jsx(An,{to:"/explore",className:"text-base hover:text-pink-500 transition-colors",children:n("header.explore")}),h.jsx(An,{to:"/events",className:"text-base hover:text-pink-500 transition-colors",children:n("header.events")}),h.jsx(An,{to:"/clubs",className:"text-base hover:text-pink-500 transition-colors",children:n("header.clubs")}),h.jsx(An,{to:"/settings",className:"text-base hover:text-pink-500 transition-colors",children:n("header.settings")})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"relative group",children:[h.jsx("button",{className:"text-sm text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:"Language"}),h.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-xl p-2 hidden group-hover:block",children:h.jsx(p1,{small:!0,className:"flex-col"})})]}),h.jsx("button",{onClick:t,className:"text-sm text-gray-400 hover:text-white transition-colors",children:n("header.logout")})]})]})})}function U5(){const[n,e]=N.useState(navigator.onLine);return N.useEffect(()=>{const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",r),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}},[]),{isOnline:n}}function z5(){const{isOnline:n}=U5();return n?null:h.jsx("div",{className:"bg-red-800 text-white text-center p-2 text-sm",children:"Sem ligao  internet. Algumas funcionalidades podem no funcionar."})}function F5(){return N.useEffect(()=>{console.log("[DEBUG] MainLayout mounted")},[]),h.jsxs("div",{className:"min-h-screen bg-black",children:[h.jsx(z5,{}),h.jsx(V5,{}),h.jsx("main",{children:h.jsx(vf,{})})]})}function B5(){const[n,e]=Js(Lt),[t,r]=N.useState(null),[a,l]=N.useState(!0);return N.useEffect(()=>{console.log("[DEBUG] SinglesLayout mounted"),n?(async()=>{try{const m=et(De,"profiles",n.uid),y=await Mn(m);y.exists()&&r(y.data())}catch(m){console.error("Error fetching profile:",m)}finally{l(!1)}})():l(!1)},[n]),e||a?h.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Carregando..."}):n&&t&&t.accountType==="COUPLE"?h.jsx(Sl,{to:"/explore",replace:!0}):h.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[h.jsxs("header",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 sticky top-0 z-50",children:[h.jsx(An,{to:"/singles/profile",className:"p-2 text-gray-400 hover:text-white transition-colors",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})})}),h.jsx("div",{className:"flex items-center space-x-2",children:h.jsx(An,{to:"/singles",className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-purple-500",children:"XLife"})}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(An,{to:"/singles/explore",className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Explorar",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),h.jsx(An,{to:"/singles/matches",className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Matches",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})})})]})]}),h.jsx("main",{className:"flex-1 relative overflow-hidden",children:h.jsx(vf,{})})]})}function q5(){const{t:n}=Ut(),e=It(),[t,r]=Js(Lt);if(N.useEffect(()=>{!r&&!t&&e("/login")},[t,r,e]),r)return h.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."});const a=({isActive:l})=>`flex-1 py-4 text-center text-sm font-medium border-b-2 transition-colors ${l?"border-pink-500 text-pink-500":"border-transparent text-gray-400 hover:text-white hover:border-gray-700"}`;return h.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[h.jsxs("header",{className:"bg-gray-900 border-b border-gray-800 sticky top-0 z-20",children:[h.jsxs("div",{className:"flex items-center h-16 px-4 relative justify-center",children:[h.jsx("button",{onClick:()=>e(-1),className:"absolute left-4 p-2 text-gray-400 hover:text-white",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})}),h.jsx("h1",{className:"text-lg font-bold",children:n("settings.title")})]}),h.jsxs("nav",{className:"flex border-b border-gray-800",children:[h.jsx(Rh,{to:"/settings/account",className:a,children:n("settings.tab.account")}),h.jsx(Rh,{to:"/settings/privacy",className:a,children:n("settings.tab.privacy")}),h.jsx(Rh,{to:"/settings/security",className:a,children:n("settings.tab.security")})]})]}),h.jsx("div",{className:"flex-1 p-4 max-w-3xl mx-auto w-full",children:h.jsx(vf,{})})]})}function H5(){return N.useEffect(()=>{console.log("[DEBUG] App mounted  routes are configured")},[]),h.jsx(h.Fragment,{children:h.jsxs(aR,{children:[h.jsx(it,{path:"/",element:h.jsx(VR,{})}),h.jsx(it,{path:"/login",element:h.jsx(PL,{})}),h.jsx(it,{path:"/register",element:h.jsx(jL,{})}),h.jsx(it,{path:"/forgot-password",element:h.jsx(ML,{})}),h.jsx(it,{path:"/choose-account-type",element:h.jsx(ri,{children:h.jsx(j5,{})})}),h.jsx(it,{path:"/onboarding",element:h.jsx(ri,{allowedAccountTypes:["COUPLE","CLUB","ORGANIZER"],children:h.jsx(WL,{})})}),h.jsx(it,{path:"/onboarding-single",element:h.jsx(ri,{allowedAccountTypes:["USER"],children:h.jsx(v3,{})})}),h.jsxs(it,{path:"/settings",element:h.jsx(ri,{children:h.jsx(q5,{})}),children:[h.jsx(it,{index:!0,element:h.jsx(Sl,{to:"account",replace:!0})}),h.jsx(it,{path:"account",element:h.jsx(A3,{})}),h.jsx(it,{path:"privacy",element:h.jsx(C3,{})}),h.jsx(it,{path:"security",element:h.jsx(R3,{})})]}),h.jsx(it,{path:"/dev/debug",element:h.jsx(ri,{children:h.jsx(M5,{})})}),h.jsxs(it,{path:"/singles",element:h.jsx(ri,{allowedAccountTypes:["USER"],children:h.jsx(B5,{})}),children:[h.jsx(it,{index:!0,element:h.jsx(J3,{})}),h.jsx(it,{path:"explore",element:h.jsx(tV,{})}),h.jsx(it,{path:"preferences",element:h.jsx(nV,{})}),h.jsx(it,{path:"matches",element:h.jsx(sV,{})}),h.jsx(it,{path:"chat/:conversationId",element:h.jsx(iV,{})}),h.jsx(it,{path:"profile",element:h.jsx(ww,{})})]}),h.jsx(it,{path:"/profiles/:userId",element:h.jsx(ri,{children:h.jsx(I5,{})})}),h.jsxs(it,{element:h.jsx(ri,{allowedAccountTypes:["COUPLE","CLUB","ORGANIZER"],children:h.jsx(F5,{})}),children:[h.jsx(it,{path:"/explore",element:h.jsx(lV,{})}),h.jsx(it,{path:"/explore/singles",element:h.jsx(cV,{})}),h.jsx(it,{path:"/events",element:h.jsx(b5,{})}),h.jsx(it,{path:"/events/:eventId",element:h.jsx(x5,{})}),h.jsx(it,{path:"/clubs",element:h.jsx(w5,{})}),h.jsx(it,{path:"/clubs/:clubId",element:h.jsx(C5,{})}),h.jsx(it,{path:"/profile",element:h.jsx(ww,{})}),h.jsx(it,{path:"/my-reservations",element:h.jsx(P5,{})})]}),h.jsx(it,{path:"*",element:h.jsx(ri,{children:h.jsx(Sl,{to:"/",replace:!0})})})]})})}const Jp=n=>{const e=["Joo","Pedro","Tiago","Rui","Andr","Miguel","Carlos","Nuno","Gonalo","Diogo","Ricardo","Hugo","Vasco","Lus","Bruno","Manuel","Antnio","Jos"],t=["Ana","Maria","Sofia","Ins","Joana","Beatriz","Carolina","Marta","Rita","Cludia","Mariana","Teresa","Francisca","Patrcia","Catarina","Isabel","Helena"],r=["Alex","Dani","Jordan","Casey","Sam","Cris","Robin"],a=["Silva","Santos","Ferreira","Pereira","Oliveira","Costa","Rodrigues","Martins","Jesus","Sousa","Fernandes","Gonalves","Gomes","Lopes","Marques","Almeida","Pinto"];let l="";n==="M"?l=e[Math.floor(Math.random()*e.length)]:n==="F"?l=t[Math.floor(Math.random()*t.length)]:l=r[Math.floor(Math.random()*r.length)];const u=a[Math.floor(Math.random()*a.length)];return`${l} ${u}`},G5=()=>`${Jp("F").split(" ")[0]} & ${Jp("M").split(" ")[0]}`,pl=["Lisboa","Porto","Coimbra","Faro","Braga","Aveiro","Viseu","Setbal","vora","Leiria"],Tw=["Lisboa","Norte","Centro","Algarve","Norte","Centro","Centro","Lisboa","Alentejo","Centro"],$5=["https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1615109398623-88346a601842?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1566492031773-4f4e44671857?w=500&h=600&fit=crop"],Y5=["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1517841905240-472988babdf9?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=500&h=600&fit=crop"],Sw=["https://images.unsplash.com/photo-1621255476629-873b88b2e379?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1542596594-649edbc13630?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1516575334481-f85287c2c81d?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1544642899-f0d6e5f6ed6f?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1518536630857-41b4b0a4305f?w=500&h=600&fit=crop","https://images.unsplash.com/photo-1556157382-97eda2d62296?w=500&h=600&fit=crop"],Aw=["Viagens","Cinema","Praia","Jantares","Desporto","Msica","Dana","Leitura","Fotografia","Natureza","Jogos","Vinho"];window.seedFullDatabase=async()=>{console.log(" Starting full database seed (100 Singles + 100 Couples)...");const n=100,e=100;let t=0;try{for(let a=0;a<n;a++){const l=Math.random();let u="F";l<.45?u="M":l>.9&&(u="NB");const m=Math.floor(Math.random()*pl.length),y=u==="M"?$5:Y5,g=Ws.map(D=>D.id),v=g[Math.floor(Math.random()*g.length)],w=[...Aw].sort(()=>.5-Math.random()).slice(0,3+Math.floor(Math.random()*3)),I={accountType:"USER",nickname:Jp(u),gender:u,ageRange:v,city:pl[m],region:Tw[m],description:`Ol! Sou single (${u}) e procuro conhecer pessoas novas na zona de ${pl[m]}. Gosto de ${w[0].toLowerCase()} e ${w[1].toLowerCase()}.`,mainPhotoUrl:y[Math.floor(Math.random()*y.length)],interests:w,verificationStatus:Math.random()>.3?"OFFICIAL":"NONE",privacySettings:{visibleInSingles:!0,visibleInExplore:!0,allowMessagesFromSingles:!0,allowMessagesFromCouples:!0,showCity:!0,showRegion:!0,showCountry:!0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},O=et(Qn(De,"profiles"));await gi(O,{...I,id:O.id}),t++}console.log(` Created ${n} singles.`);for(let a=0;a<e;a++){const l=Math.floor(Math.random()*pl.length),u=Ws.map(w=>w.id),m=u[Math.floor(Math.random()*u.length)],g=[...Aw].sort(()=>.5-Math.random()).slice(0,3+Math.floor(Math.random()*3)),v={accountType:"COUPLE",nickname:G5(),relationshipType:"COUPLE",ageRange:m,city:pl[l],region:Tw[l],description:`Somos um casal divertido da zona de ${pl[l]}. Procuramos amizades e experincias novas.`,mainPhotoUrl:Sw[Math.floor(Math.random()*Sw.length)],interests:g,verificationStatus:Math.random()>.3?"OFFICIAL":"NONE",privacySettings:{visibleInSingles:!0,visibleInExplore:!0,allowMessagesFromSingles:!0,allowMessagesFromCouples:!0,showCity:!0,showRegion:!0,showCountry:!0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},x=et(Qn(De,"profiles"));await gi(x,{...v,id:x.id}),t++}console.log(` Created ${e} couples.`);const r=` SUCCESS! Created ${t} profiles total. Refresh the page.`;console.log(r),alert(r)}catch(r){console.error("Seed error:",r),alert("Error seeding database. Check console.")}};fN.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(RR,{children:h.jsx(S3,{children:h.jsx(H5,{})})})}));
